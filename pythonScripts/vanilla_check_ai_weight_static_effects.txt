vanilla_check_trait = {
	if = {
		limit = {
			is robot_pop = no
		}
		if = {
			limit = {
				has_trait = trait_syncretic_proles
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = food_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = -0.1
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = -0.25
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = -0.25
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = -0.25
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_presapient_earthbound
			}
			prev = {
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_presapient_natural_intellectuals
			}
			prev = {
				change_variable = {
					which = unity_mult_planet_pop
					value = 0.05
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = minerals_mult_planet_pop
					value = -0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_presapient_proles
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = food_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = -0.15
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = -0.15
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = -0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_agrarian
			}
			prev = {
				change_variable = {
					which = food_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_thrifty
			}
			prev = {
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_industrious
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_intelligent
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_natural_engineers
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_natural_physicists
			}
			prev = {
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_natural_sociologists
			}
			prev = {
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_traditional
			}
			prev = {
				change_variable = {
					which = unity_mult_planet_pop
					value = 0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_quarrelsome
			}
			prev = {
				change_variable = {
					which = unity_mult_planet_pop
					value = -0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_very_strong
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_strong
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.05
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_weak
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = -0.05
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_latent_psionic
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.05
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.05
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.05
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.05
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_psionic
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_nerve_stapled
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = food_mult_planet_pop
					value = 0.1
				}
				change_variable = {
					which = unity_mult_planet_pop
					value = -0.5
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = -0.5
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = -0.75
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = -0.75
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = -0.75
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_fertile
			}
			prev = {
				change_variable = {
					which = unity_mult_planet_pop
					value = 0.1
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_erudite
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.2
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.2
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.2
				}
			}
		}
	}
	if = {
		limit = {
			is robot_pop = yes
		}
		if = {
			limit = {
				has_trait = trait_robotic_1
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = -0.8
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = -0.8
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = -0.8
				}
				change_variable = {
					which = unity_mult_planet_pop
					value = -0.4
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = -0.4
				}
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robotic_2
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = -0.4
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = -0.4
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = -0.4
				}
				change_variable = {
					which = unity_mult_planet_pop
					value = -0.2
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = -0.2
				}
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robotic_3
			}
			prev = {
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.20
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.20
				}
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.20
				}
				change_variable = {
					which = unity_mult_planet_pop
					value = 0.20
				}
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.20
				}
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.20
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_power_drills
			}
			prev = {
				change_variable = {
					which = minerals_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_harvesters
			}
			prev = {
				change_variable = {
					which = food_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_logic_engines
			}
			prev = {
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.10
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_superconductive
			}
			prev = {
				change_variable = {
					which = energy_mult_planet_pop
					value = 0.10
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_propaganda_machines
			}
			prev = {
				change_variable = {
					which = unity_mult_planet_pop
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_awoken
			}
			prev = {
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.30
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.30
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.30
				}
			}
		}
		if = {
			limit = {
				has_trait = trait_robot_awoken_01
			}
			prev = {
				change_variable = {
					which = society_research_mult_planet_pop
					value = 0.30
				}
				change_variable = {
					which = physics_research_mult_planet_pop
					value = 0.30
				}
				change_variable = {
					which = engineering_research_mult_planet_pop
					value = 0.30
				}
			}
		}
	}
}
vanilla_check_planet_modifier = {
	if = {
		limit = {
			has_modifier = hazardous_weather
		}
		change_variable = {
			which = energy_mult
			value = 0.20
		}
	}
	if = {
		limit = {
			has_modifier = dangerous_wildlife
		}
		change_variable = {
			which = society_research_mult
			value = 0.20
		}
	}
	if = {
		limit = {
			has_modifier = strong_magnetic_field
		}
		change_variable = {
			which = energy_mult
			value = 0.05
		}
		change_variable = {
			which = physics_research_mult
			value = 0.05
		}
	}
	if = {
		limit = {
			has_modifier = unstable_tectonics
		}
		change_variable = {
			which = engineering_research_mult
			value = 0.20
		}
	}
	if = {
		limit = {
			has_modifier = asteroid_impacts
		}
		change_variable = {
			which = minerals_mult
			value = 0.05
		}
	}
	if = {
		limit = {
			has_modifier = extensive_moon_system
		}
		change_variable = {
			which = minerals_mult
			value = 0.10
		}
	}
	if = {
		limit = {
			has_modifier = carbon_world
		}
		change_variable = {
			which = minerals_mult
			value = 0.15
		}
	}
	if = {
		limit = {
			has_modifier = wild_storms
		}
		change_variable = {
			which = physics_research_mult
			value = 0.20
		}
	}
	if = {
		limit = {
			has_modifier = mineral_rich
		}
		change_variable = {
			which = minerals_mult
			value = 0.15
		}
	}
	if = {
		limit = {
			has_modifier = ultra_rich
		}
		change_variable = {
			which = minerals_mult
			value = 0.25
		}
	}
	if = {
		limit = {
			has_modifier = mineral_poor
		}
		change_variable = {
			which = minerals_mult
			value = -0.25
		}
	}
	if = {
		limit = {
			has_modifier = titanic_life
		}
		change_variable = {
			which = society_research_mult
			value = 0.25
		}
	}
	if = {
		limit = {
			has_modifier = asteroid_belt
		}
		change_variable = {
			which = minerals_mult
			value = 0.10
		}
	}
	if = {
		limit = {
			has_modifier = atmospheric_hallucinogen
		}
		change_variable = {
			which = physics_research_mult
			value = 0.10
		}
	}
	if = {
		limit = {
			has_modifier = atmospheric_hallucinogen_good
		}
		change_variable = {
			which = physics_research_mult
			value = 0.10
		}
	}
	if = {
		limit = {
			has_modifier = lush_planet
		}
		change_variable = {
			which = food_mult
			value = 0.20
		}
	}
	if = {
		limit = {
			has_modifier = bleak_planet
		}
		change_variable = {
			which = food_mult
			value = -0.10
		}
	}
	if = {
		limit = {
			has_modifier = irradiated_planet
		}
		change_variable = {
			which = food_mult
			value = -0.50
		}
	}
	if = {
		limit = {
			has_modifier = colony_enclaves
		}
		change_variable = {
			which = minerals_mult
			value = -0.3
		}
	}
	if = {
		limit = {
			has_modifier = primitive_reservation
		}
		change_variable = {
			which = minerals_mult
			value = -0.1
		}
	}
	if = {
		limit = {
			has_modifier = subterranean_civilization
		}
		change_variable = {
			which = society_research_mult
			value = 0.1
		}
	}
	if = {
		limit = {
			has_modifier = abandoned_terraforming
		}
		change_variable = {
			which = food_mult
			value = -0.2
		}
	}
	if = {
		limit = {
			has_modifier = assist_research
		}
		change_variable = {
			which = physics_research_mult
			value = 0.10
		}
		change_variable = {
			which = society_research_mult
			value = 0.10
		}
		change_variable = {
			which = engineering_research_mult
			value = 0.10
		}
	}
	if = {
		limit = {
			has_modifier = planet_uncertain_past
		}
		change_variable = {
			which = physics_research_mult
			value = 0.1
		}
		change_variable = {
			which = society_research_mult
			value = 0.1
		}
		change_variable = {
			which = engineering_research_mult
			value = 0.1
		}
	}
	if = {
		limit = {
			has_modifier = magnetic_research_boost
		}
		change_variable = {
			which = physics_research_mult
			value = 0.2
		}
		change_variable = {
			which = society_research_mult
			value = 0.2
		}
		change_variable = {
			which = engineering_research_mult
			value = 0.2
		}
	}
	if = {
		limit = {
			has_modifier = magnetic_disruption
		}
		change_variable = {
			which = physics_research_mult
			value = -0.1
		}
		change_variable = {
			which = society_research_mult
			value = -0.1
		}
		change_variable = {
			which = engineering_research_mult
			value = -0.1
		}
	}
	if = {
		limit = {
			has_modifier = forest_fire
		}
		change_variable = {
			which = food_mult
			value = -0.2
		}
	}
	if = {
		limit = {
			has_modifier = subterranean_tech_transaction
		}
		change_variable = {
			which = engineering_research_mult
			value = -0.30
		}
	}
	if = {
		limit = {
			has_modifier = drone_space_elevator
		}
		change_variable = {
			which = minerals_mult
			value = -0.2
		}
	}
	if = {
		limit = {
			has_modifier = pheromoned_2
		}
		change_variable = {
			which = minerals_mult
			value = -0.15
		}
	}
	if = {
		limit = {
			has_modifier = depheromoned_1
		}
		change_variable = {
			which = minerals_mult
			value = +0.10
		}
	}
	if = {
		limit = {
			has_modifier = pheromoned_4
		}
		change_variable = {
			which = minerals_mult
			value = +0.05
		}
	}
	if = {
		limit = {
			has_modifier = uplift_rocky
		}
		change_variable = {
			which = minerals_mult
			value = -0.05
		}
	}
	if = {
		limit = {
			has_modifier = unproductive_without_experiments
		}
		change_variable = {
			which = society_research_mult
			value = -0.20
		}
	}
	if = {
		limit = {
			has_modifier = unbalanced_ecosystem
		}
		change_variable = {
			which = food_mult
			value = -0.20
		}
	}
	if = {
		limit = {
			has_modifier = syndaw_congregating_robots
		}
		change_variable = {
			which = unity_mult
			value = -0.10
		}
	}
	if = {
		limit = {
			has_modifier = gas_rich_planet_fo_realz
		}
		change_variable = {
			which = energy_mult
			value = 0.5
		}
	}
	if = {
		limit = {
			has_modifier = horse_powered_factories_high
		}
		change_variable = {
			which = food_mult
			value = -0.1
		}
	}
	if = {
		limit = {
			has_modifier = society_animal_life
		}
		change_variable = {
			which = society_research_mult
			value = 0.25
		}
	}
	if = {
		limit = {
			has_modifier = syndaw_research_malus
		}
		change_variable = {
			which = society_research_mult
			value = -0.10
		}
	}
	if = {
		limit = {
			has_modifier = enclave_artist_festival_outrage
		}
		change_variable = {
			which = energy_mult
			value = -0.10
		}
	}
}
vanilla_check_pop_modifier = {
	if = {
		limit = {
			has_modifier = pop_enslaved
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = 0.10
			}
			change_variable = {
				which = food_mult_planet_pop
				value = 0.10
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.33
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.75
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.75
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.75
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.75
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_enslaved_domestic
		}
		prev = {
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.33
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.75
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.75
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.75
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_enslaved_military
		}
		prev = {
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.15
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.5
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.5
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.5
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.15
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_purging_labor_camps
		}
		prev = {
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.50
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -1
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -1
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -1
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -1
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_5
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.70
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.70
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.70
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.70
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.70
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.70
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_4
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.55
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.55
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.55
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.55
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.55
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.55
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_3
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.40
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_2
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.25
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_1
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.10
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.10
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.10
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.10
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.10
			}
			change_variable = {
				which = unity_mult_planet_pop
				value = -0.10
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_5_machine
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.40
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.40
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_ghost_signal_4_machine
		}
		prev = {
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.25
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_angered
		}
		prev = {
			change_variable = {
				which = society_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = minerals_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = -0.25
			}
			change_variable = {
				which = food_mult_planet_pop
				value = -0.25
			}
		}
	}
	if = {
		limit = {
			has_modifier = pop_pleased
		}
		prev = {
			change_variable = {
				which = society_research_mult_planet_pop
				value = 0.25
			}
			change_variable = {
				which = physics_research_mult_planet_pop
				value = 0.25
			}
			change_variable = {
				which = engineering_research_mult_planet_pop
				value = 0.25
			}
			change_variable = {
				which = minerals_mult_planet_pop
				value = 0.25
			}
			change_variable = {
				which = energy_mult_planet_pop
				value = 0.25
			}
			change_variable = {
				which = food_mult_planet_pop
				value = 0.25
			}
		}
	}
}
vanilla_check_buildings = {
	if = {
		limit = {
			has_building = building_power_hub_1
		}
		prev = {
			change_variable = {
				which = energy_mult_planet_base
				value = 0.10
			}
		}
		else = {
			if = {
				limit = {
					has_building = building_power_hub_2
				}
				prev = {
					change_variable = {
						which = energy_mult_planet_base
						value = 0.20
					}
				}
				else = {
					if = {
						limit = {
							has_building = building_mineral_processing_plant_1
						}
						prev = {
							change_variable = {
								which = minerals_mult_planet_base
								value = 0.10
							}
						}
						else = {
							if = {
								limit = {
									has_building = building_mineral_processing_plant_2
								}
								prev = {
									change_variable = {
										which = minerals_mult_planet_base
										value = 0.20
									}
								}
								else = {
									if = {
										limit = {
											has_building = building_hypercomms_forum
										}
										prev = {
											change_variable = {
												which = unity_mult_planet_base
												value = 0.10
											}
										}
										else = {
											if = {
												limit = {
													has_building = building_sacred_nexus
												}
												prev = {
													change_variable = {
														which = unity_mult_planet_base
														value = 0.10
													}
												}
												else = {
													if = {
														limit = {
															has_building = building_akx_worm_1
														}
														prev = {
															change_variable = {
																which = energy_mult_planet_base
																value = 0.25
															}
														}
														else = {
															if = {
																limit = {
																	has_building = building_system_conflux
																}
																prev = {
																	change_variable = {
																		which = unity_mult_planet_base
																		value = 0.10
																	}
																}
																else = {
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
vanilla_check_adjacency = {
	every_neighboring_tile = {
		if = {
			limit = {
				has_building = building_capital_1
			}
			prevprev = {
				change_variable = {
					which = minerals_weight
					value = 1
				}
				change_variable = {
					which = food_weight
					value = 1
				}
				change_variable = {
					which = energy_weight
					value = 1
				}
			}
			else = {
				if = {
					limit = {
						has_building = building_capital_2
					}
					prevprev = {
						change_variable = {
							which = minerals_weight
							value = 2
						}
						change_variable = {
							which = food_weight
							value = 2
						}
						change_variable = {
							which = energy_weight
							value = 2
						}
					}
					else = {
						if = {
							limit = {
								has_building = building_capital_3
							}
							prevprev = {
								change_variable = {
									which = minerals_weight
									value = 3
								}
								change_variable = {
									which = food_weight
									value = 3
								}
								change_variable = {
									which = energy_weight
									value = 3
								}
							}
							else = {
								if = {
									limit = {
										has_building = building_machine_capital_1
									}
									prevprev = {
										change_variable = {
											which = minerals_weight
											value = 1
										}
										change_variable = {
											which = energy_weight
											value = 1
										}
									}
									else = {
										if = {
											limit = {
												has_building = building_machine_capital_2
											}
											prevprev = {
												change_variable = {
													which = minerals_weight
													value = 2
												}
												change_variable = {
													which = energy_weight
													value = 2
												}
											}
											else = {
												if = {
													limit = {
														has_building = building_machine_capital_3
													}
													prevprev = {
														change_variable = {
															which = minerals_weight
															value = 3
														}
														change_variable = {
															which = energy_weight
															value = 3
														}
													}
													else = {
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
vanilla_check_blocker_adjacency = {
	every_neighboring_tile = {
		if = {
			limit = {
				has_blocker = tb_tribal_settlement
			}
			prevprev = {
				change_variable = {
					which = society_research_weight
					value = 1
				}
			}
			else = {
				if = {
					limit = {
						has_blocker = tb_wandering_forest_reserve
					}
					prevprev = {
						change_variable = {
							which = society_research_weight
							value = 3
						}
					}
					else = {
					}
				}
			}
		}
	}
}
