#do not change this file unless you know what you are doing, it contains effects used by the engine to perform various tasks.
make_mammalian = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_mammalian = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_mammalian = no				
				is_sapient = yes
			}	
			create_species = {
				name = this
				plural = this
				class = MAM
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}	
			prev = { 					
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_mammalian = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_mammalian = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_MAM
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}				
		}
	}	
}		
make_avian = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_avian = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_avian = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = AVI
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_avian = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_avian = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_AVI
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}		
		}
	}	
}	
make_molluscoid = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_molluscoid = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_molluscoid = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = MOL
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}				
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_molluscoid = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_molluscoid = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_MOL
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}		
		}
	}	
}	
make_fungoid = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_fungoid = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_fungoid = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = FUN
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_fungoid = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_fungoid = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_FUN
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}		
		}
	}	
}	
make_arthropoid = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_arthropoid = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_arthropoid = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = ART
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_arthropoid = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_arthropoid = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_ART
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}		
		}
	}	
}	
make_reptilian = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_reptilian = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_reptilian = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = REP
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_reptilian = no
				is_sapient = no
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_reptilian = no				
				is_sapient = no
			}				
			create_species = {
				name = this
				plural = this
				class = PRE_REP
				portrait = random
				homeworld = this
				traits = this
				sapient = no
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
			}		
		}
	}	
}	
make_humanoid = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_humanoid = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_humanoid = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = HUM
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
}	
make_plantoid = {
	while = { 
		limit = { 
			any_owned_pop = { 
				is_robot_pop = no
				is_plantoid = no
				is_sapient = yes
				NOT = { has_pop_flag = species_class_converted }
			}
		}	
		random_owned_pop = {
			limit = { 
				is_robot_pop = no
				is_plantoid = no				
				is_sapient = yes
			}				
			create_species = {
				name = this
				plural = this
				class = PLANT
				portrait = random
				homeworld = this
				traits = this
				sapient = yes
				is_mod = no
				immortal = no
			}					
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }	
					change_species = last_created
					set_timed_pop_flag = { flag = species_class_converted days = 1 }
				}
				owner = { change_dominant_species = last_created } 
			}		
		}
	}	
}	
remove_regular_planet_modifiers = {
	set_variable = { which = pm_points value = 0 }
	if = {
		limit = { has_modifier = hazardous_weather }
		remove_modifier = hazardous_weather
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = dangerous_wildlife }
		remove_modifier = dangerous_wildlife
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = weak_magnetic_field }
		remove_modifier = weak_magnetic_field
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = strong_magnetic_field }
		remove_modifier = strong_magnetic_field
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = unstable_tectonics }
		remove_modifier = unstable_tectonics
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = tidal_locked }
		remove_modifier = tidal_locked
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = chthonian_planet }
		remove_modifier = chthonian_planet
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = asteroid_impacts }
		remove_modifier = asteroid_impacts
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = extensive_moon_system }
		remove_modifier = extensive_moon_system
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = carbon_world }
		remove_modifier = carbon_world
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = wild_storms }
		remove_modifier = wild_storms
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = low_gravity }
		remove_modifier = low_gravity
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = high_gravity }
		remove_modifier = high_gravity
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = mineral_rich }
		remove_modifier = mineral_rich
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = ultra_rich }
		remove_modifier = ultra_rich
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = mineral_poor }
		remove_modifier = mineral_poor
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = titanic_life }
		remove_modifier = titanic_life
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = asteroid_belt }
		remove_modifier = asteroid_belt
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = natural_beauty }
		remove_modifier = natural_beauty
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = atmospheric_aphrodisiac }
		remove_modifier = atmospheric_aphrodisiac
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = atmospheric_hallucinogen }
		remove_modifier = atmospheric_hallucinogen
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = lush_planet }
		remove_modifier = lush_planet
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = bleak_planet }
		remove_modifier = bleak_planet
		change_variable = { which = pm_points value = 1 }
	}
	if = {
		limit = { has_modifier = irradiated_planet }
		remove_modifier = irradiated_planet
		change_variable = { which = pm_points value = 1 }
	}
}
check_habitability_trait_correspondence = {
	if = {
		limit = {
			prev = { is_planet_class = pc_continental }
			has_trait = "trait_pc_continental_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_tropical }
			has_trait = "trait_pc_tropical_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_ocean }
			has_trait = "trait_pc_ocean_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_desert }
			has_trait = "trait_pc_desert_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_arid }
			has_trait = "trait_pc_arid_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_savannah }
			has_trait = "trait_pc_savannah_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_arctic }
			has_trait = "trait_pc_arctic_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_alpine }
			has_trait = "trait_pc_alpine_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
	if = {
		limit = {
			prev = { is_planet_class = pc_tundra }
			has_trait = "trait_pc_tundra_preference"
		}
		set_timed_pop_flag = { flag = preference_correspondence days = 1 }
	}
}
remove_habitability_trait = {
	if = {
		limit = { has_trait = "trait_pc_continental_preference" }
		modify_species = { species = this remove_trait = trait_pc_continental_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_tropical_preference" }
		modify_species = { species = this remove_trait = trait_pc_tropical_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_ocean_preference" }
		modify_species = { species = this remove_trait = trait_pc_ocean_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_desert_preference" }
		modify_species = { species = this remove_trait = trait_pc_desert_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_arid_preference" }
		modify_species = { species = this remove_trait = trait_pc_arid_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_savannah_preference" }
		modify_species = { species = this remove_trait = trait_pc_savannah_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_arctic_preference" }
		modify_species = { species = this remove_trait = trait_pc_arctic_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_tundra_preference" }
		modify_species = { species = this remove_trait = trait_pc_tundra_preference }
	}
	if = {
		limit = { has_trait = "trait_pc_alpine_preference" }
		modify_species = { species = this remove_trait = trait_pc_alpine_preference }
	}
}
roll_mineral_deposit = {
	random_list = {
		40 = { add_deposit = d_mineral_deposit }
		30 = { add_deposit = d_rich_mineral_deposit }
		20 = { add_deposit = d_vast_mineral_deposit }
		10 = { add_deposit = d_immense_mineral_deposit }
	}
}
roll_energy_deposit = {
	random_list = {
		40 = { add_deposit = d_energy_deposit }
		30 = { add_deposit = d_rich_energy_deposit }
		20 = { add_deposit = d_vast_energy_deposit }
		10 = { add_deposit = d_immense_energy_deposit }
	}
}
roll_food_deposit = {
	random_list = {
		40 = { add_deposit = d_farmland_deposit }
		30 = { add_deposit = d_rich_farmland_deposit }
		20 = { add_deposit = d_vast_farmland_deposit }
		10 = { add_deposit = d_immense_farmland_deposit }
	}
}
roll_mixed_deposit = {
	random_list = {
		40 = { add_deposit = d_mineral_energy_deposit }
		10 = { add_deposit = d_rich_mineral_energy_deposit }
		40 = { add_deposit = d_mineral_food_deposit }
		10 = { add_deposit = d_rich_food_mineral_deposit }
	}
}
roll_society_research_deposit = {
	random_list = {
		40 = { add_deposit = d_society_deposit }
		30 = { add_deposit = d_rich_society_deposit }
		20 = { add_deposit = d_vast_society_deposit }
		10 = { add_deposit = d_immense_society_deposit }
	}
}
roll_physics_research_deposit = {
	random_list = {
		40 = { add_deposit = d_physics_deposit }
		30 = { add_deposit = d_rich_physics_deposit }
		20 = { add_deposit = d_vast_physics_deposit }
		10 = { add_deposit = d_immense_physics_deposit }
	}
}
roll_engineering_research_deposit = {
	random_list = {
		40 = { add_deposit = d_engineering_deposit }
		30 = { add_deposit = d_rich_engineering_deposit }
		20 = { add_deposit = d_vast_engineering_deposit }
		10 = { add_deposit = d_immense_engineering_deposit }
	}
}
make_planet_size_5 = {
	while = { 
		limit = { planet_size > 5 }
		change_planet_size = -1
	}	
}
make_planet_size_6 = {
	while = { 
		limit = { planet_size < 6 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 6 }
		change_planet_size = -1
	}	
}
make_planet_size_7 = {
	while = { 
		limit = { planet_size < 7 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 7 }
		change_planet_size = -1
	}	
}
make_planet_size_8 = {
	while = { 
		limit = { planet_size < 8 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 8 }
		change_planet_size = -1
	}	
}
make_planet_size_9 = {
	while = { 
		limit = { planet_size < 9 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 9 }
		change_planet_size = -1
	}	
}
make_planet_size_10 = {
	while = { 
		limit = { planet_size < 10 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 10 }
		change_planet_size = -1
	}	
}
make_planet_size_11 = {
	while = { 
		limit = { planet_size < 11 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 11 }
		change_planet_size = -1
	}	
}
make_planet_size_12 = {
	while = { 
		limit = { planet_size < 12 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 12 }
		change_planet_size = -1
	}	
}
make_planet_size_13 = {
	while = { 
		limit = { planet_size < 13 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 13 }
		change_planet_size = -1
	}	
}
make_planet_size_14 = {
	while = { 
		limit = { planet_size < 14 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 14 }
		change_planet_size = -1
	}	
}
make_planet_size_15 = {
	while = { 
		limit = { planet_size < 15 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 15 }
		change_planet_size = -1
	}	
}
make_planet_size_16 = {
	while = { 
		limit = { planet_size < 16 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 16 }
		change_planet_size = -1
	}	
}
make_planet_size_17 = {
	while = { 
		limit = { planet_size < 17 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 17 }
		change_planet_size = -1
	}	
}
make_planet_size_18 = {
	while = { 
		limit = { planet_size < 18 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 18 }
		change_planet_size = -1
	}	
}
make_planet_size_19 = {
	while = { 
		limit = { planet_size < 19 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 19 }
		change_planet_size = -1
	}	
}
make_planet_size_20 = {
	while = { 
		limit = { planet_size < 20 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 20 }
		change_planet_size = -1
	}	
}
make_planet_size_21 = {
	while = { 
		limit = { planet_size < 21 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 21 }
		change_planet_size = -1
	}	
}
make_planet_size_22 = {
	while = { 
		limit = { planet_size < 22 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 22 }
		change_planet_size = -1
	}	
}
make_planet_size_23 = {
	while = { 
		limit = { planet_size < 23 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 23 }
		change_planet_size = -1
	}	
}
make_planet_size_24 = {
	while = { 
		limit = { planet_size < 24 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 24 }
		change_planet_size = -1
	}	
}
make_planet_size_25 = {
	while = { 
		limit = { planet_size < 25 }
		change_planet_size = 1
	}	
	while = { 
		limit = { planet_size > 25 }
		change_planet_size = -1
	}	
}
change_habitability_trait_correspondence = {
	while = {
		limit = { any_owned_pop = { has_pop_flag = preference_correspondence } }
		random_owned_pop = {
			limit = { has_pop_flag = preference_correspondence }	
			prev = { 
				every_owned_pop = {
					limit = { is_same_species = prevprev }
					modify_species = {
						species = this
						ideal_planet_class = prev
						base = none
					}	
					remove_pop_flag = preference_correspondence
				}
				if = { 
					limit = { 
						exists = owner
						owner = { is_country_type = primitive }
					}	
					owner = { change_dominant_species = last_created }					
				}	
			}	
		}	
	}	
}		
remove_negative_planet_modifiers = {
	if = {
		limit = { has_modifier = atmospheric_hallucinogen }
		remove_modifier = atmospheric_hallucinogen
	}
	if = {
		limit = { has_modifier = atmospheric_aphrodisiac }
		remove_modifier = atmospheric_aphrodisiac
	}
	if = {
		limit = { has_modifier = bleak_planet }
		remove_modifier = bleak_planet
	}
	if = {
		limit = { has_modifier = wild_storms }
		remove_modifier = wild_storms
	}
	if = {
		limit = { has_modifier = asteroid_impacts }
		remove_modifier = asteroid_impacts
	}
	if = {
		limit = { has_modifier = unstable_tectonics }
		remove_modifier = unstable_tectonics
	}
	if = {
		limit = { has_modifier = weak_magnetic_field }
		remove_modifier = weak_magnetic_field
	}
	if = {
		limit = { has_modifier = hazardous_weather }
		remove_modifier = hazardous_weather
	}
	if = {
		limit = { has_modifier = dangerous_wildlife }
		remove_modifier = dangerous_wildlife
	}
	if = {
		limit = { has_modifier = irradiated_planet }
		remove_modifier = irradiated_planet
	}
	if = {
		limit = { has_modifier = abandoned_terraforming }
		remove_modifier = abandoned_terraforming
		owner = { end_event_chain = "abandoned_terraforming_chain" }
	}
}