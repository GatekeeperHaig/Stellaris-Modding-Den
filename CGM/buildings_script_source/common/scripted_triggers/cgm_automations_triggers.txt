 #this = planet
 #prev = tile
 #owner = country.
 #Check if any building of the type is available, including tech requ check. Can be left empty if there are non-unique buildings without tech requ in the category. 

### Adj. building effects 

energy_adjacency_any_building_available = { 
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.
		}
		AND = { 
			new_building_content_enabled = yes
			OR = { 
				has_capital_building = no 
				AND = { 
					prev = { has_any_tile_strategic_resource = no }
					NOR = {
						has_building = building_hyperstorage_facility_1
						has_building = building_hyperstorage_facility_2
						has_building = building_hyperstorage_facility_3
					}
					OR = {
						has_capital_1 = yes
						has_capital_2 = yes
						has_capital_3 = yes
						has_hab_capital = yes
					}	
					owner = { 
						has_technology = "tech_hyperstorage_1"
						OR = {
							minerals = @planet_unique_cost_1
							minerals > @planet_unique_cost_1
						}
					}
				}
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#energy_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#energy_adjacency_any_building_available_eutab = yes
		#}	
		
		#AND = { 
			#esc_enabled = yes
			#energy_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#energy_adjacency_any_building_available_ag = yes
		#}	
	}	
}

minerals_adjacency_any_building_available = { 
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.
		}
		AND ={ 
			new_building_content_enabled = yes
			OR = { 
				has_capital_building = no 
				AND = { 
					prev = { has_any_tile_strategic_resource = no }
					NOR = {
						has_building = building_hyperstorage_facility_1
						has_building = building_hyperstorage_facility_2
						has_building = building_hyperstorage_facility_3
					}
					OR = {
						has_capital_1 = yes
						has_capital_2 = yes
						has_capital_3 = yes
						has_hab_capital = yes
					}	
					owner = { 
						has_technology = "tech_hyperstorage_1"
						OR = {
							minerals = @planet_unique_cost_1
							minerals > @planet_unique_cost_1
						}
					}
				}
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#minerals_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#minerals_adjacency_any_building_available_eutab = yes
		#}	
		
		#AND = { 
			#esc_enabled = yes
			#minerals_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#minerals_adjacency_any_building_available_ag = yes
		#}	
	}	
}
food_adjacency_any_building_available = { 
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.			
		}
		AND ={ 
			new_building_content_enabled = yes			
			OR = { 
				has_capital_building = no 
				AND = { 
					prev = { has_any_tile_strategic_resource = no }
					NOR = {
						has_building = building_hyperstorage_facility_1
						has_building = building_hyperstorage_facility_2
						has_building = building_hyperstorage_facility_3
					}
					OR = {
						has_capital_1 = yes
						has_capital_2 = yes
						has_capital_3 = yes
						has_hab_capital = yes
					}	
					owner = { 
						has_technology = "tech_hyperstorage_1"
						OR = {
							minerals = @planet_unique_cost_1
							minerals > @planet_unique_cost_1
						}
					}
				}
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#food_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#food_adjacency_any_building_available_eutab = yes
		#}	
		
		#AND = { 
			#esc_enabled = yes
			#food_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#food_adjacency_any_building_available_ag = yes
		#}	
	}	
}
society_research_adjacency_any_building_available = {
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.
		}
		AND ={ 
			new_building_content_enabled = yes
			OR = { 
				has_capital_building = no 
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#society_research_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#society_research_adjacency_any_building_available_eutab = yes
		#}	
		
		#AND = { 
			#esc_enabled = yes
			#society_research_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#society_research_adjacency_any_building_available_ag = yes
		#}	
	}	
}
physics_research_adjacency_any_building_available = {
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.			
		}
		AND ={ 
			new_building_content_enabled = yes
			OR = { 
				has_capital_building = no 
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#physics_research_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#physics_research_adjacency_any_building_available_eutab = yes
		#}			
		#AND = { 
			#esc_enabled = yes
			#physics_research_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#physics_research_adjacency_any_building_available_ag = yes
		#}	
	}	
}
engineering_research_adjacency_any_building_available = {	
	OR = { 
		AND = { 
			prev = { has_any_tile_strategic_resource = no }
			new_building_content_enabled = no 
			has_capital_building = no #in case there is no capital building on the planet, can always build t0 capital.			
		}
		AND ={ 
			new_building_content_enabled = yes
			OR = { 
				has_capital_building = no 
				AND = {
					is_artificial = yes
					OR = {
						has_capital_3 = yes
						has_hab_capital = yes
					}						
					prev = { has_resource = { type = sr_megastructure_node amount > 0 } }
					owner = { 
						OR = { 
							has_ascension_perk = ap_voidborn 
							AND = { origin_civics_enabled = yes is_cbshing_voidborne_country = yes } 
							has_ascension_perk = ap_galactic_wonders 
							has_ascension_perk = ap_master_builders
						}
						OR = { 
							minerals = @megastructure_unique_t1_cost
							minerals > @megastructure_unique_t1_cost
						}	
					}
				}
			}	
		}			
		#AND = { 
			#alphamod_enabled = yes
			#engineering_research_adjacency_any_building_available_am = yes
		#}		
		#AND = { 
			#eutab_enabled = yes
			#engineering_research_adjacency_any_building_available_eutab = yes
		#}			
		#AND = { 
			#esc_enabled = yes
			#engineering_research_adjacency_any_building_available_esc = yes
		#}	
		#AND = { 
			#astrogeology_enabled = yes
			#engineering_research_adjacency_any_building_available_ag = yes
		#}	
	}	
}
 
food_any_building_available = { 
	OR = {
		prev = { has_any_tile_strategic_resource = no }
		owner = { 
			OR = { 
				is_food_delimited = no
				AND = { 
					is_food_delimited = yes	
					new_building_content_enabled = yes
					has_technology = "tech_biofuel_refining_1"
				}	
			}	
		}
	}
}	

energy_any_building_available = {
	OR = { 
		prev = { has_any_tile_strategic_resource = no }
		AND = { 
			prev = { has_resource = { type = sr_betharian amount > 0 } }
			owner = { 
				has_technology = "tech_mine_betharian"
				OR = { 
					minerals = @special_resource_building_cost
					minerals > @special_resource_building_cost
				}	
			}
		}
	}		
}
minerals_any_building_available = { prev = { has_any_tile_strategic_resource = no } }
society_research_any_building_available = {
	OR = { 
		prev = { has_any_tile_strategic_resource = no }
		AND = { 
			prev = { has_resource = { type = sr_alien_pets amount > 0 } }
			owner = { 
				has_technology = "tech_alien_life_studies"
				OR = { 
					minerals = @special_resource_building_cost
					minerals > @special_resource_building_cost
				}	
			}
		}
	}	
}
physics_research_any_building_available = { prev = { has_any_tile_strategic_resource = no }	}
engineering_research_any_building_available = { prev = { has_any_tile_strategic_resource = no } }

