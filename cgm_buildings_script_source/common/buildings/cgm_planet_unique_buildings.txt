### Planet Unique Resource Buildings

building_power_hub_1 = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180	
	cost = { minerals = 150 }	
	#requirements and upgrade
	potential = { conditions_power_hub_1 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_hub_1" }
	upgrades = { building_power_hub_2 }
	#resource output and modifiers	
	produced_resources = { energy = 2 }
	produced_resource_trigger = {
		modifier = {
			has_pursuit_of_profit = yes
			resources = { unity = 2	}
		}		
	}			
	planet_modifier = { tile_resource_energy_mult = 0.10 }	
	#ai restrictions and weights	
	ai_allow = { energy_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			has_deposit = energy_building_tile
		}
	}
}

building_power_hub_2 = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180	
	cost = { minerals = 200 }	
	#requirements and upgrade
	potential = { conditions_power_hub_2 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_hub_2" }
	#resource output and modifiers	
	#resource output and modifiers	
	produced_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = {
			has_pursuit_of_profit = yes
			resources = { unity = 2	}
		}		
	}			
	planet_modifier = { tile_resource_energy_mult = 0.20 }
	#ai restrictions and weights	
	ai_allow = { energy_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			has_deposit = energy_building_tile
		}
	}
}

building_akx_worm_1 = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 180
	is_listed = yes
	planet_unique = yes
	cost = { minerals = 120 }
	potential = { conditions_akx_worm_1 = yes } 
	prerequisites = { "tech_akx_worm_1" }	
	produced_resources = { energy = 6 }
	produced_resource_trigger = {		
		modifier = {
			overhauled_building_stats_enabled = yes
			has_pursuit_of_profit = yes
			resources = { unity = 2	}
		}		
	}			
	planet_modifier = { 		
		tile_resource_energy_mult = 0.25
		pop_happiness = -0.05
	}	
	#ai restrictions and weights	
	ai_allow = { energy_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			has_deposit = energy_building_tile
		}
	}
}

building_mineral_processing_plant_1 = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180	
	cost = { minerals = 150 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_mineral_processing_plant_1 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mineral_processing_1" }
	upgrades = { building_mineral_processing_plant_2 }
	#resource output and modifiers	
	produced_resources = { minerals = 2 }
	planet_modifier = { tile_resource_minerals_mult = 0.10 }
	#ai restrictions and weights	
	ai_allow = { minerals_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			has_deposit = minerals_building_tile
		}
	}
}

building_mineral_processing_plant_2 = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180	
	cost = { minerals = 150 }	
	required_resources = { energy = 3 }
	#requirements and upgrade
	potential = { conditions_mineral_processing_plant_2 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mineral_processing_2" }
	#resource output and modifiers	
	produced_resources = { minerals = 4 }
	planet_modifier = { tile_resource_minerals_mult = 0.20 }
	#ai restrictions and weights	
	ai_allow = { minerals_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			has_deposit = minerals_building_tile
		}
	}
}

### Pop Growth Building Chains

building_clinic = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 150 }	
	required_resources = { energy = 1 }
	#requirements and upgrade
	potential = { conditions_clinic = yes } 
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }		
	upgrades = { building_hospital }
	#resource output and modifiers	
	produced_resources = { 
		society_research = 2
		unity = 1
	}	
	triggered_planet_modifier = { 
		key = building_clinic
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.1 }
	}	
	triggered_planet_modifier = { 
		key = building_clinic
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.15 }
	}	
	#ai restrictions and weights	
	ai_allow = { 
		planet_in_sector = no
		society_and_unity_buildings_ai_allow_conditions = yes
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_pop_growth_building }
		}
	}
}

building_hospital = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360	
	cost = { minerals = 200 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_hospital = yes } 
	allow = { requires_capital_2 = yes	}
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	#resource output and modifiers	
	produced_resources = { 
		society_research = 4
		unity = 2
	}		
	triggered_planet_modifier = { 
		key = building_hospital
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.2 }
	}	
	triggered_planet_modifier = { 
		key = building_hospital
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.3 }
	}	
	#ai restrictions and weights	
	ai_allow = { 
		planet_in_sector = no
		society_and_unity_buildings_ai_allow_conditions = yes
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_pop_growth_building }
		}
	}
}

building_spare_parts_depot = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 150 }	
	required_resources = { energy = 1 }
	#requirements and upgrade
	potential = { conditions_spare_parts_depot = yes } 
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }		
	upgrades = { building_unit_assembly_plant }
	#resource output and modifiers	
	produced_resources = { 
		engineering_research = 2
		unity = 1
	}	
	triggered_planet_modifier = { 
		key = building_spare_parts_depot
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.15 }
	}	
	triggered_planet_modifier = { 
		key = building_spare_parts_depot
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.2 }
	}	
	#ai restrictions and weights	
	ai_allow = { 
		planet_in_sector = no
		engineering_and_unity_buildings_ai_allow_conditions = yes
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_pop_growth_building }
		}
	}
}

building_unit_assembly_plant = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360	
	cost = { minerals = 200 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_unit_assembly_plant = yes } 
	allow = { requires_capital_2 = yes	}
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	#resource output and modifiers	
	produced_resources = { 
		engineering_research = 4
		unity = 2
	}		
	triggered_planet_modifier = { 
		key = building_unit_assembly_plant
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}	
	triggered_planet_modifier = { 
		key = building_unit_assembly_plant
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}	
	#ai restrictions and weights	
	ai_allow = { 
		planet_in_sector = no
		engineering_and_unity_buildings_ai_allow_conditions = yes
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_pop_growth_building }
		}
	}
}

### Pop Enhancement Buildings

building_slave_processing = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 250 }	
	required_resources = { energy = 3 }
	#requirements and upgrade
	potential = { conditions_slave_processing = yes } 
	allow = { 
		requirement_slave_facility = yes
		requires_capital_1 = yes		
	}
	prerequisites = { "tech_neural_implants" }
	show_tech_unlock_if = { tech_unlock_conditions_slave_processing = no }
	destroy_if = { destroy_if_conditions_slave_processing = yes }	
	#resource output and modifiers	
	produced_resources = { 
		minerals = 2
		food = 2	
	}		
	planet_modifier = { 		
		slave_mineral_output = 0.10
		slave_food_output = 0.10
		country_unrest_unhappy_slave_effect_mult = -0.25		
	}		
	#ai restrictions and weights	
	ai_allow = { minerals_and_food_buildings_ai_allow = yes }	
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_slave_processing }
		}
	}
}

### Tradition and Civic Planet Unique Buildings

building_neuro_electric_amplifier = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 250 }	
	#requirements and upgrade
	potential = { conditions_neuro_electric_amplifier = yes } 
	allow = { requires_building_capital_1_or_hab = yes }
	destroy_if = { destroy_if_conditions_neuro_electric_amplifier = yes }	
	#resource output and modifiers	
	produced_resources = {
		minerals = 2
		energy = 2			
	}	
	planet_modifier_with_pop_trigger = {
		key = building_neuro_electric_amplifier
		potential = { 
			has_trait = trait_cybernetic
		}
		modifier = {
			tile_resource_minerals_mult = 0.15
			tile_resource_energy_mult = 0.15
		}
	}	
	#ai restrictions and weights	
	ai_allow = { energy_and_minerals_buildings_ai_allow = yes }	
	ai_weight = { 
		weight = 0
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_neuro_electric_amplifier }
		}
	}
}

building_control_center = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 250 }	
	#requirements and upgrade
	potential = { owner = { has_synchronicity_machine_center = yes } } 
	allow = { requires_building_capital_1_or_hab = yes }
	destroy_if = { 
		exists = owner
		owner = { has_synchronicity_machine_center = no }			
	}	
	#resource output and modifiers	
	produced_resources = {
		energy = 2
		unity = 2				
	}	
	planet_modifier = { 
		pop_robot_production_output = 0.05		
	}	
	#ai restrictions and weights	
	ai_allow = { control_center_ai_allow = yes }
	
	ai_weight = { 
		weight = 0
		modifier = {
			weight = 250
			planet = {
				count_pops = {
					limit = { is_robot_pop = yes }
					count > 3
				}	
			}				
		}
	}	
}

building_paradise_dome = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 360
	is_listed = yes
	planet_unique = yes
	cost = { minerals = 200 }
	potential = { owner = { has_utopian_dream = yes } }
	allow = { requires_building_capital_1_or_hab = yes }
	destroy_if = { 
		exists = owner
		owner = { has_utopian_dream = no }			
	}		
	required_resources = { energy = 2}
	#resource output and modifiers	
	produced_resources = {	
		unity = 2
	}
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { 				
				food = 4
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { 
				food = 2
			}
		}			
	}		
	planet_modifier = { 
		pop_citizen_happiness = 0.05
	}		
		
	#ai restrictions and weights	
	ai_allow = { food_and_unity_buildings_ai_allow = yes }	
	ai_weight = { weight = 250 }
}

building_visitor_center = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 270
	is_listed = yes
	planet_unique = yes
	cost = { minerals = 150 }
	potential = { owner = { has_diplomacy_alien_tourism = yes } }
	destroy_if = { 
		exists = owner
		owner = { has_diplomacy_alien_tourism = no }			
	}		
	#resource output and modifiers	
	produced_resources = {		
		unity = 2
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { 
				energy = 2
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = yes
			resources = { 
				energy = 4
			}
		}			
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = no
			resources = { 
				energy = 2
			}
		}					
	}		
	triggered_planet_modifier = { 
		key = building_visitor_center
		potential = { overhauled_building_stats_enabled = no }		
		modifier = { 
			planet_migration_xeno_pull = 0.50
			pop_environment_tolerance = 0.05
		}
	}		
	triggered_planet_modifier = { 
		key = building_visitor_center
		potential = { 
			overhauled_building_stats_enabled = yes
			is_xenophile = yes
		}
		modifier = { 
			planet_migration_xeno_pull = 1
			pop_environment_tolerance = 0.05
		}
	}			
	triggered_planet_modifier = { 
		key = building_visitor_center
		potential = { 
			overhauled_building_stats_enabled = yes
			is_xenophile = no
			is_xenophobe = no
		}
		modifier = { 
			pop_consumer_goods_mult = -0.05
			pop_environment_tolerance = 0.05
		}
	}				
	#ai restrictions and weights	
	ai_allow = { energy_and_unity_buildings_ai_allow = yes }	
	ai_weight = { weight = 250 }
}

building_hive_synapse = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 360
	is_listed = yes
	planet_unique = yes
	cost = { minerals = 250 }
	potential = { owner = { has_synchronicity_hive_mind_synapse = yes } }
	allow = { 
		if = { 
			limit = { overhauled_building_stats_enabled = yes } 
			requires_building_capital_1_or_hab = yes
		}
	}
	destroy_if = { 
		exists = owner
		owner = { has_synchronicity_hive_mind_synapse = no }			
	}		
	#resource output and modifiers	
	produced_resources = {
		energy = 2
		unity = 2
	}		
	planet_modifier = { 
		pop_resource_output = 0.05	
	}		
	#ai restrictions and weights	
	ai_allow = { energy_and_unity_buildings_ai_allow = yes }	
	ai_weight = { weight = 250 }
}

building_symbol_purity = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 240
	is_listed = yes
	planet_unique = yes
	cost = { minerals = 150 }
	potential = { owner = { has_purity_symbol_purity = yes } }
	allow = { 
		if = { 
			limit = { overhauled_building_stats_enabled = yes } 
			requires_building_capital_1_or_hab = yes
		}
	}
	destroy_if = { 
		exists = owner
		owner = { has_purity_symbol_purity = no }			
	}		
	#resource output and modifiers	
	planet_modifier = { 
		pop_government_ethic_attraction = 0.20	
	}		
	produced_resources = {
		unity = 4
	}	
	#ai restrictions and weights	
	ai_allow = { unity_buildings_ai_allow = yes	}	
	ai_weight = { weight = 250 }
}

### Other Planet Unique Buildings

building_akx_worm_2 = {
	#building defines
	tags = { planet_unique_building }
	base_buildtime = 180
	is_listed = yes
	planet_unique = yes
	prerequisites = { "tech_akx_worm_2" }
	cost = { minerals = 120 }
	allow = { allow_akx_worm_2 = yes }
	required_resources = { energy = 2}
	triggered_planet_modifier = { 
		potential = { overhauled_building_stats_enabled = no }
		modifier = { 
			pop_government_ethic_attraction = 0.05
			pop_happiness = 0.05
		}
	}		
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_stats_enabled = yes
			is_gestalt_consciousness = no		
		}
		modifier = { 
			pop_government_ethic_attraction = 0.05
			pop_happiness = 0.05
		}
	}		
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_stats_enabled = yes 
			is_gestalt_consciousness = yes
		}	
		modifier = { 
			pop_resource_output = 0.05
		}
	}		
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { society_research = 8 }
		}
	}		
	#ai restrictions and weights	
	ai_allow = { society_research_buildings_ai_allow = yes }		
	ai_weight = { 
		modifier = { 
			weight = 250 
			from = { has_planet_flag = build_loop_institute }
		}
	}
}