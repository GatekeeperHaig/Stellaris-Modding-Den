@lots = 10
@lotsandlots = 20

@infcosthigh = 50
@infcostmed = 25
@infcostlow = 10

@weightnormal = 1
@weightuseful = 2
@weightimportant = 5
@weightcritical = 10

@engcostcheap = 75
@engcostlow = 125
@engcostmed = 250
@engcosthigh = 400

@mincostcheap = 25
@mincostlow = 75
@mincostmed = 200
@mincosthigh = 350

@srlow = 1
@srmed = 2
@srhigh = 4

@buildquick = 90
@buildnormal = 180
@buildlong = 360
@buildhuge = 720

building_fuel_sourcer = {
	base_buildtime = @buildnormal
	
	cost = {
		minerals = @mincostlow
		energy = @engcostcheap
	}
	
	produced_resources = {
		minerals = 1
		energy = 1
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.03
	}
	
	potential = {
		planet = { any_tile = { has_natural_fuels_deposit = yes } }
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_natural_fuels_deposit"
			tile = { has_natural_fuels_deposit = yes }
		}		
	}
	
	ai_allow = {
		has_natural_fuels_deposit = yes
		OR = {
			has_resource = {
				type = energy
				amount > 0
			}
			has_resource = {
				type = minerals
				amount > 0
			}
		}
	}
	
	upgrades = {
		building_fuel_sourcer_2
	}
	
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1.5
			has_minerals_deposit = yes
		}
		modifier = {
			factor = 1.5
			has_energy_deposit = yes
		}
		modifier = {
			factor = 2
			has_minerals_deposit = yes
			has_energy_deposit = yes
		}
	}
}

building_fuel_sourcer_2 = {
	base_buildtime = @buildnormal
	is_listed = no
	
	cost = {
		minerals = @mincostlow
		energy = @engcostlow
	}
	
	produced_resources = {
		minerals = 1.5
		energy = 1.5
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.02
	}

	prerequisites = {
		"tech_alpha_natfuel_sourcing_2"
	}
	
	upgrades = {
		building_fuel_sourcer_3
	}
	
	ai_weight = {
		weight = 10
	}
}

building_fuel_sourcer_3 = {
	base_buildtime = @buildlong
	is_listed = no
	
	cost = {
		minerals = @mincostmed
		energy = @engcostlow
	}
	
	produced_resources = {
		minerals = 2
		energy = 2
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.01
	}
	
	prerequisites = {
		"tech_alpha_natfuel_sourcing_3"
	}
	
	ai_weight = {
		weight = 10
	}
}

building_fuel_refinery_0 = {
	base_buildtime = @buildnormal
	planet_unique = yes
	
	cost = {
		minerals = @mincostcheap
		energy = @engcostlow
	}

	produced_resources = {
		minerals = 1
		energy = 1
	}
	
	adjacency_bonus = {
		tile_building_resource_energy_add = 1
	}
	
	potential = {
		planet = {
			has_natural_fuels_sourcer = yes			
		}
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_fuel_sourcer"
			tile = {
				any_neighboring_tile = { has_natural_fuels_sourcer = yes }
			}
		}		
	}
	
	destroy_if = {
		tile = {
			not = { any_neighboring_tile = { has_natural_fuels_sourcer = yes } }
		}	
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.05
	}
	
	upgrades = {
		building_fuel_refinery
	}

	ai_replace = no
	
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1.5
			has_minerals_deposit = yes
		}
		modifier = {
			factor = 1.5
			has_energy_deposit = yes
		}
		modifier = {
			factor = 2
			has_minerals_deposit = yes
			has_energy_deposit = yes
		}
	}
}

building_fuel_refinery = {
	base_buildtime = @buildnormal
	planet_unique = yes
	is_listed = no
	
	cost = {
		minerals = @mincostlow
		energy = @engcostlow
	}

	produced_resources = {
		minerals = 2
		energy = 2
	}
	
	adjacency_bonus = {
		tile_building_resource_energy_add = 1
	}
	
	potential = {
		planet = {
			has_natural_fuels_sourcer = yes
		}
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_fuel_sourcer"
			tile = {
				any_neighboring_tile = { has_natural_fuels_sourcer = yes }
			}
		}		
	}
	
	destroy_if = {
		tile = {
			not = { any_neighboring_tile = { has_natural_fuels_sourcer = yes } }
		}	
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.03
	}
	
	upgrades = {
		building_fuel_refinery_2
	}

	ai_replace = no
	
	prerequisites = {
		"tech_alpha_natfuel_sourcing_2"
	}
	
	ai_weight = {
		weight = 10
	}
}

building_fuel_refinery_2 = {
	base_buildtime = @buildlong
	planet_unique = yes
	is_listed = no
	
	cost = {
		minerals = @mincostmed
		energy = @engcostlow
	}

	produced_resources = {
		minerals = 3
		energy = 3
	}
	
	adjacency_bonus = {
		tile_building_resource_energy_add = 1.5
		tile_building_resource_minerals_add = 1
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.02
	}

	ai_replace = no
	
	destroy_if = {
		tile = {
			not = { any_neighboring_tile = { has_natural_fuels_sourcer = yes } }
		}	
	}
	
	prerequisites = {
		"tech_alpha_natfuel_sourcing_3"
	}
	
	ai_weight = {
		weight = 10
	}
}

building_adv_natfuels_processor = {
	base_buildtime = @buildlong
	planet_unique = yes
	
	cost = {
		minerals = @mincostmed
		energy = @engcostlow
	}

	required_resources = {
	}
	
	produced_resources = {
		energy = 6
		minerals = 4
	}
	
	adjacency_bonus = {
		tile_building_resource_energy_add = 1.5
		tile_building_resource_minerals_add = 1.5
	}
	
	planet_modifier = {
		pop_environment_tolerance = -0.05
	}
	
	country_modifier = {
		max_energy = 500
		max_minerals = 250
	}
	
	potential = {
		planet = {
			has_natural_fuels_sourcer = yes			
		}
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_fuel_sourcer"
			tile = {
				any_neighboring_tile = { has_natural_fuels_sourcer = yes }
			}
		}		
	}
	
	destroy_if = {
		tile = {
			not = { any_neighboring_tile = { has_natural_fuels_sourcer = yes } }
		}	
	}

	ai_replace = no
	
	prerequisites = {
		"tech_alpha_natfuel_sourcing_3"
	}
	
	ai_weight = {
		weight = 50
	}
}

building_alpha_fuel_converter = {
	base_buildtime = @buildquick

	cost = {
		minerals = @mincostcheap
	}
	
	required_resources = {
	}

	produced_resources = {
		energy = 3
		minerals = 1
	}

	planet_modifier = {
		pop_environment_tolerance = -0.03
	}
	
	country_modifier = {
		max_energy = 250
	}
	
	upgrades = {
		building_alpha_fuel_converter_x
	}
	
	potential = {
		planet = {
			or = {
				has_building = building_fuel_refinery
				has_building = building_fuel_refinery_0
				has_building = building_fuel_refinery_2
			}
		}
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_fuel_refinery"
			tile = {
				any_neighboring_tile = {
					or = {
						has_building = building_fuel_refinery
						has_building = building_fuel_refinery_0
						has_building = building_fuel_refinery_2
					}
				}
			}
		}		
	}
	
	destroy_if = {
		tile = {
			not = { 
				any_neighboring_tile = { 
					or = {
						has_building = building_fuel_refinery
						has_building = building_fuel_refinery_0
						has_building = building_fuel_refinery_2
					}
				}
			}
		}	
	}
	
	ai_weight = {
		weight = 2
	}
}

building_alpha_fuel_converter_x = {
	base_buildtime = @buildnormal
	is_listed = no

	cost = {
		minerals = @mincostlow
	}
	
	required_resources = {
	}

	produced_resources = {
		energy = 4
		minerals = 2
	}

	planet_modifier = {
		pop_environment_tolerance = -0.02
	}
	
	country_modifier = {
		max_energy = 350
	}

	upgrades = {
		building_alpha_fuel_converter_xx
	}
	
	destroy_if = {
		tile = {
			not = { 
				any_neighboring_tile = { 
					or = {
						has_building = building_fuel_refinery
						has_building = building_fuel_refinery_0
						has_building = building_fuel_refinery_2
					}
				}
			}
		}	
	}
	
	prerequisites = {
		"tech_engineering_lab_1"
	}
	
	ai_weight = {
		weight = 5
	}
}

building_alpha_fuel_converter_xx = {
	base_buildtime = @buildnormal
	is_listed = no

	cost = {
		minerals = @mincostmed
	}
	
	required_resources = {
	}

	produced_resources = {
		energy = 5
		minerals = 3
	}

	planet_modifier = {
		pop_environment_tolerance = -0.01
	}
	
	country_modifier = {
		max_energy = 500
	}
	
	destroy_if = {
		tile = {
			not = { 
				any_neighboring_tile = { 
					or = {
						has_building = building_fuel_refinery
						has_building = building_fuel_refinery_0
						has_building = building_fuel_refinery_2
					}
				}
			}
		}	
	}
	
	prerequisites = {
		"tech_engineering_lab_2"
	}
	
	ai_weight = {
		weight = 5
	}
}