### Planet Unique Resource Buildings

building_power_hub_1 = {
	#building defines
	tags = { energy_resource_buildings }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180	
	cost = { minerals = 150 }	
	#requirements and upgrade
	potential = { conditions_power_hub_1 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_hub_1" }
	upgrades = { building_power_hub_2 }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { tile_resource_energy_mult = 0.10 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { tile_resource_energy_mult = 0.10 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { energy = 2 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { energy = 2 }
		}	
		modifier = {
			OR = {
				has_non_swapped_tradition = tr_prosperity_pursuit_of_profit
				has_swapped_tradition = tr_prosperity_pursuit_of_profit_machine
			}
			resources = { unity = 2	}
		}		
	}		
	#ai restrictions and weights	
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 50 
			check_variable = { which = "energy_building_tile" value = 1 }
		}
	}
}

building_power_hub_2 = {
	#building defines
	tags = { energy_resource_buildings }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180	
	cost = { minerals = 200 }	
	#requirements and upgrade
	potential = { conditions_power_hub_2 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_hub_2" }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { tile_resource_energy_mult = 0.20 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { tile_resource_energy_mult = 0.20 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { energy = 4 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { energy = 4 }
		}	
		modifier = {
			OR = {
				has_non_swapped_tradition = tr_prosperity_pursuit_of_profit
				has_swapped_tradition = tr_prosperity_pursuit_of_profit_machine
			}
			resources = { unity = 2	}
		}		
	}		
	#ai restrictions and weights	
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 50 
			check_variable = { which = "energy_building_tile" value = 1 }
		}
	}
}

building_mineral_processing_plant_1 = {
	#building defines
	tags = { mineral_resource_buildings }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180	
	cost = { minerals = 150 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_mineral_processing_plant_1 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mineral_processing_1" }
	upgrades = { building_mineral_processing_plant_2 }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { tile_resource_minerals_mult = 0.10 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { tile_resource_minerals_mult = 0.10 }
	}		
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { minerals = 2 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { minerals = 2 }
		}			
	}
	#ai restrictions and weights	
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 50 
			check_variable = { which = "minerals_building_tile" value = 1 }
		}
	}
}

building_mineral_processing_plant_2 = {
	#building defines
	tags = { mineral_resource_buildings }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180	
	cost = { minerals = 150 }	
	required_resources = { energy = 3 }
	#requirements and upgrade
	potential = { conditions_mineral_processing_plant_2 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mineral_processing_2" }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { tile_resource_minerals_mult = 0.20 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { tile_resource_minerals_mult = 0.20 }
	}		
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { minerals = 2 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { minerals = 2 }
		}			
	}
	#ai restrictions and weights	
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 50 
			check_variable = { which = "minerals_building_tile" value = 1 }
		}
	}
}

### Pop Growth Building Chains

building_clinic = {
	#building defines
	tags = { pop_growth_buildings }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 150 }	
	required_resources = { energy = 1 }
	#requirements and upgrade
	potential = { conditions_clinic = yes } 
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }		
	upgrades = { building_hospital }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { pop_growth_speed = 0.1 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { pop_growth_speed = 0.1 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				society_research = 2
				unity = 1			
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				society_research = 2
				unity = 1							
			}
		}			
	}
	#ai restrictions and weights	
	ai_allow = { 
		tile_has_any_strategic_resource = no
		OR = {
			has_deposit = no
			check_variable = { which = "society_research_building_tile" value = 1 }
		}	
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			add = 100 
			from = { has_planet_flag = build_pop_growth_buildings }
		}
	}
}

building_hospital = {
	#building defines
	tags = { pop_growth_buildings }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360	
	cost = { minerals = 200 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_hospital = yes } 
	allow = { requires_building_capital_2 = yes	}
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { pop_growth_speed = 0.2 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { pop_growth_speed = 0.2 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				society_research = 4
				unity = 2			
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				society_research = 4
				unity = 2							
			}
		}			
	}
	#ai restrictions and weights	
	ai_allow = { 
		tile_has_any_strategic_resource = no
		OR = {
			has_deposit = no
			check_variable = { which = "society_research_building_tile" value = 1 }
		}	
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			add = 100 
			from = { has_planet_flag = build_pop_growth_buildings }
		}
	}
}

building_spare_parts_depot = {
	#building defines
	tags = { pop_growth_buildings }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 150 }	
	required_resources = { energy = 1 }
	#requirements and upgrade
	potential = { conditions_spare_parts_depot = yes } 
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }		
	upgrades = { building_unit_assembly_plant }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.15 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.15 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				society_research = 2
				unity = 1			
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				society_research = 2
				unity = 1							
			}
		}			
	}
	#ai restrictions and weights	
	ai_allow = { 
		tile_has_any_strategic_resource = no
		OR = {
			has_deposit = no
			check_variable = { which = "society_research_building_tile" value = 1 }
		}	
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			add = 100 
			from = { has_planet_flag = build_pop_growth_buildings }
		}
	}
}

building_unit_assembly_plant = {
	#building defines
	tags = { pop_growth_buildings }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360	
	cost = { minerals = 200 }	
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_unit_assembly_plant = yes } 
	allow = { requires_building_capital_2 = yes	}
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				society_research = 4
				unity = 2			
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				society_research = 4
				unity = 2							
			}
		}			
	}
	#ai restrictions and weights	
	ai_allow = { 
		tile_has_any_strategic_resource = no
		OR = {
			has_deposit = no
			check_variable = { which = "society_research_building_tile" value = 1 }
		}	
	}
	ai_weight = { 
		weight = 0
		modifier = { 
			add = 100 
			from = { has_planet_flag = build_pop_growth_buildings }
		}
	}
}

### Pop Growth Buildings

building_slave_processing = {
	#building defines
	tags = { slave_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360	
	cost = { minerals = 250 }	
	required_resources = { energy = 3 }
	#requirements and upgrade
	potential = { conditions_slave_processing = yes } 
	allow = { 
		requirement_slave_facility = yes
		requires_capital_1 = yes		
	}
	prerequisites = { "tech_neural_implants" }
	show_tech_unlock_if = { slave_processing_unlock_conditions = no }
	destroy_if = { slave_processing_destroy_conditions = yes }	
	#resource output and modifiers	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = no }
		modifier = { 
			slave_mineral_output = 0.10
			slave_food_output = 0.10
			country_unrest_unhappy_slave_effect_mult = -0.25
		}
	}	
	triggered_planet_modifier = { 
		potential = { overhauled_building_content_enabled = yes }
		modifier = { 
			slave_mineral_output = 0.10
			slave_food_output = 0.10
			country_unrest_unhappy_slave_effect_mult = -0.25
		}
	}	
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				minerals = 2
				food = 2			
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				minerals = 2
				food = 2						
			}
		}			
	}
	#ai restrictions and weights	
	ai_allow = { 
		tile_has_any_strategic_resource = no
		OR = {
			has_deposit = no
			check_variable = { which = "minerals_building_tile" value = 1 }
			check_variable = { which = "food_building_tile" value = 1 }
		}	
	}
	
	ai_weight = { 
		weight = 0
		modifier = { 
			add = 100 
			from = { has_planet_flag = build_slave_processing }
		}
	}
}