namespace = pd_start

###archive World
country_event = {
	id = pd_start.10
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_archive_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_archive
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_archive
			set_planet_size = 20
			set_planet_entity = {
				picture =  pc_archive
				entity = archive_planet_01_entity
				}
			set_planet_flag = pd_archive_world		
			add_modifier = {
				modifier = "archive"
				days = -1
			}	
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Tidally-Locked World
country_event = {
	id = pd_start.20
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_tidal_world }
	
	immediate = {
		random_planet_within_border = {
			limit = { is_capital = no is_moon = no is_star = no is_asteroid = no }
			change_pc = pc_tidallylocked	
			set_planet_size = 20
			add_modifier = {
				modifier = "tidal_locked2"
				days = -1
			}
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
			set_owner = ROOT
			set_planet_flag = tidallylockedhomeworld
			
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_building = "building_basic_science_lab_1"
					set_deposit = d_physics_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_building = "building_power_plant_1"
					set_deposit = d_energy_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_building = "building_mining_network_1"
					set_deposit = d_mineral_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_deposit = d_engineering_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_deposit = d_society_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_deposit = d_energy_deposit
				}
			}
			while = { 
				count = 1			
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_deposit = d_mineral_deposit
				}
			}			
			
			#All other pop types
			every_tile = {
				limit = { has_building = yes has_pop = no has_blocker = no}
				create_pop = { 
					species = owner_species
					ethos = random
				}
			}	
			set_capital = yes
		}
	
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_tidallylocked
				base = none # makes this replace parent species
			}
		}
		
		random_owned_planet = {
			limit = { is_capital = no }
			change_pc = pc_barren
		}
		
		
	}
}
###Superhabitable World
country_event = {
	id = pd_start.30
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_superhabitable_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_superhabitable
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_superhabitable
			set_planet_size = 30	
			add_modifier = {
				modifier = "superhabitable"
				days = -1
			}
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Geothermal World
country_event = {
	id = pd_start.40
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_geothermal_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_geothermal
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_geothermal	
			add_modifier = {
				modifier = "geothermal"
				days = -1
			}
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Crystal World
country_event = {
	id = pd_start.50
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_crystal_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_crystal
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_crystal
			set_planet_size = 20
			set_planet_flag = pd_crystal_world	
			add_modifier = {
				modifier = "crystal"
				days = -1
			}	
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Floating World
country_event = {
	id = pd_start.60
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_floating_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_floating
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_floating
			set_planet_size = 20
			set_planet_flag = pd_floating_world	
			add_modifier = {
				modifier = "floating"
				days = -1
			}	
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Graveyard World
country_event = {
	id = pd_start.70
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_graveyard_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_graveyard
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_graveyard
			set_planet_size = 20
			set_planet_flag = pd_graveyard_world	
			add_modifier = {
				modifier = "graveyard"
				days = -1
			}	
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}
###Techno-Organic
country_event = {
	id = pd_start.80
	hide_window = yes
	is_triggered_only = yes

	trigger = { has_civic = civic_technoorganic_world }

	immediate = {
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_technoorganic
				base = none # makes this replace parent species
			}
		}
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_technoorganic
			set_planet_size = 20
			set_planet_flag = pd_technoorganic_world
			add_modifier = {
				modifier = "technoorganic"
				days = -1
			}	
			reroll_deposits = yes
			reset_start_buildings_and_blockers_life_seeded = yes
		}
		# Nuke other colonies gained from advanced empire, etc
		every_owned_planet = {
			limit = { is_capital = no }
			every_tile = { 
				kill_pop = yes 
				remove_building = yes
			}
		}
		change_dominant_species = { species = last_created change_all = yes }
	}
}

