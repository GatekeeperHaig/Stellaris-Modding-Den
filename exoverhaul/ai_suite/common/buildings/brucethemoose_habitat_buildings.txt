#Habitat Buildings

building_hab_capital = {
	#building defines
	tags = { habitat_building }
	base_buildtime = 1080
	defense_armies = 2
	cost = { }
	planet_unique = yes
	capital = yes
	planet_modifier = { pop_government_ethic_attraction = 0.2 }
	potential = { conditions_hab_capital = yes } 
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				energy = 5
				unity = 2
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				energy = 5
				unity = 2
			}
		}
		modifier = {
			has_non_swapped_tradition = tr_expansion_colonization_fever
			has_swapped_tradition = tr_expansion_colonization_fever_machine
			has_swapped_tradition = tr_expansion_colonization_fever_hive
			resources = { unity = 1}
		}
	}
	#ai restrictions and weights	
	ai_replace = no
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_capital_building_tile" value = 1 }
		}				
	}
}
building_hab_astro_mining_facility = {
	# buildings for habitats
	tags = { habitat_building }
	base_buildtime = 360
	cost = { minerals = 200 }
	potential = { conditions_astro_mining_facility = yes } 
	required_resources = { energy = 2}
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { minerals = 4 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { minerals = 4 }
		}			
	}
	#ai restrictions and weights
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_astro_mining_facility_building_tile" value = 1 }
		}				
	}
}
building_hab_solar_power_processor = {
	# buildings for habitats
	tags = { habitat_building }
	base_buildtime = 360
	cost = { minerals = 250 }
	potential = { conditions_hab_solar_power_processor = yes } 
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { energy = 6 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { energy = 6 }
		}			
	}
	#needs refactoring
	destroy_if = {
		planet = {		
			solar_system = {
				OR = {
					is_star_class = sc_black_hole	
					has_megastructure = dyson_sphere_3
					has_megastructure = dyson_sphere_4
					has_megastructure = dyson_sphere_5
				}
			}
		}	
	}
	#ai restrictions and weights
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_solar_power_processor_building_tile" value = 1 }
		}				
	}
}
building_hab_agri_bay = {
	# buildings for habitats
	tags = { habitat_building }
	base_buildtime = 360
	cost = { minerals = 200 }
	potential = { conditions_hab_agri_bay = yes }
	required_resources = { energy = 2 }
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { food = 4 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { food = 4 }
		}			
	}	
	#ai restrictions and weights
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_agri_bay_building_tile" value = 1 }
		}				
	}
}

building_hab_laboratory_module = {
	# buildings for habitats
	tags = { habitat_building }
	base_buildtime = 360
	cost = { minerals = 250 }
	potential = { conditions_hab_laboratory_module = yes }
	required_resources = { energy = 2 }
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { 
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { 
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}			
	}		
	#ai restrictions and weights
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_laboratory_module_building_tile" value = 1 }
		}				
	}
}

building_hab_cultural_center = {
	# buildings for habitats
	tags = { habitat_building }
	base_buildtime = 730
	planet_unique = yes
	cost = { minerals = 400}
	potential = { conditions_hab_cultural_center = yes }
	destroy_if = { owner_is_machine_empire = yes }
	planet_modifier = { pop_citizen_happiness = 0.05 }
	required_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { unity = 4 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { unity = 4 }
		}			
	}	
	#ai restrictions and weights
	ai_allow = { tile_has_any_strategic_resource = no }		
	ai_weight = { 
		modifier = { 
			add = 10 
			check_variable = { which = "hab_cultural_center_building_tile" value = 1 }
		}				
	}
}
