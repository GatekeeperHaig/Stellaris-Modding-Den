check_pop_traitseutab = {
	if = {
		limit = { is_robot_pop = yes }
		if = {
			limit = { has_trait = trait_eutab_robot_cognitive_amp_mesh }
			prev = {
				change_variable = { which = society_research_mult_planet_pop value = 0.20 }
				change_variable = { which = physics_research_mult_planet_pop value = 0.20 }
				change_variable = { which = engineering_research_mult_planet_pop value = 0.20 }
			}
		}
		if = {
			limit = { has_trait = trait_eutab_robot_core_relay }
			prev = {
				change_variable = { which = unity_mult_planet_pop value = 0.3 }
			}
		}
		if = {
			limit = { has_trait = trait_eutab_shedsin }
			prev = {
				change_variable = { which = unity_mult_planet_pop value = 0.1 }
			}
		}
	}
}
check_neighboring_adj_bonus_buildings_eutab = {
	every_neighboring_tile = {
		if = {
			limit = { has_building = building_eutab_medigel_cultivator }
			prevprev = {
				change_variable = { which = society_research_weight value = 2 }
			}
			else = {
				if = {
					limit = { has_building = building_eutab_hab_comet_tether }
					prevprev = {
						change_variable = { which = minerals_weight value = 3 }
					}
					else = {
						if = {
							limit = { has_building = building_eutab_hab_nullg_sci }
							prevprev = {
								change_variable = { which = engineering_research_weight value = 3 }
								change_variable = { which = physics_research_weight value = 3 }
								change_variable = { which = society_research_weight value = 3 }
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_ascension_perk = ap_eutab_mind_matter } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_eutab_hive_alpha_node }
				prevprev = {
					change_variable = { which = energy_weight value = 1 }
					change_variable = { which = physics_research_weight value = 1 }
					change_variable = { which = society_research_weight value = 1 }
					change_variable = { which = engineering_research_weight value = 1 }
					change_variable = { which = unity_weight value = 1 }
				}
				else = {
					if = {
						limit = { has_building = building_eutab_hive_node_research_phy }
						prevprev = {
							change_variable = { which = physics_research_weight value = 2 }
							change_variable = { which = society_research_weight value = 1 }
							change_variable = { which = engineering_research_weight value = 1 }
						}
						else = {
							if = {
								limit = { has_building = building_eutab_hive_node_research_soc }
								prevprev = {
									change_variable = { which = physics_research_weight value = 1 }
									change_variable = { which = society_research_weight value = 2 }
									change_variable = { which = engineering_research_weight value = 1 }
								}
								else = {
									if = {
										limit = { has_building = building_eutab_hive_node_research_eng }
										prevprev = {
											change_variable = { which = physics_research_weight value = 1 }
											change_variable = { which = society_research_weight value = 1 }
											change_variable = { which = engineering_research_weight value = 2 }
										}
										else = {
											if = {
												limit = { has_building = building_eutab_hive_node_support }
												prevprev = {
													change_variable = { which = minerals_weight value = 1 }
													change_variable = { which = energy_weight value = 1 }
													change_variable = { which = food_weight value = 1 }
													change_variable = { which = physics_research_weight value = 1 }
													change_variable = { which = society_research_weight value = 1 }
													change_variable = { which = engineering_research_weight value = 1 }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_authority = auth_hive_mind } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_eutab_hive_nursery }
				prevprev = {
					change_variable = { which = food_weight value = 1 }
					change_variable = { which = minerals_weight value = 1 }
				}
				else = {
					if = {
						limit = { has_building = building_eutab_hive_juvenile }
						prevprev = {
							change_variable = { which = food_weight value = 1 }
							change_variable = { which = minerals_weight value = 1 }
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			NOT = {
				owner = { NOT = { has_authority = auth_machine_intelligence } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_eutab_automation_sector }
				prevprev = {
					change_variable = { which = minerals_weight value = 1 }
					change_variable = { which = energy_weight value = 1 }
					change_variable = { which = engineering_research_weight value = 1 }
				}
				else = {
					if = {
						limit = { has_building = building_eutab_food_replicator_facility }
						prevprev = {
							change_variable = { which = food_weight value = 1 }
							change_variable = { which = society_research_weight value = 1 }
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			NOT = {
				planet = {
					solar_system = {
						OR = {
							is_star_class = sc_black_hole
							has_megastructure = dyson_sphere_3
							has_megastructure = dyson_sphere_4
							has_megastructure = dyson_sphere_5
						}
					}
				}
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_eutab_hab_stellar_tubes }
				prevprev = {
					change_variable = { which = energy_weight value = 2 }
				}
			}
		}
	}
}
check_planet_bonus_buildings_eutab = {
	 #NON_UNIQUE
	 #UNIQUE
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = { has_authority = auth_machine_intelligence has_authority = auth_hive_mind }
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_eutab_governors_district }
			change_variable = { which = food_mult_planet_building value = 0.1 }
			change_variable = { which = minerals_mult_planet_building value = 0.1 }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_authority = auth_hive_mind
						NOT = { has_ethic = ethic_fanatic_authoritarian }
					}
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_eutab_masters_hall }
			change_variable = { which = food_mult_planet_building value = 0.15 }
			change_variable = { which = minerals_mult_planet_building value = 0.15 }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_authority = auth_hive_mind
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
					}
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_eutab_planetary_parliament }
			change_variable = { which = unity_mult_planet_building value = 0.15 }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						NOR = { has_ethic = ethic_xenophobe has_ethic = ethic_fanatic_xenophobe }
						has_authority = auth_machine_intelligence
						has_authority = auth_hive_mind
					}
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_eutab_monument_purity }
			change_variable = { which = unity_mult_planet_building value = 0.10 }
		}
	}
	if = {
		limit = {
			NOT = {
				planet = {
					solar_system = {
						OR = {
							is_star_class = sc_black_hole
							has_megastructure = dyson_sphere_3
							has_megastructure = dyson_sphere_4
							has_megastructure = dyson_sphere_5
						}
					}
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_eutab_hab_stellar_tubes }
			change_variable = { which = energy_mult_planet_building value = 0.20 }
		}
	}
	if = {
		limit = { has_building = building_eutab_hab_comet_tether }
		change_variable = { which = minerals_mult_planet_building value = 0.20 }
	}
}
