
cgm_planet_engine_gate_conditions = {
	NOR = { 						
		AND = { 
			exists = owner 
			owner = { is_country_type = default }
			OR = { 
				is_capital = yes
				is_homeworld = yes
			}
		}	
		AND = { 
			exists = owner 
			NAND = { 
				owner = { is_country_type = primitive } 
				any_owned_pop = { is_robot_pop = no } 
			}
		}	
		solar_system = {
			OR = {
				any_planet = { exists = owner owner = { is_country_type = default } is_capital = yes }
				has_star_flag = cgm_ignored_system
				has_star_flag = sol_system
				has_star_flag = custom_system
				has_star_flag = floating_system
				has_star_flag = pdcrystal_system
				has_star_flag = city_system
				has_star_flag = empire_home_system
				has_star_flag = sol
				has_star_flag = primitive_sol
				has_star_flag = eilistraee_system
				has_star_flag = tulshar_system
				has_star_flag = elven_system
				has_star_flag = lunari_system
				has_star_flag = elven_ring_system
				has_star_flag = graveyard_system
				has_star_flag = mushroom_system
				has_star_flag = archive_system
				has_star_flag = biolumen_system
				has_star_flag = technoorganic_system
				has_star_flag = guardians_hatchling_system
			}
		}
	}	
}	

can_destroy_planet_with_PLANET_KILLER_CRACKER = {
	custom_tooltip = {
		fail_text = is_not_a_standard_planet_or_megastructure
		is_a_planet_megastructure = yes
	}
	custom_tooltip = {
		fail_text = is_shielded
		NOR = {
			is_planet_class = pc_shielded
			is_planet_class = pc_ringworld_shielded
			is_planet_class = pc_habitat_shielded
		}
	}
	#custom_tooltip = {
		#fail_text = is_not_hostile
		OR = {
			custom_tooltip = {
				text = is_not_hostile_cracker
				OR = {
					AND = {
						exists = space_owner
						space_owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
					AND = { # colony
						exists = owner
						owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
					AND = { # primitive
						exists = space_owner
						exists = owner
						owner = {
							is_primitive = yes
						}
						space_owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = not_barren_molten_frozen_toxic_test_fire
				NOT = { exists = owner }
				OR = {
					NOT = { exists = space_owner }
					AND = {
						exists = space_owner
						space_owner = { is_same_value = from.owner }
					}
				}
				OR = {
					habitable_planet = yes
					uninhabitable_regular_planet = yes
					habitable_structure = yes
					cgm_planet = yes
				}
			}
		}
	#}
}

is_a_planet = {
	is_star = no
	NOR = {
		is_gas_giant = yes
		is_asteroid = yes
		is_planet_class = pc_habitat
		is_planet_class = pc_shrouded
		is_planet_class = pc_ringworld_habitable
		is_planet_class = pc_ringworld_habitable_damaged
	}
}

is_a_planet_megastructure = {
	NOR = {
		is_star = yes
		is_gas_giant = yes
		is_asteroid = yes
		is_planet_class = pc_shrouded
		is_planet_class = pc_broken
		is_planet_class = pc_shattered
	}
}

is_a_habitable_planet_megastructure = {
	OR = {
		is_planet_class = pc_nuked
		is_planet_class = pc_infested
		habitable_planet = yes
		habitable_structure = yes
		cgm_planet = yes
	}
}
###General Triggers

is_vanilla_habitable_planet = {
	OR = {
		is_planet_class = pc_desert
		is_planet_class = pc_tropical
		is_planet_class = pc_arid
		is_planet_class = pc_continental
		is_planet_class = pc_ocean
		is_planet_class = pc_tundra
		is_planet_class = pc_arctic
		is_planet_class = pc_alpine
		is_planet_class = pc_savannah		
	}
}

is_vanilla_special_planet = {
	OR = {
		is_planet_class = pc_gaia
		is_planet_class = pc_nuked
		is_planet_class = pc_machine
	}
}	

is_vanilla_uninhabitable_planet = {
	OR = {
		is_planet_class = pc_molten
		is_planet_class = pc_barren
		is_planet_class = pc_barren_cold
		is_planet_class = pc_toxic
		is_planet_class = pc_frozen
		is_planet_class = pc_asteroid
		is_planet_class = pc_gas_giant		
	}
}

habitable_structure = {
    OR = {
        is_planet_class = pc_ringworld_habitable
        is_planet_class = pc_habitat
    }
}

uninhabitable_regular_planet = {
	OR = {
		is_planet_class = pc_molten
		is_planet_class = pc_barren
		is_planet_class = pc_barren_cold
		is_planet_class = pc_toxic
		is_planet_class = pc_frozen	
		planetary_diversity_uninhabitable_regular_planet = yes			

	}
}

uninhabitable_mineral_planet = {
	OR = {
		is_planet_class = pc_molten
		is_planet_class = pc_barren
		is_planet_class = pc_barren_cold
		is_planet_class = pc_frozen	
		is_planet_class_pc_shattered = yes
		is_planet_class_pc_broken = yes
		is_asteroid = yes
	}
}

uninhabitable_mixed_planet = {
	OR = {
		is_planet_class = pc_toxic	
		is_planet_class_pc_hothouse = yes
	}
}

uninhabitable_energy_planet = {
	OR = {
		is_planet_class = pc_gas_giant
		is_planet_class_pc_t_star = yes
		is_planet_class_pc_l_star = yes
		is_planet_class_pc_y_star = yes
		is_planet_class_pc_d_star = yes
	}
}

habitable_planet = {
	OR = {
		is_vanilla_habitable_planet = yes
		is_vanilla_special_planet = yes
		planetary_diversity_regular_habitable_planet = yes
	}
}

is_gas_giant = {
	OR = {
		is_planet_class = pc_gas_giant
	}
}	

is_gaia = { 
	OR = {
		is_planet_class = pc_gaia
		is_planet_class_pc_floating = yes
		is_planet_class_pc_crystal = yes
		is_planet_class_pc_mushroom = yes
		is_planet_class_pc_graveyard = yes
		is_planet_class_pc_pdcity = yes
		is_planet_class_pc_archive = yes
		is_planet_class_pc_biolumen = yes
		is_planet_class_pc_technoorganic = yes
		is_planet_class_pc_tidallylocked = yes
	}
}

is_inhospitable = {
	OR = {
		is_planet_class = pc_nuked
		is_planet_class_pc_graveyard = yes
	}
}

is_non_oxygen_habitable = {
	OR = {
		is_planet_class_pc_methane = yes
		is_planet_class_pc_ammonia = yes
	}
}

is_hot_dry_category_planet = {
	OR = {
		is_planet_class = pc_arid
		is_planet_class = pc_desert
		is_planet_class = pc_savannah
		is_planet_class_pc_sandsea = yes
		is_planet_class_pc_mesa = yes
		is_planet_class_pc_oasis = yes		
	}	
}	

is_hot_wet_category_planet = {
	OR = {
		is_planet_class = pc_continental
		is_planet_class = pc_ocean
		is_planet_class = pc_tropical	
		is_planet_class_pc_mangrove = yes
		is_planet_class_pc_hajungle = yes	
		is_planet_class_pc_desertislands = yes
	}	
}

is_cold_dry_category_planet = {	
	OR = {
		is_planet_class = pc_tundra 
		is_planet_class = pc_alpine
		is_planet_class = pc_arctic
		is_planet_class_pc_frozen_desert = yes
		is_planet_class_pc_steppe = yes
		is_planet_class_pc_hadesert = yes
	}
}	

is_cold_wet_category_planet = {				
	OR = {
		is_planet_class_pc_swamp = yes
		is_planet_class_pc_cascadian = yes
		is_planet_class_pc_geothermal = yes
		is_planet_class_pc_glacial = yes
		is_planet_class_pc_subarctic = yes		
		is_planet_class_pc_boreal = yes
	}	
}	

is_special_planet = { 
	OR = { 
		is_planet_class = pc_gaia
		is_planet_class = pc_machine
		is_planet_class_pc_crystal = yes
		is_planet_class_pc_floating = yes
		is_planet_class_pc_graveyard = yes
		is_planet_class_pc_mushroom = yes
		is_planet_class_pc_pdcity = yes
		is_planet_class_pc_archive = yes
		is_planet_class_pc_biolumen = yes
		is_planet_class_pc_technoorganic = yes
	}
}	

###Planetary Diversity

planetary_diversity_special_planet = { 
	OR = { 
		is_planet_class_pc_crystal = yes
		is_planet_class_pc_floating = yes
		is_planet_class_pc_graveyard = yes
		is_planet_class_pc_mushroom = yes
		is_planet_class_pc_pdcity = yes
		is_planet_class_pc_archive = yes
		is_planet_class_pc_biolumen = yes
		is_planet_class_pc_technoorganic = yes	
		is_planet_class_pc_tidallylocked = yes
	}
}	

planetary_diversity_regular_habitable_planet = {
	OR = { 
		is_planet_class_pc_mangrove = yes
		is_planet_class_pc_desertislands = yes
		is_planet_class_pc_hajungle = yes
		is_planet_class_pc_cascadian = yes
		is_planet_class_pc_swamp = yes
		is_planet_class_pc_subarctic = yes
		is_planet_class_pc_glacial = yes
		is_planet_class_pc_geothermal = yes
		is_planet_class_pc_sandsea = yes
		is_planet_class_pc_mesa = yes
		is_planet_class_pc_oasis = yes
		is_planet_class_pc_hadesert = yes
		is_planet_class_pc_steppe = yes
		is_planet_class_pc_frozen_desert = yes
		is_planet_class_pc_boreal = yes
		is_planet_class_pc_ammonia = yes
		is_planet_class_pc_methane = yes
	}
}	

planetary_diversity_uninhabitable_regular_planet = { is_planet_class_pc_hothouse = yes }

###Synergy Triggers

is_planet_class_pc_crystal = { is_planet_class = pc_crystal }
is_planet_class_pc_floating = { is_planet_class = pc_floating }
is_planet_class_pc_graveyard = { is_planet_class = pc_graveyard }
is_planet_class_pc_mushroom = { is_planet_class = pc_mushroom }
is_planet_class_pc_pdcity = { is_planet_class = pc_pdcity }
is_planet_class_pc_tidallylocked = { is_planet_class = pc_tidallylocked }
is_planet_class_pc_glacial = { is_planet_class = pc_glacial }
is_planet_class_pc_frozen_desert = { is_planet_class = pc_frozen_desert }
is_planet_class_pc_steppe = { is_planet_class = pc_steppe }
is_planet_class_pc_hadesert = { is_planet_class = pc_hadesert }
is_planet_class_pc_boreal = { is_planet_class = pc_boreal }
is_planet_class_pc_sandsea = { is_planet_class = pc_sandsea }
is_planet_class_pc_subarctic = { is_planet_class = pc_subarctic }
is_planet_class_pc_geothermal = { is_planet_class = pc_geothermal }
is_planet_class_pc_cascadian = { is_planet_class = pc_cascadian }
is_planet_class_pc_swamp = { is_planet_class = pc_swamp }
is_planet_class_pc_mangrove = { is_planet_class = pc_mangrove }
is_planet_class_pc_desertislands = { is_planet_class = pc_desertislands }
is_planet_class_pc_mesa = { is_planet_class = pc_mesa }
is_planet_class_pc_oasis = { is_planet_class = pc_oasis }
is_planet_class_pc_hajungle = { is_planet_class = pc_hajungle }
is_planet_class_pc_methane = { is_planet_class = pc_methane }
is_planet_class_pc_ammonia = { is_planet_class = pc_ammonia }
is_planet_class_pc_hothouse = { is_planet_class = pc_hothouse }
is_planet_class_pc_archive = { is_planet_class = pc_archive }
is_planet_class_pc_biolumen = { is_planet_class = pc_biolumen }
is_planet_class_pc_technoorganic = { is_planet_class = pc_technoorganic }
is_planet_class_pc_superhabitable = { is_planet_class = pc_superhabitable }