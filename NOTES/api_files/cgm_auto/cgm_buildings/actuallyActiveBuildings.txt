 # This file was created by script!
 # Instead of editing it, you should change the python script.
 # Changes to the file will be overwritten the next time the script is run.
building_autochthon_monument = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @unity_resource_building_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { tech_unlock_conditions_standard_unity_buildings = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_standard_unity = yes }
	prerequisites = { "tech_cultural_heritage" }
	upgrades = { building_heritage_site }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_heritage_site = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 270
	cost = { minerals = @unity_resource_building_cost_tier_2 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { tech_unlock_conditions_standard_unity_buildings = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_standard_unity = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_heritage_site" }
	upgrades = { building_hypercomms_forum }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { unity = 4 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hypercomms_forum = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @unity_resource_building_cost_tier_3 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { tech_unlock_conditions_standard_unity_buildings = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_standard_unity = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_hypercomms_forum" }
	upgrades = { building_autocurating_vault }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { unity = 6 }
	planet_modifier = { tile_resource_unity_mult = 0.10 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_autocurating_vault = {
	 #building defines
	tags = { unity_resource_building }
	empire_unique = yes
	is_listed = no
	base_buildtime = 720
	cost = { minerals = @unity_resource_building_cost_tier_4 }
	required_resources = { energy = 4 }
	show_tech_unlock_if = { tech_unlock_conditions_standard_unity_buildings = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_standard_capital_unity = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_autocurating_vault" }
	destroy_if = {
		OR = { owner_is_machine_empire = yes planet_is_capital = no }
	}
	 #resource output and modifiers
	produced_resources = { unity = 10 }
	country_modifier = { country_resource_unity_mult = 0.10 }
	ai_weight = { weight = 250 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_temple = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @unity_resource_building_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_unity = yes }
	prerequisites = { "tech_cultural_heritage" }
	upgrades = { building_holotemple }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 3 }
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_holotemple = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 270
	cost = { minerals = @unity_resource_building_cost_tier_2 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_unity = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_holographic_rituals" }
	upgrades = { building_sacred_nexus }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 6 }
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_sacred_nexus = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @unity_resource_building_cost_tier_3 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_unity = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_consecration_fields" }
	upgrades = { building_citadel_of_faith }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 9 }
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 tile_resource_unity_mult = 0.10 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_citadel_of_faith = {
	 #building defines
	tags = { unity_resource_building }
	empire_unique = yes
	is_listed = no
	base_buildtime = 720
	cost = { minerals = @unity_resource_building_cost_tier_4 }
	required_resources = { energy = 4 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_capital_unity = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_transcendent_faith" }
	destroy_if = {
		OR = { owner_is_spiritualist = no planet_is_capital = no }
	}
	 #resource output and modifiers
	country_modifier = { country_resource_unity_mult = 0.10 pop_ethic_spiritualist_attraction_mult = 0.1 }
	produced_resources = { unity = 12 }
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.5 }
	 #ai restrictions and weights
	ai_weight = { weight = 250 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_uplink_node = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @unity_resource_building_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = yes }
	prerequisites = { "tech_cultural_heritage" }
	upgrades = { building_network_junction }
	destroy_if = { owner_is_machine_empire = no }
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_network_junction = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 270
	cost = { minerals = @unity_resource_building_cost_tier_2 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_heritage_site" }
	upgrades = { building_system_conflux }
	destroy_if = { owner_is_machine_empire = no }
	 #resource output and modifiers
	produced_resources = { unity = 4 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_system_conflux = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @unity_resource_building_cost_tier_3 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_hypercomms_forum" }
	upgrades = { building_alpha_hub }
	destroy_if = { owner_is_machine_empire = no }
	 #resource output and modifiers
	produced_resources = { unity = 6 }
	planet_modifier = { tile_resource_unity_mult = 0.10 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_alpha_hub = {
	 #building defines
	tags = { unity_resource_building }
	empire_unique = yes
	is_listed = no
	base_buildtime = 720
	cost = { minerals = @unity_resource_building_cost_tier_4 }
	required_resources = { energy = 4 }
	show_tech_unlock_if = { is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_machine_capital_unity = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_autocurating_vault" }
	destroy_if = {
		OR = { owner_is_machine_empire = no planet_is_capital = no }
	}
	 #resource output and modifiers
	produced_resources = { unity = 10 }
	country_modifier = { country_resource_unity_mult = 0.10 }
	 #ai restrictions and weights
	ai_weight = { weight = 250 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
 ### Habitat Buildings
building_hab_cultural_center = {
	 # buildings for habitats
	tags = { unity_resource_building }
	base_buildtime = 730
	planet_unique = yes
	cost = { minerals = 400 }
	required_resources = { energy = 4 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_hab_standard_unity = yes }
	destroy_if = { owner_is_machine_empire = yes }
	allow = { requires_hab_capital = yes }
	upgrades = { building_autocurating_vault building_citadel_of_faith }
	 #resource output and modifiers
	produced_resources = { unity = 4 }
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_citizen_happiness = 0.05 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_hive_mind_empire = no }
		modifier = { pop_citizen_happiness = 0.05 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_hive_mind_empire = no }
		modifier = { pop_resource_output = 0.05 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_guardian_dragon_shrine = {
	 #building defines
	tags = { unity_resource_building }
	base_buildtime = 360
	cost = { minerals = 800 }
	empire_unique = yes
	requires_pop = yes
	ai_replace = no
	event_building = yes
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_guardian_dragon_shrine = yes }
	destroy_if = { destroy_if_conditions_guardian_dragon_shrine = yes }
	 #resource output and modifiers
	produced_resources = { unity = 15 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 250 }
}
building_guardian_dragon_monument = {
	 #building defines
	tags = { unity_resource_building }
	base_buildtime = 360
	cost = { minerals = 800 }
	empire_unique = yes
	requires_pop = yes
	ai_replace = no
	event_building = yes
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_guardian_dragon_monument = yes }
	destroy_if = { destroy_if_conditions_guardian_dragon_monument = yes }
	 #resource output and modifiers
	produced_resources = { unity = 15 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 250 }
}
building_stellarite_trophy = {
	 #building defines
	tags = { unity_resource_building }
	icon = "building_zanaam_obelisk"
	base_buildtime = 360
	cost = { minerals = 800 }
	empire_unique = yes
	requires_pop = yes
	ai_replace = no
	event_building = yes
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_stellarite_trophy = yes }
	destroy_if = { destroy_if_conditions_stellarite_trophy = yes }
	 #resource output and modifiers
	produced_resources = { unity = 15 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 250 }
}
building_artist = {
	 # Artist Monument
	 #building defines
	tags = { unity_resource_building }
	icon = "building_zanaam_obelisk"
	base_buildtime = 400
	planet_unique = yes
	ai_replace = no
	event_building = yes
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_in_sector = no }
	allow = { requires_capital_0_or_hab = yes can_build_artist_monument = yes }
	 #resource output and modifiers
	produced_resources = { unity = 8 }
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = no }
		modifier = { planet_migration_all_pull = 0.50 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_gestalt_consciousness = no }
		modifier = { planet_migration_all_pull = 0.50 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_gestalt_consciousness = yes }
		modifier = { tile_resource_society_research_mult = 0.1 }
	}
	 #construction effects
	on_queued = { check_artist_monuments = yes }
	on_unqueued = { subtract_artist_monuments = yes }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 250 }
}
building_artist_patron = {
	 #Ministry of Culture
	 #building defines
	tags = { unity_resource_building }
	icon = "building_modern_1"
	base_buildtime = 500
	empire_unique = yes
	requires_pop = yes
	ai_replace = no
	event_building = yes
	country_modifier = { pop_government_ethic_attraction = 0.10 country_resource_unity_mult = 0.05 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_country_flag = artist_building_patron }
	}
	allow = { requires_capital_2_or_hab = yes }
	produced_resources = { unity = 10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 250 }
}
building_power_plant_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_power_plant_2 }
	 #resource output and modifiers
	produced_resources = { energy = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = energy amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = energy amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = energy amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = energy amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = energy amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = energy amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_power_plant_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_power_plant_3 }
	 #resource output and modifiers
	produced_resources = { energy = 3 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_power_plant_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_power_plant_4 }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_power_plant_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_power_plant_5 }
	 #resource output and modifiers
	produced_resources = { energy = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_power_plant_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_power_plant_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { energy = 8 }
	triggered_planet_modifier = {
		key = "power_plant_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_energy_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "power_plant_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_energy_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_network_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_network_2 }
	 #resource output and modifiers
	produced_resources = { minerals = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = minerals amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = minerals amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = minerals amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = minerals amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = minerals amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = minerals amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_network_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_network_3 }
	 #resource output and modifiers
	produced_resources = { minerals = 3 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_network_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_network_4 }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_network_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_network_5 }
	 #resource output and modifiers
	produced_resources = { minerals = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_network_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_mining_network_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { minerals = 7 }
	triggered_planet_modifier = {
		key = "mining_network_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_minerals_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "mining_network_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_minerals_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponics_farm_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_hydroponics_farm_2 }
	 #resource output and modifiers
	produced_resources = { food = 2 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
building_hydroponics_farm_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_hydroponics_farm_3 }
	 #resource output and modifiers
	produced_resources = { food = 3 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_ai_allow = yes
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponics_farm_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_hydroponics_farm_4 }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_ai_allow = yes
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponics_farm_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_hydroponics_farm_5 }
	 #resource output and modifiers
	produced_resources = { food = 5 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_ai_allow = yes
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponics_farm_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = {
		OR = { food_buildings_destroy_conditions = yes planet_is_capital = no }
	}
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	 #resource output and modifiers
	produced_resources = { food = 7 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_food_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_food_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_ai_allow = yes
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_basic_science_lab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = {
		building_engineering_facility_1
		building_physics_lab_1
		building_biolab_1
	}
	 #resource output and modifiers
	produced_resources = {
		engineering_research = 1
		physics_research = 1
		society_research = 1
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = society_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = society_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = society_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = society_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = society_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = society_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = physics_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = physics_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = physics_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = physics_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = physics_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = engineering_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = engineering_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = engineering_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = engineering_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = engineering_research amount > 5 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
building_engineering_facility_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_facility_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		engineering_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_facility_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_facility_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_facility_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_facility_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_facility_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { engineering_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_engineering_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_engineering_research_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		physics_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_physics_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { physics_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_physics_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_physics_research_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biolab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_biolab_2 }
	 #resource output and modifiers
	produced_resources = { society_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = society_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_biolab_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_biolab_3 }
	 #resource output and modifiers
	produced_resources = { society_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biolab_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_biolab_4 }
	 #resource output and modifiers
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biolab_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_biolab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { society_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "biolab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_society_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "biolab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_society_research_mult = 0.015 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hab_astro_mining_facility = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_1 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes habitat_conditions = yes }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	produced_resource_trigger = {
		modifier = {
			overhauled_building_stats_enabled = yes
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = minerals amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = minerals amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = minerals amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = minerals amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = minerals amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = minerals amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_hab_solar_power_processor = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		habitat_conditions = yes
		has_black_hole_or_dyson_sphere = no
	}
	destroy_if = { has_black_hole_or_dyson_sphere = yes }
	 #resource output and modifiers
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { energy = 6 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { energy = 6 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			weight = 5
			has_resource = { type = energy amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = energy amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = energy amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = energy amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = energy amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = energy amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_hab_agri_bay = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_1 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes agri_bay_conditions = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
building_hab_laboratory_module = {
	 # buildings for habitats
	tags = { research_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_2 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes habitat_conditions = yes }
	 #resource output and modifiers
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = {
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = {
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			weight = 5
			has_resource = { type = society_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = society_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = society_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = society_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = society_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = society_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = physics_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = physics_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = physics_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = physics_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = physics_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = engineering_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = engineering_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = engineering_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = engineering_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = engineering_research amount > 5 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
building_nutrient_paste_facility = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @nutrient_paste_facility_cost }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { is_servitor = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_servitor = yes }
	destroy_if = { owner_is_servitor = no }
	 #resource output and modifiers
	produced_resources = { food = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
betharian_power_plant = {
	 #building defines
	tags = { special_resource_building }
	base_buildtime = 240
	icon = "building_betharian_power_plant_1"
	cost = { minerals = @special_resource_building_cost }
	ai_replace = no
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		planet_has_betharian = yes
		planets_enhanced_enabled = no
	}
	prerequisites = { "tech_mine_betharian" }
	allow = { requires_capital_1 = yes requires_betharian_stone = yes }
	 #resource output and modifiers
	produced_resources = { energy = 10 }
	produced_resource_trigger = {
		modifier = {
			new_building_content_enabled = yes
			resources = { energy = 2 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_betharian = yes
	}
	ai_weight = { weight = 100 }
}
building_xeno_zoo = {
	 #building defines
	tags = { special_resource_building }
	base_buildtime = 240
	cost = { minerals = @special_resource_building_cost }
	required_resources = { energy = 1 }
	ai_replace = no
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_xeno_zoo = yes }
	allow = { requires_capital_1 = yes requires_alien_pets = yes }
	prerequisites = { "tech_alien_life_studies" }
	show_tech_unlock_if = { tech_unlock_conditions_xeno_zoo = yes }
	destroy_if = { destroy_if_conditions_xeno_zoo = yes }
	 #resource output and modifiers
	planet_modifier = { pop_citizen_happiness = 0.05 planet_migration_all_pull = 0.25 }
	produced_resources = { unity = 4 society_research = 4 }
	produced_resource_trigger = {
		modifier = {
			new_building_content_enabled = yes
			resources = { society_research = 2 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_alien_pets = yes
	}
	ai_weight = { weight = 100 }
}
building_animal_evaluation_laboratory = {
	 #building defines
	tags = { special_resource_building }
	base_buildtime = 240
	cost = { minerals = @special_resource_building_cost }
	required_resources = { energy = 1 }
	ai_replace = no
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_animal_evaluation_laboratory = yes }
	allow = { requires_capital_1 = yes requires_alien_pets = yes }
	prerequisites = { "tech_alien_life_studies" }
	show_tech_unlock_if = { tech_unlock_conditions_animal_evaluation_laboratory = yes }
	destroy_if = { destroy_if_conditions_animal_evaluation_laboratory = yes }
	 #resource output and modifiers
	produced_resources = { unity = 4 society_research = 2 }
	produced_resource_trigger = {
		modifier = {
			new_building_content_enabled = yes
			resources = { society_research = 2 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_alien_pets = yes
	}
	ai_weight = { weight = 100 }
}
building_replicator = {
	 #building defines
	tags = { replicator_building }
	is_listed = yes
	base_buildtime = 720
	cost = { minerals = 500 }
	required_resources = { energy = 50 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_matter_generator" }
	 #resource output and modifiers
	planet_modifier = { static_planet_resource_minerals_add = 40 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		replicator_ai_allow = yes
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			from.owner = {
				OR = {
					AND = {
						is_at_war = no
						check_variable = { which = energy_country_weight value < 0.5 }
					}
					AND = {
						is_at_war = yes
						check_variable = { which = energy_country_weight value < 0.1 }
					}
				}
			}
		}
	}
}
building_power_hub_1 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_1 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_hub_1" }
	upgrades = { building_power_hub_2 }
	 #resource output and modifiers
	produced_resources = { energy = 2 }
	produced_resource_trigger = {
		modifier = {
			has_pursuit_of_profit = yes
			resources = { unity = 2 }
		}
	}
	planet_modifier = { tile_resource_energy_mult = 0.10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 5
			from.owner = { has_pursuit_of_profit = yes }
		}
	}
}
building_power_hub_2 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_hub_2" }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = {
			has_pursuit_of_profit = yes
			resources = { unity = 2 }
		}
	}
	planet_modifier = { tile_resource_energy_mult = 0.20 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_akx_worm_1 = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 180
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_1 }
	potential = { planet_is_not_virtual = yes conditions_akx_worm_1 = yes }
	prerequisites = { "tech_akx_worm_1" }
	produced_resources = { energy = 6 }
	produced_resource_trigger = {
		modifier = {
			overhauled_building_stats_enabled = yes
			has_pursuit_of_profit = yes
			resources = { unity = 2 }
		}
	}
	planet_modifier = { tile_resource_energy_mult = 0.25 pop_happiness = -0.05 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 10
			from.owner = { has_pursuit_of_profit = yes overhauled_building_stats_enabled = yes }
		}
	}
}
building_mineral_processing_plant_1 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mineral_processing_1" }
	upgrades = { building_mineral_processing_plant_2 }
	 #resource output and modifiers
	produced_resources = { minerals = 2 }
	planet_modifier = { tile_resource_minerals_mult = 0.10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_mineral_processing_plant_2 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mineral_processing_2" }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	planet_modifier = { tile_resource_minerals_mult = 0.20 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_clinic = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 1 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = no }
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	upgrades = { building_hospital }
	 #resource output and modifiers
	produced_resources = { society_research = 2 unity = 1 }
	triggered_planet_modifier = {
		key = building_clinic
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.1 }
	}
	triggered_planet_modifier = {
		key = building_clinic
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.15 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_and_unity_buildings_ai_allow_conditions = yes
		pop_growth_building_conditions = yes
	}
	ai_weight = { weight = 100 }
}
building_hospital = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_2 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = no }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { society_research = 4 unity = 2 }
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.2 }
	}
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.3 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_spare_parts_depot = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 1 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = yes }
	prerequisites = { "tech_modular_components" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	upgrades = { building_unit_assembly_plant }
	 #resource output and modifiers
	produced_resources = { engineering_research = 2 unity = 1 }
	triggered_planet_modifier = {
		key = building_spare_parts_depot
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.15 }
	}
	triggered_planet_modifier = {
		key = building_spare_parts_depot
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.2 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_and_unity_buildings_ai_allow_conditions = yes
		pop_growth_building_conditions = yes
	}
	ai_weight = { weight = 100 }
}
building_unit_assembly_plant = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_2 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_intelligent_factories" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	 #resource output and modifiers
	produced_resources = { engineering_research = 4 unity = 2 }
	triggered_planet_modifier = {
		key = building_unit_assembly_plant
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}
	triggered_planet_modifier = {
		key = building_unit_assembly_plant
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_robot_build_speed_mult = 0.3 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_slave_processing = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_3 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_slave_processing = yes }
	allow = { requirement_slave_facility = yes requires_capital_1 = yes }
	prerequisites = { "tech_neural_implants" }
	show_tech_unlock_if = { tech_unlock_conditions_slave_processing = no }
	destroy_if = { destroy_if_conditions_slave_processing = yes }
	 #resource output and modifiers
	produced_resources = { minerals = 2 food = 2 }
	planet_modifier = {
		slave_mineral_output = 0.10
		slave_food_output = 0.10
		country_unrest_unhappy_slave_effect_mult = -0.25
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		slave_processing_ai_allow = yes
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 25
			from = {
				count_pops = {
					limit = { is_enslaved = yes }
					count > 2
				}
			}
		}
		modifier = {
			weight = 100
			from = {
				count_pops = {
					limit = { is_enslaved = yes }
					count > 5
				}
			}
		}
	}
}
building_neuro_electric_amplifier = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_3 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_neuro_electric_amplifier = yes }
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = { destroy_if_conditions_neuro_electric_amplifier = yes }
	 #resource output and modifiers
	produced_resources = { minerals = 2 energy = 2 }
	planet_modifier_with_pop_trigger = {
		key = building_neuro_electric_amplifier
		potential = { planet_is_not_virtual = yes has_trait = trait_cybernetic }
		modifier = { tile_resource_minerals_mult = 0.15 tile_resource_energy_mult = 0.15 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_and_minerals_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 25
			from = {
				count_pops = {
					limit = { has_trait = trait_cybernetic }
					count > 2
				}
			}
		}
		modifier = {
			weight = 100
			from = {
				count_pops = {
					limit = { has_trait = trait_cybernetic }
					count > 5
				}
			}
		}
	}
}
building_control_center = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		owner = { has_synchronicity_machine_center = yes }
	}
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = {
		exists = owner
		owner = { has_synchronicity_machine_center = no }
	}
	 #resource output and modifiers
	produced_resources = { energy = 2 unity = 2 }
	planet_modifier = { pop_robot_production_output = 0.05 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_and_unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_paradise_dome = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 360
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_2 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_utopian_dream = yes }
	}
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = {
		exists = owner
		owner = { has_utopian_dream = no }
	}
	required_resources = { energy = 2 }
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { food = 4 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { food = 2 }
		}
	}
	planet_modifier = { pop_citizen_happiness = 0.05 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_and_unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_visitor_center = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 270
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_1 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_diplomacy_alien_tourism = yes }
	}
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = {
		exists = owner
		owner = { has_diplomacy_alien_tourism = no }
	}
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { energy = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = yes
			resources = { energy = 4 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = no
			resources = { energy = 2 }
		}
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = { overhauled_building_stats_enabled = no }
		modifier = { planet_migration_xeno_pull = 0.50 pop_environment_tolerance = 0.05 }
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = { overhauled_building_stats_enabled = yes owner_is_xenophile = yes }
		modifier = { planet_migration_xeno_pull = 1 pop_environment_tolerance = 0.05 }
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = {
			overhauled_building_stats_enabled = yes
			owner_is_xenophile = no
			owner_is_xenophobe = no
		}
		modifier = { pop_consumer_goods_mult = -0.05 pop_environment_tolerance = 0.05 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_and_unity_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 25
		modifier = { factor = 2 overhauled_building_stats_enabled = yes }
	}
}
building_hive_synapse = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 360
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_3 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_synchronicity_hive_mind_synapse = yes }
	}
	allow = {
		if = {
			limit = { overhauled_building_stats_enabled = yes }
			requires_capital_1_or_hab = yes
		}
	}
	destroy_if = {
		exists = owner
		owner = { has_synchronicity_hive_mind_synapse = no }
	}
	 #resource output and modifiers
	produced_resources = { energy = 2 unity = 2 }
	planet_modifier = { pop_resource_output = 0.05 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_and_unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_symbol_purity = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 240
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_1 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_purity_symbol_purity = yes }
	}
	allow = {
		if = {
			limit = { overhauled_building_stats_enabled = yes }
			requires_capital_1_or_hab = yes
		}
	}
	destroy_if = {
		exists = owner
		owner = { has_purity_symbol_purity = no }
	}
	 #resource output and modifiers
	planet_modifier = { pop_government_ethic_attraction = 0.20 }
	produced_resources = { unity = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 100 }
}
building_akx_worm_2 = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 180
	is_listed = yes
	planet_unique = yes
	prerequisites = { "tech_akx_worm_2" }
	cost = { minerals = @planet_unique_cost_1 }
	allow = { allow_akx_worm_2 = yes }
	required_resources = { energy = 2 }
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_government_ethic_attraction = 0.05 pop_happiness = 0.05 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_gestalt_consciousness = no }
		modifier = { pop_government_ethic_attraction = 0.05 pop_happiness = 0.05 }
	}
	triggered_planet_modifier = {
		potential = { overhauled_building_stats_enabled = yes owner_is_gestalt_consciousness = yes }
		modifier = { pop_resource_output = 0.05 }
	}
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { society_research = 4 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_research_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_agricultural_processor_1 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 2 }
	destroy_if = { food_buildings_destroy_conditions = yes }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		agricultural_processor_conditions = yes
	}
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_agricultural_processing_1" }
	upgrades = { building_agricultural_processor_2 }
	 #resource output and modifiers
	produced_resources = { food = 2 }
	planet_modifier = { tile_resource_food_mult = 0.10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
		OR = {
			has_resource = { type = food amount = 1 }
			has_deposit = no
		}
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
building_agricultural_processor_2 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_2 }
	required_resources = { energy = 3 }
	destroy_if = { food_buildings_destroy_conditions = yes }
	show_tech_unlock_if = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		is_machine_empire = no
	}
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		agricultural_processor_conditions = yes
	}
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_agricultural_processing_2" }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	planet_modifier = { tile_resource_food_mult = 0.20 }
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hyperstorage_facility_1 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_1 }
	 #required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hyperstorage_1" }
	upgrades = { building_hyperstorage_facility_2 }
	 #resource output and modifiers
	adjacency_bonus = {
		tile_building_resource_minerals_add = @hyperstorage_t1_adjacency_bonus
		tile_building_resource_food_add = @hyperstorage_t1_adjacency_bonus
		tile_building_resource_energy_add = @hyperstorage_t1_adjacency_bonus
	}
	produced_resource_trigger = {
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { minerals = 2 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { minerals = 4 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { energy = 4 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			resources = { energy = 2 minerals = 2 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			NOR = {
				has_country_flag = is_food_starved
				has_country_flag = is_minerals_starved
				has_country_flag = is_energy_starved
			}
			resources = { food = 1 minerals = 1 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_food_starved
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { food = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			NOR = { has_country_flag = is_food_starved has_country_flag = is_energy_starved }
			resources = { minerals = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { food = 2 minerals = 2 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { food = 2 energy = 2 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_food_starved }
			resources = { minerals = 2 energy = 2 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			resources = {
				food = 2
				minerals = 1
				energy = 1
			}
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		hyperstorage_ai_allow = yes
	}
	ai_weight = { weight = 20 }
}
building_hyperstorage_facility_2 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_2 }
	 #required_resources = { energy = 4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_hyperstorage_2" }
	upgrades = { building_hyperstorage_facility_3 }
	 #resource output and modifiers
	adjacency_bonus = {
		tile_building_resource_minerals_add = @hyperstorage_t2_adjacency_bonus
		tile_building_resource_food_add = @hyperstorage_t2_adjacency_bonus
		tile_building_resource_energy_add = @hyperstorage_t2_adjacency_bonus
	}
	produced_resource_trigger = {
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { minerals = 3 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { minerals = 6 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { energy = 6 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			resources = { energy = 3 minerals = 3 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			NOR = {
				has_country_flag = is_food_starved
				has_country_flag = is_minerals_starved
				has_country_flag = is_energy_starved
			}
			resources = { food = 1.5 minerals = 1.5 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_food_starved
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { food = 6 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			NOR = { has_country_flag = is_food_starved has_country_flag = is_energy_starved }
			resources = { minerals = 6 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { food = 3 minerals = 3 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { food = 3 energy = 3 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_food_starved }
			resources = { minerals = 3 energy = 3 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			resources = {
				food = 3
				minerals = 1.5
				energy = 1.5
			}
		}
	}
	 #ai restrictions and weights
	ai_weight = { weight = 20 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hyperstorage_facility_3 = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @planet_unique_cost_3 }
	 #required_resources = { energy = 4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_hyperstorage_3" }
	 #resource output and modifiers
	adjacency_bonus = {
		tile_building_resource_minerals_add = @hyperstorage_t3_adjacency_bonus
		tile_building_resource_food_add = @hyperstorage_t3_adjacency_bonus
		tile_building_resource_energy_add = @hyperstorage_t3_adjacency_bonus
	}
	produced_resource_trigger = {
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { minerals = 4 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { minerals = 8 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { energy = 8 }
		}
		modifier = {
			OR = { is_machine_empire = yes is_synth_empire = yes }
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			resources = { energy = 4 minerals = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			NOR = {
				has_country_flag = is_food_starved
				has_country_flag = is_minerals_starved
				has_country_flag = is_energy_starved
			}
			resources = { food = 2 minerals = 2 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_food_starved
			NOR = { has_country_flag = is_minerals_starved has_country_flag = is_energy_starved }
			resources = { food = 8 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			NOR = { has_country_flag = is_food_starved has_country_flag = is_energy_starved }
			resources = { minerals = 8 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_energy_starved }
			resources = { food = 4 minerals = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_food_starved
			NOT = { has_country_flag = is_minerals_starved }
			resources = { food = 4 energy = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			NOT = { has_country_flag = is_food_starved }
			resources = { minerals = 4 energy = 4 }
		}
		modifier = {
			is_machine_empire = no
			is_synth_empire = no
			has_country_flag = is_energy_starved
			has_country_flag = is_minerals_starved
			has_country_flag = is_food_starved
			resources = {
				food = 4
				minerals = 2
				energy = 2
			}
		}
	}
	 #ai restrictions and weights
	ai_weight = { weight = 20 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_economic_district_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { minerals = @economic_district_upkeep_1 }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_economic_district_2 }
	 #resource output and modifiers
	produced_resources = { energy = @non_restricted_t1_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_no_deposit_or_allow_on_food = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_economic_district_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { minerals = @economic_district_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_economic_district_3 }
	 #resource output and modifiers
	produced_resources = { energy = @non_restricted_t2_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_economic_district_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { minerals = @economic_district_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_economic_district_4 }
	 #resource output and modifiers
	produced_resources = { energy = @non_restricted_t3_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_economic_district_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { minerals = @economic_district_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_economic_district_5 }
	 #resource output and modifiers
	produced_resources = { energy = @non_restricted_t4_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_economic_district_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { minerals = @economic_district_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	 #resource output and modifiers
	produced_resources = { energy = @non_restricted_t5_output }
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_energy_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_manufacturing_complex_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_1 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_manufacturing_complex_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @non_restricted_t1_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_no_deposit_or_allow_on_food = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_manufacturing_complex_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_manufacturing_complex_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @non_restricted_t2_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_manufacturing_complex_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_manufacturing_complex_4 }
	 #resource output and modifiers
	produced_resources = { minerals = @non_restricted_t3_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_manufacturing_complex_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_manufacturing_complex_5 }
	 #resource output and modifiers
	produced_resources = { minerals = @non_restricted_t4_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_manufacturing_complex_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_mining_network_5" }
	 #resource output and modifiers
	produced_resources = { minerals = @non_restricted_t5_output }
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_minerals_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponic_farm_1 = {
	 #building defines
	icon = "building_hydroponics_farm_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { energy = @hydroponic_farm_upkeep_1 minerals = @hydroponic_farm_upkeep_1 }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		hydroponic_compound_conditions = yes
	}
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_hydroponic_farm_2 }
	 #resource output and modifiers
	produced_resources = { food = @non_restricted_t1_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_deposit = no
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
	}
}
building_hydroponic_farm_2 = {
	 #building defines
	icon = "building_hydroponics_farm_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @hydroponic_farm_upkeep_2 minerals = @hydroponic_farm_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		hydroponic_compound_conditions = yes
	}
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_hydroponic_farm_3 }
	 #resource output and modifiers
	produced_resources = { food = @non_restricted_t2_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponic_farm_3 = {
	 #building defines
	icon = "building_hydroponics_farm_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { energy = @hydroponic_farm_upkeep_3 minerals = @hydroponic_farm_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		hydroponic_compound_conditions = yes
	}
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_hydroponic_farm_4 }
	 #resource output and modifiers
	produced_resources = { food = @non_restricted_t3_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponic_farm_4 = {
	 #building defines
	icon = "building_hydroponics_farm_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { energy = @hydroponic_farm_upkeep_4 minerals = @hydroponic_farm_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		hydroponic_compound_conditions = yes
	}
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_hydroponic_farm_5 }
	 #resource output and modifiers
	produced_resources = { food = @non_restricted_t4_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hydroponic_farm_5 = {
	 #building defines
	icon = "building_hydroponics_farm_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { energy = @hydroponic_farm_upkeep_5 minerals = @hydroponic_farm_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		hydroponic_compound_conditions = yes
	}
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	 #resource output and modifiers
	produced_resources = { food = @non_restricted_t5_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_food_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	 #ai restrictions and weights
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_sociological_campus_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { energy = @sociological_campus_upkeep_1 minerals = @sociological_campus_upkeep_1 }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_sociological_campus_2 }
	 #resource output and modifiers
	produced_resources = { society_research = @non_restricted_t1_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_no_deposit_or_allow_on_food = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
building_sociological_campus_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @sociological_campus_upkeep_2 minerals = @sociological_campus_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_sociological_campus_3 }
	 #resource output and modifiers
	produced_resources = { society_research = @non_restricted_t2_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_sociological_campus_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { energy = @sociological_campus_upkeep_3 minerals = @sociological_campus_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_sociological_campus_4 }
	 #resource output and modifiers
	produced_resources = { society_research = @non_restricted_t3_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_sociological_campus_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { energy = @sociological_campus_upkeep_4 minerals = @sociological_campus_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_sociological_campus_5 }
	 #resource output and modifiers
	produced_resources = { society_research = @non_restricted_t4_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_sociological_campus_5 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { energy = @sociological_campus_upkeep_5 minerals = @sociological_campus_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	 #resource output and modifiers
	produced_resources = { society_research = @non_restricted_t5_output }
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_society_research_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_campus_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { energy = @physics_campus_upkeep_1 minerals = @physics_campus_upkeep_1 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_campus_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t1_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_no_deposit_or_allow_on_food = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
building_physics_campus_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @physics_campus_upkeep_2 minerals = @physics_campus_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_campus_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t2_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_campus_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { energy = @physics_campus_upkeep_3 minerals = @physics_campus_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_campus_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t3_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_campus_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { energy = @physics_campus_upkeep_4 minerals = @physics_campus_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_campus_5 }
	 #resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t4_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_campus_5 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { energy = @physics_campus_upkeep_5 minerals = @physics_campus_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	 #resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t5_output }
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_physics_research_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_campus_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @non_restricted_t1_time
	cost = { minerals = @non_restricted_t1_cost }
	required_resources = { energy = @engineering_campus_upkeep_1 minerals = @engineering_campus_upkeep_1 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_campus_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t1_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		has_no_deposit_or_allow_on_food = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
building_engineering_campus_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @engineering_campus_upkeep_2 minerals = @engineering_campus_upkeep_2 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_campus_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t2_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_campus_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time
	cost = { minerals = @non_restricted_t3_cost }
	required_resources = { energy = @engineering_campus_upkeep_3 minerals = @engineering_campus_upkeep_3 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_campus_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t3_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_campus_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time
	cost = { minerals = @non_restricted_t4_cost }
	required_resources = { energy = @engineering_campus_upkeep_4 minerals = @engineering_campus_upkeep_4 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_campus_5 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t4_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_campus_5 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time
	cost = { minerals = @non_restricted_t5_cost }
	required_resources = { energy = @engineering_campus_upkeep_5 minerals = @engineering_campus_upkeep_5 }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes planet_is_not_virtual = yes }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	 #resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t5_output }
	triggered_planet_modifier = {
		key = "capital_3_tile_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_engineering_research_mult = @non_restricted_t5_capital_tile_resource_mult }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_1_1 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_complex_2_1 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_3_1 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_4_1 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_5_1 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_1_2 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_complex_2_2 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_3_2 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_4_2 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_5_2 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_1_3 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_complex_2_3 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_3_3 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_4_3 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_5_3 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_1_4 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_4 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_complex_2_4 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_4 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_3_4 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_4 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_4_4 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_4 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_5_4 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_1_5 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_5 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_complex_2_5 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_5 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_3_5 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_5 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_4_5 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_5 }
	 #resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mining_complex_5_5 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_minerals = yes
		planet_is_artificial = no
	}
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_minerals_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_1_1 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_1 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t1_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
}
building_farming_complex_2_1 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_farming_complex_3_1 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t2_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_3_1 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_farming_complex_4_1 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t3_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_4_1 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_farming_complex_5_1 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t4_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_5_1 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes food_tech_potential = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	produced_resources = { food = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t5_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_food_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_1_2 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_2 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t1_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
}
building_farming_complex_2_2 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_farming_complex_3_2 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t2_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_3_2 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_farming_complex_4_2 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t3_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_4_2 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_farming_complex_5_2 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t4_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_5_2 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	produced_resources = { food = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t5_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_food_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_1_3 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_3 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t1_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
}
building_farming_complex_2_3 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_farming_complex_3_3 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t2_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_3_3 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_farming_complex_4_3 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t3_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_4_3 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_farming_complex_5_3 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t4_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_5_3 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	produced_resources = { food = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t5_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_food_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_1_4 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_4 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t1_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
}
building_farming_complex_2_4 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_farming_complex_3_4 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t2_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_3_4 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_farming_complex_4_4 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t3_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_4_4 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_farming_complex_5_4 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t4_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_5_4 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	produced_resources = { food = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t5_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_food_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_1_5 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_5 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t1_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
}
building_farming_complex_2_5 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_farming_complex_3_5 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t2_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_3_5 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_farming_complex_4_5 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t3_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_4_5 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_farming_complex_5_5 }
	 #resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t4_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_farming_complex_5_5 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { food_buildings_destroy_conditions = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
		farming_complex_conditions = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_superior_agriculture" }
	produced_resources = { food = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_food_add = @tile_restricted_t5_static_resource_add }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_food_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_1_1 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_0_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_isotope_refinery_2_1 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_0_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_3_1 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_0_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_4_1 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_0_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_5_1 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_0_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_1_2 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_isotope_refinery_2_2 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_3_2 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_4_2 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_5_2 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_1_3 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_isotope_refinery_2_3 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_3_3 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_4_3 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_5_3 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_1_4 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_isotope_refinery_2_4 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_3_4 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_4_4 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_5_4 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_1_5 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_isotope_refinery_2_5 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_3_5 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_4_5 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_isotope_refinery_5_5 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_energy = yes
	}
	allow = { requires_energy_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_1_1 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_biofuel_refinery_2_1 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_3_1 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_4_1 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_1 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_5_1 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_1_2 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_biofuel_refinery_2_2 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_3_2 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_4_2 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_2 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_5_2 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_1_3 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_biofuel_refinery_2_3 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_3_3 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_4_3 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_3 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_5_3 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_1_4 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_biofuel_refinery_2_4 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_3_4 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_4_4 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_4 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_5_4 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_1_5 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	 #required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_biofuel_refinery_2_5 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	 #required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_3_5 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	 #required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_4_5 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	 #required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_5 }
	 #resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_biofuel_refinery_5_5 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	 #required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_food = yes
	}
	allow = { requires_food_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_energy_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_energy_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_1_1 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_1 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_society_lab_2_1 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_1 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_3_1 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_1 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_4_1 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_1 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_5_1 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_1_2 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_2 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_society_lab_2_2 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_2 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_3_2 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_2 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_4_2 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_2 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_5_2 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_1_3 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_3 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_society_lab_2_3 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_3 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_3_3 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_3 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_4_3 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_3 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_5_3 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_1_4 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_4 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_society_lab_2_4 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_4 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_3_4 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_4 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_4_4 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_4 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_5_4 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_1_5 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_5 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t1_static_resource_add }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_society_lab_2_5 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_5 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_3_5 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_5 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_4_5 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_5 }
	 #resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_society_lab_5_5 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_society = yes
	}
	allow = { requires_society_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_society_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1_1 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_1 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_1 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_1 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3_1 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_1 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4_1 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_1 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_5_1 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1_2 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_2 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3_2 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4_2 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_5_2 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1_3 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_3 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3_3 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4_3 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_5_3 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1_4 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_4 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3_4 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4_4 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_5_4 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_1_5 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_5 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_5 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_5 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_3_5 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_5 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_4_5 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_5 }
	 #resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_physics_lab_5_5 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_physics = yes
	}
	allow = { requires_physics_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_physics_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_1_1 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_1 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_lab_2_1 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_1 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_3_1 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_1 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_4_1 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_1 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_5_1 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_1_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_1_2 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_lab_2_2 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_3_2 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_4_2 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_5_2 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_2_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_1_3 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_lab_2_3 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_3_3 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_4_3 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_5_3 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_3_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_1_4 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_lab_2_4 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_3_4 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_4_4 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_5_4 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_4_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_1_5 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_0_or_hab = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_5 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t1_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_lab_2_5 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_5 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t2_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_3_5 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_1_or_hab = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_5 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t3_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_4_5 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_5 }
	 #resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t4_static_resource_add }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_engineering_lab_5_5 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { always = no }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		planet_is_not_virtual = yes
		conditions_tile_restricted_5_engineering = yes
	}
	allow = { requires_engineering_research_tile = yes requires_capital_2_or_hab = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_static_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { static_planet_resource_engineering_research_add = @tile_restricted_t5_triggered_planet_modifier }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_1_1 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_2_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_1_adjacency_bonus }
}
building_energy_matter_converter_2_1 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_3_1 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_1_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_3_1 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_1_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_1_2 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_2_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_2_adjacency_bonus }
}
building_energy_matter_converter_2_2 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_3_2 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_2_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_3_2 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_2_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_1_3 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_2_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_3_adjacency_bonus }
}
building_energy_matter_converter_2_3 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_matter_converter_3_3 }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_3_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_matter_converter_3_3 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_3_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_1_1 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	 #required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_2_1 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	 #ai restrictions and weights
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_1_adjacency_bonus }
}
building_energy_conduit_2_1 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	 #required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_3_1 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_1_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_3_1 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	 #required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_1_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_1_2 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	 #required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_2_2 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_2_adjacency_bonus }
}
building_energy_conduit_2_2 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	 #required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_3_2 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_2_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_3_2 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	 #required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_2_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_1_3 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	 #required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_2_3 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	 #ai restrictions and weights
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_3_adjacency_bonus }
}
building_energy_conduit_2_3 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	 #required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_energy_conduit_3_3 }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_3_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_energy_conduit_3_3 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	 #required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_3_adjacency_bonus }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_food_replicator_1_1 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t1_1 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_2_1 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_1_adjacency_bonus }
}
building_food_replicator_2_1 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t2_1 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_3_1 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_1_adjacency_bonus }
}
building_food_replicator_3_1 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t3_1 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_1_adjacency_bonus }
}
building_food_replicator_1_2 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t1_2 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_2_2 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 50
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_2_adjacency_bonus }
}
building_food_replicator_2_2 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t2_2 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_3_2 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_2_adjacency_bonus }
}
building_food_replicator_3_2 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t3_2 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_2_adjacency_bonus }
}
building_food_replicator_1_3 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t1_3 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_2_3 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_limitation = no
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = food value < 100 }
			}
		}
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_3_adjacency_bonus }
}
building_food_replicator_2_3 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t2_3 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_food_replicator_3_3 }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_3_adjacency_bonus }
}
building_food_replicator_3_3 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	 #requirements and upgrade
	potential = {
		new_building_content_enabled = yes
		conditions_megastructure_restricted_t3_3 = yes
		owner_is_machine_empire = no
	}
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	ai_allow = {
		food_buildings_limitation = no
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_3_adjacency_bonus }
}
building_computational_array_1_1 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_2_1 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t1_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_1_adjacency_bonus
	}
}
building_computational_array_2_1 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_3_1 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t2_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_1_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_computational_array_3_1 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_1 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t3_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_1_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_computational_array_1_2 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_2_2 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t1_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_2_adjacency_bonus
	}
}
building_computational_array_2_2 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_3_2 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t2_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_2_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_computational_array_3_2 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_2 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t3_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_2_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_computational_array_1_3 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t1_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_2_3 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t1_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_3_adjacency_bonus
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 25
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_computational_array_2_3 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t2_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	upgrades = { building_computational_array_3_3 }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t2_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_3_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_computational_array_3_3 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	 #requirements and upgrade
	potential = { new_building_content_enabled = yes conditions_megastructure_restricted_t3_3 = yes }
	allow = { requires_megastructure_node_tile = yes requires_capital_1_or_hab = yes }
	 #resource output and modifiers
	produced_resources = {
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = {
		tile_building_resource_society_research_add = @megastructure_unique_t3_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_3_adjacency_bonus
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_stronghold = {
	 #building defines
	tags = { military_building }
	is_listed = yes
	defense_armies = 3
	protects_from_bombardment = yes
	planetary_ftl_inhibitor = yes
	base_buildtime = 180
	cost = { minerals = 300 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	prerequisites = { "tech_planetary_defenses" }
	upgrades = { building_fortress }
	 #resource output and modifiers
	produced_resources = { unity = 1 }
	planet_modifier = { planet_unrest_add = -30 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
		planet = { has_planet_flag = fortify_planet }
	}
	ai_weight = { weight = 1000 }
}
building_fortress = {
	 #building defines
	tags = { military_building }
	is_listed = no
	defense_armies = 5
	protects_from_bombardment = yes
	planetary_ftl_inhibitor = yes
	base_buildtime = 180
	cost = { minerals = 500 }
	required_resources = { energy = 4 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_global_defense_grid" }
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	planet_modifier = { planet_unrest_add = -50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hab_stronghold = {
	 #building defines
	icon = "building_stronghold"
	tags = { military_building }
	is_listed = yes
	defense_armies = 2
	base_buildtime = 180
	cost = { minerals = 250 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = yes }
	prerequisites = { "tech_planetary_defenses" }
	allow = { requires_hab_capital = yes }
	 #resource output and modifiers
	produced_resources = { unity = 1 }
	planet_modifier = { planet_unrest_add = -40 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
		planet = { has_planet_flag = fortify_planet }
	}
	ai_weight = { weight = 1000 }
}
building_planetary_shield_generator = {
	 #building defines
	tags = { military_building }
	icon = "building_shield_generator"
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = 500 }
	required_resources = { energy = 5 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = no }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_planetary_shield_generator" }
	 #resource output and modifiers
	planet_modifier = { planet_orbital_bombardment_damage = -0.75 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 3 physics_research = 3 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { unity = 2 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		planetary_shield_ai_allow_conditions = yes
		planet = { has_planet_flag = build_planetary_shield_generator }
	}
	ai_weight = { weight = 100 }
}
building_military_academy = {
	 #building defines
	tags = { military_building }
	planet_unique = yes
	is_listed = yes
	defense_armies = 2
	base_buildtime = 360
	cost = { minerals = 200 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		planet_is_habitat = no
		owner_is_machine_empire = no
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_centralized_command" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	army_modifier = { army_starting_experience_add = 100 }
	planet_modifier = { planet_army_build_speed_mult = 0.50 planet_unrest_add = -10 }
	produced_resources = { engineering_research = 2 society_research = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		military_academy_ai_allow_conditions = yes
		planet = { has_planet_flag = build_military_academy }
	}
	ai_weight = { weight = 30 }
}
building_clone_vats = {
	 #building defines
	tags = { military_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = 200 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_clone_vats = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_gene_banks" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { society_research = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		clone_vats_ai_allow_conditions = yes
		planet = { has_planet_flag = build_clone_vats }
	}
	ai_weight = { weight = 30 }
}
building_war_factory = {
	 #building defines
	tags = { military_building }
	planet_unique = yes
	is_listed = yes
	defense_armies = 2
	base_buildtime = 360
	cost = { minerals = 200 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		planet_is_habitat = no
		owner_is_machine_empire = yes
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_centralized_command" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	 #resource output and modifiers
	army_modifier = { army_starting_experience_add = 100 }
	produced_resources = { engineering_research = 2 society_research = 2 }
	triggered_planet_modifier = {
		key = building_war_factory
		potential = { overhauled_building_stats_enabled = no }
		modifier = { planet_army_build_speed_mult = 0.50 planet_unrest_add = -10 }
	}
	triggered_planet_modifier = {
		key = building_war_factory
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { planet_army_build_speed_mult = 0.50 planet_army_build_cost_mult = -0.25 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		war_factor_ai_allow_conditions = yes
		planet = { has_planet_flag = build_war_factory }
	}
	ai_weight = { weight = 30 }
}
building_organic_sanctuary = {
	 #building defines
	is_listed = no
	allow = { always = no }
	ai_replace = no
	can_demolish = no
	event_building = yes
	active = { requires_bio_trophy_pop = yes }
	destroy_if = { destroy_if_conditions_servitor_event_buildings = yes }
	required_resources = { energy = 1 }
	produced_resources = { unity = 1 }
	planet_modifier_with_pop_trigger = {
		key = building_organic_sanctuary
		potential = { overhauled_building_stats_enabled = yes has_trait = trait_machine_unit }
		modifier = { tile_resource_minerals_mult = 0.02 tile_resource_energy_mult = 0.02 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_organic_paradise = {
	 #building defines
	is_listed = no
	allow = { always = no }
	ai_replace = no
	can_demolish = no
	event_building = yes
	active = { requires_bio_trophy_pop = yes }
	destroy_if = { destroy_if_conditions_servitor_event_buildings = yes }
	required_resources = { energy = 1 }
	produced_resources = { unity = 2 }
	planet_modifier_with_pop_trigger = {
		key = building_organic_paradise
		potential = { overhauled_building_stats_enabled = yes has_trait = trait_machine_unit }
		modifier = { tile_resource_minerals_mult = 0.04 tile_resource_energy_mult = 0.04 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_ancient_factory = {
	 #building_defines
	base_buildtime = 360
	cost = { minerals = 360 }
	is_listed = no
	ai_replace = no
	event_building = yes
	required_resources = { energy = 4 }
	 #resource output and modifiers
	produced_resources = { minerals = 12 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_dark_matter_power_plant = {
	 #building_defines
	base_buildtime = 360
	cost = { minerals = 360 }
	is_listed = no
	ai_replace = no
	event_building = yes
	 #resource output and modifiers
	produced_resources = { energy = 12 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_ancient_archives = {
	 #building_defines
	base_buildtime = 360
	cost = { minerals = 360 }
	is_listed = no
	ai_replace = no
	event_building = yes
	 #resource output and modifiers
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_agri_processing_complex = {
	 #building_defines
	is_listed = no
	ai_replace = no
	event_building = yes
	base_buildtime = 360
	cost = { minerals = 360 }
	required_resources = { energy = 4 }
	 #resource output and modifiers
	produced_resources = { food = 12 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_primitive_farm = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_farm"
	ai_replace = no
	event_building = yes
	upgrades = { building_hydroponics_farm_1 }
	destroy_if = { owner_is_machine_empire = yes }
	produced_resources = { food = 1 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_primitive_factory = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_factory"
	ai_replace = no
	event_building = yes
	upgrades = { building_mining_network_1 }
	produced_resources = { minerals = 1 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_zanaam_obelisk = {
	 #building_defines
	is_listed = no
	ai_replace = no
	event_building = yes
	immune_to_bombardment = yes
	produced_resources = {
		engineering_research = 10
		society_research = 10
		physics_research = 10
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_great_pyramid = {
	 #building_defines
	is_listed = no
	icon = "building_great_pyramid"
	ai_replace = no
	event_building = yes
	produced_resources = { food = 2 society_research = 2 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_toy_factory = {
	 #building_defines
	is_listed = no
	ai_replace = no
	event_building = yes
	produced_resources = { engineering_research = 6 society_research = 3 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_mutant_landfill = {
	 #building_defines
	is_listed = no
	icon = "building_hive_ruins"
	ai_replace = no
	event_building = yes
	produced_resources = { society_research = 8 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_vault = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_farm"
	ai_replace = no
	event_building = yes
	produced_resources = { society_research = 8 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_vault_2 = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_farm"
	ai_replace = no
	event_building = yes
	produced_resources = { engineering_research = 3 minerals = 6 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_particle_accelerator = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_factory"
	ai_replace = no
	event_building = yes
	produced_resources = { physics_research = 6 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_odd_factory = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_factory"
	ai_replace = no
	event_building = yes
	produced_resources = { energy = 3 minerals = 3 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_quarantine = {
	 #building_defines
	is_listed = no
	icon = "building_primitive_farm"
	ai_replace = no
	event_building = yes
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_plague_memorial = {
	 #building_defines
	is_listed = no
	icon = "building_religious_monument"
	planet_modifier = { pop_happiness = 0.05 }
	ai_replace = no
	event_building = yes
	produced_resources = { unity = 2 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_fe_xeno_zoo = {
	 #building_defines
	is_listed = no
	icon = "building_xeno_preserve"
	cost = { energy = 1 }
	ai_replace = no
	event_building = yes
	produced_resources = { society_research = 2 food = 1 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_worm_mine = {
	 #building defines
	is_listed = no
	allow = { always = no }
	ai_replace = no
	event_building = yes
	required_resources = { energy = 2 }
	produced_resources = { minerals = 12 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_worm_farm = {
	 #building defines
	is_listed = no
	allow = { always = no }
	ai_replace = no
	event_building = yes
	required_resources = { energy = 2 }
	produced_resources = { food = 12 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_galactic_stock_exchange = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 720
	cost = { minerals = @empire_unique_mineral_cost_1 influence = @empire_unique_influence_cost_1 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_galactic_markets" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { destroy_if_conditions_organic_empire_unique_buildings = yes }
	 #resource output and modifiers
	country_modifier = { tile_resource_energy_mult = 0.10 }
	produced_resources = { energy = 10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 500
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_ministry_benevolence = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 720
	cost = { minerals = @empire_unique_mineral_cost_1 influence = @empire_unique_influence_cost_1 }
	required_resources = { energy = 7 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_galactic_benevolence" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { destroy_if_conditions_organic_empire_unique_buildings = yes }
	 #resource output and modifiers
	country_modifier = { pop_government_ethic_attraction = 0.10 planet_unrest_mult = -0.1 }
	produced_resources = { unity = 6 }
	produced_resource_trigger = {
		modifier = {
			overhauled_building_stats_enabled = yes
			resources = { unity = 4 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 100
		modifier = { factor = 5 overhauled_building_stats_enabled = yes }
	}
}
building_institute = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 720
	cost = { minerals = @empire_unique_mineral_cost_1 influence = @empire_unique_influence_cost_1 }
	required_resources = { energy = 10 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_global_research_initiative" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { destroy_if_conditions_organic_empire_unique_buildings = yes }
	 #resource output and modifiers
	country_modifier = { all_technology_research_speed = 0.05 }
	produced_resources = {
		engineering_research = 5
		physics_research = 5
		society_research = 5
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 500
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_psi_corps = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = 450 }
	required_resources = { energy = 4 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		planet_is_capital = yes
		owner = { has_ascension_perk = ap_mind_over_matter }
	}
	allow = { requires_capital_3 = yes }
	destroy_if = { destroy_if_conditions_psi_corps = yes }
	 #resource output and modifiers
	country_modifier = { planet_unrest_mult = -0.1 pop_government_ethic_attraction = 0.05 }
	produced_resources = { unity = 10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = { weight = 100 }
}
building_singularity_core = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 720
	cost = { minerals = @empire_unique_mineral_cost_2 influence = @empire_unique_influence_cost_2 }
	required_resources = { energy = 10 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_singularity_core" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { destroy_if_conditions_machine_empire_unique_buildings = yes }
	 #resource output and modifiers
	country_modifier = { all_technology_research_speed = 0.05 }
	produced_resources = {
		engineering_research = 5
		physics_research = 5
		society_research = 5
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 500
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_probability_engine = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @empire_unique_mineral_cost_2 influence = @empire_unique_influence_cost_2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_probability_theory" }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { destroy_if_conditions_machine_empire_unique_buildings = yes }
	 #resource output and modifiers
	country_modifier = { tile_resource_energy_mult = 0.10 }
	produced_resources = { energy = 10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		empire_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 500
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_akx_worm_3 = {
	 #building defines
	tags = { empire_unique_building }
	empire_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = 120 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_capital = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_akx_worm_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { physics_research = 10 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		physics_research_buildings_ai_allow = yes
	}
	ai_weight = { weight = 9001 }  #this means the AI will always build this building
}
building_colony_shelter = {
	 #building defines
	tags = { capital_building }
	base_buildtime = 180
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 0
	defense_armies = 1
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_colony_shelter = yes }
	upgrades = { building_capital_1 }
	 #resource output and modifiers
	produced_resources = { energy = 1 }
	produced_resource_trigger = {
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	triggered_planet_modifier = {
		 #modifier with vanilla stats
		potential = { overhauled_building_stats_enabled = no owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.05 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		capital_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 1000
		modifier = { factor = 2 num_adjacent_tiles = 4 }
	}
}
building_deployment_post = {
	 #building defines
	tags = { capital_building }
	base_buildtime = 180
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 0
	defense_armies = 1
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_deployment_post = yes }
	upgrades = { building_machine_capital_1 }
	 #resource output and modifiers
	produced_resources = { energy = 1 }
	produced_resource_trigger = {
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		capital_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 1000
		modifier = { factor = 2 num_adjacent_tiles = 4 }
	}
}
building_capital_1 = {
	 #building defines
	tags = { capital_building }
	is_listed = yes
	base_buildtime = 360
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 1
	defense_armies = 3
	cost = { minerals = 350 }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_capital_1 = yes }
	allow = { requires_5_pops = yes }
	prerequisites = { "tech_planetary_government" }
	upgrades = { building_capital_2 }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = no
			resources = { food = 2 unity = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = yes
			resources = { minerals = 2 unity = 1 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 1
		tile_building_resource_food_add = 1
		tile_building_resource_energy_add = 1
		tile_building_resource_engineering_research_add = 1
		tile_building_resource_society_research_add = 1
		tile_building_resource_physics_research_add = 1
	}
	triggered_planet_modifier = {
		 #modifier with vanilla stats
		potential = { overhauled_building_stats_enabled = no owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.15 }
	}
	triggered_planet_modifier = {
		 #modifier with overhauled content
		potential = { overhauled_building_stats_enabled = yes owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.1 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		capital_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 1000
		modifier = { factor = 2 num_adjacent_tiles = 4 }
	}
}
building_machine_capital_1 = {
	 #building defines
	tags = { capital_building }
	is_listed = yes
	base_buildtime = 360
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 1
	defense_armies = 3
	cost = { minerals = 350 }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_machine_capital_1 = yes }
	allow = { requires_5_pops = yes }
	prerequisites = { "tech_planetary_government" }
	upgrades = { building_machine_capital_2 }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { minerals = 2 unity = 1 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 1
		tile_building_resource_food_add = 1
		tile_building_resource_energy_add = 1
		tile_building_resource_engineering_research_add = 1
		tile_building_resource_society_research_add = 1
		tile_building_resource_physics_research_add = 1
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		capital_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 1000
		modifier = { factor = 2 num_adjacent_tiles = 4 }
	}
}
building_capital_2 = {
	 #building defines
	tags = { capital_building }
	is_listed = no
	base_buildtime = 720
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 2
	defense_armies = 5
	cost = { minerals = 500 }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_capital_2 = yes }
	allow = { requires_10_pops = yes }
	prerequisites = { "tech_colonial_centralization" }
	upgrades = { building_capital_3 }
	 #resource output and modifiers
	produced_resources = { energy = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = no
			resources = { food = 3 unity = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = yes
			resources = { minerals = 3 unity = 2 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 2
		tile_building_resource_food_add = 2
		tile_building_resource_energy_add = 2
		tile_building_resource_engineering_research_add = 2
		tile_building_resource_society_research_add = 2
		tile_building_resource_physics_research_add = 2
	}
	triggered_planet_modifier = {
		 #modifier with vanilla stats
		potential = { overhauled_building_stats_enabled = no owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.15 }
	}
	triggered_planet_modifier = {
		 #modifier with overhauled content
		potential = { overhauled_building_stats_enabled = yes owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.20 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_machine_capital_2 = {
	 #building defines
	tags = { capital_building }
	is_listed = no
	base_buildtime = 720
	planet_unique = yes
	ai_replace = no
	capital = yes
	level = 2
	defense_armies = 5
	cost = { minerals = 500 }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = { owner_is_machine_empire = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_machine_capital_2 = yes }
	allow = { requires_10_pops = yes }
	prerequisites = { "tech_colonial_centralization" }
	upgrades = { building_machine_capital_3 }
	 #resource output and modifiers
	produced_resources = { energy = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { minerals = 3 unity = 2 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 2
		tile_building_resource_food_add = 2
		tile_building_resource_energy_add = 2
		tile_building_resource_engineering_research_add = 2
		tile_building_resource_society_research_add = 2
		tile_building_resource_physics_research_add = 2
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_capital_3 = {
	 #building defines
	tags = { capital_building }
	is_listed = no
	base_buildtime = 1080
	planet_unique = yes
	empire_unique = yes
	ai_replace = no
	capital = yes
	level = 3
	defense_armies = 7
	cost = { minerals = 1000 }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = {
		OR = { owner_is_machine_empire = yes planet_is_capital = no }
	}
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_capital_3 = yes }
	allow = { requires_15_pops = yes }
	prerequisites = { "tech_galactic_administration" }
	 #resource output and modifiers
	produced_resources = { energy = 8 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 3 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = no
			resources = { food = 4 unity = 3 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_synth_empire = yes
			resources = { minerals = 4 unity = 3 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 3
		tile_building_resource_food_add = 3
		tile_building_resource_energy_add = 3
		tile_building_resource_engineering_research_add = 3
		tile_building_resource_society_research_add = 3
		tile_building_resource_physics_research_add = 3
	}
	triggered_planet_modifier = {
		 #modifier with vanilla stats
		potential = { overhauled_building_stats_enabled = no owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.15 }
	}
	triggered_planet_modifier = {
		 #modifier with overhauled content
		potential = { overhauled_building_stats_enabled = yes owner_is_hive_mind_empire = no }
		modifier = { pop_government_ethic_attraction = 0.30 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_machine_capital_3 = {
	 #building defines
	tags = { capital_building }
	is_listed = no
	base_buildtime = 1080
	planet_unique = yes
	empire_unique = yes
	ai_replace = no
	capital = yes
	level = 3
	defense_armies = 7
	cost = { minerals = 1000 }
	show_tech_unlock_if = { is_machine_empire = yes }
	destroy_if = {
		OR = { owner_is_machine_empire = no planet_is_capital = no }
	}
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_machine_capital_3 = yes }
	allow = { requires_15_pops = yes }
	prerequisites = { "tech_galactic_administration" }
	 #resource output and modifiers
	produced_resources = { energy = 8 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 3 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { minerals = 4 unity = 3 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 1 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 3
		tile_building_resource_food_add = 3
		tile_building_resource_energy_add = 3
		tile_building_resource_engineering_research_add = 3
		tile_building_resource_society_research_add = 3
		tile_building_resource_physics_research_add = 3
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
	}
}
building_hab_capital = {
	 #building defines
	tags = { capital_building }
	base_buildtime = 1080
	planet_unique = yes
	ai_replace = no
	capital = yes
	defense_armies = 2
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes planet_is_habitat = yes }
	upgrades = { building_capital_3 building_machine_capital_3 }
	 #resource output and modifiers
	triggered_planet_modifier = {
		 #modifier with vanilla stats
		potential = { overhauled_building_stats_enabled = no owner_is_gestalt_consciousness = no }
		modifier = { pop_government_ethic_attraction = 0.2 }
	}
	triggered_planet_modifier = {
		 #modifier with overhauled content
		potential = { overhauled_building_stats_enabled = yes owner_is_gestalt_consciousness = no }
		modifier = { pop_government_ethic_attraction = 0.2 }
	}
	produced_resources = { energy = 5 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { unity = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			OR = { is_synth_empire = no is_machine_empire = no }
			resources = { food = 2 unity = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			OR = { is_synth_empire = yes is_machine_empire = yes }
			resources = { minerals = 2 unity = 2 }
		}
		modifier = {
			has_colonization_fever = yes
			resources = { unity = 2 }
		}
	}
	adjacency_bonus = {
		tile_building_resource_minerals_add = 1
		tile_building_resource_food_add = 1
		tile_building_resource_energy_add = 1
		tile_building_resource_engineering_research_add = 1
		tile_building_resource_society_research_add = 1
		tile_building_resource_physics_research_add = 1
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		capital_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 1000
		modifier = { factor = 2 num_adjacent_tiles = 4 }
	}
}
