namespace = ex_fleet_events

fleet_event = { #this event debuffs wormhole using ships upon entering a system - the penalty depends on the ships' level of "Wormhole Modulator".
	id = ex_fleet_events.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {	
		owner = { ftl = wormhole }
		is_ship_class = shipclass_military	
	}	
	
	immediate = {
		if = {
			limit = { root = { has_modifier = ex_wormhole_ftl_debuff } }
			root = { remove_modifier = "ex_wormhole_ftl_debuff" }
		}	
		if = {
			limit = { any_ship = { has_wormhole_modulator_1 = yes } }  
			root = { add_modifier = { modifier = ex_wormhole_ftl_debuff days = 90 } }
		}	
		if = {
			limit = { 
				NOT = { root = { has_modifier = ex_wormhole_ftl_debuff } }
				any_ship = { has_wormhole_modulator_2 = yes }
			} 
			root = { add_modifier = { modifier = ex_wormhole_ftl_debuff days = 60 } }
		}		
		if = {
			limit = { 
				NOT = { root = { has_modifier = ex_wormhole_ftl_debuff } }
				any_ship = { has_wormhole_modulator_3 = yes }
			} 
			root = { add_modifier = { modifier = ex_wormhole_ftl_debuff days = 30 } }
		}		
	}
}