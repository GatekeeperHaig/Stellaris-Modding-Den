namespace = custom_difficulty

#main menu
country_event = {
  id = custom_difficulty.0
  is_triggered_only = yes
  title = custom_difficulty.0.name
  desc = {
    trigger = {
      success_text = {
        text = custom_difficulty.0.desc
        not = { has_global_flag = custom_difficulty_locked }
      }
      success_text = {
        text = custom_difficulty.0.locked.desc
        has_global_flag = custom_difficulty_locked
      }
    }
  }

  option = {
    name = custom_difficulty.0.change_ai
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.1000 }
    }
  }
  option = {
    name = custom_difficulty.0.change_fe
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.2000 }
    }
  }
  option = {
    name = custom_difficulty.0.change_leviathan
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.3000 }
    }
  }
  option = {
    name = custom_difficulty.0.change_player
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.4000 }
    }
  }
  option = {
    name = custom_difficulty.0.lock
    trigger = 
    {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
      country_event = { id = custom_difficulty.1 }
    }
  }
  option = {
    name = custom_difficulty.0.unlock
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
      remove_global_flag = custom_difficulty_locked
    }
  }
  option = {
    name = OK
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
    }
  }
  #immediate = { 
  #  set_variable = { which = custom_difficulty_ai_mineral value = 1 }
  # }


}

#lock confirmation
country_event = {
  id = custom_difficulty.1
  is_triggered_only = yes
  title = custom_difficulty.1.LOCK
  desc = custom_difficulty.1.Really_gonna_lock
  option = {
    name = OK
      hidden_effect = {
        set_global_flag = custom_difficulty_locked
    }
  }
  option = {
    name= CANCEL
  }
}

country_event = {
  id = custom_difficulty.9999
  is_triggered_only = yes
  hide_window = yes
}