@t1_refinery_cost = 250
@t1_refinery_time = 240
@t1_refinery_unrefined_strategic_resource_upkeep = 2
@t1_refinery_standard_resource_output = 3
@t1_refinery_strategic_resource_output = 1

sb_building_hyperfuel_refinery = {
	icon = "GFX_sb_building_hyperfuel_refinery"
	construction_days = @t1_refinery_time
	cost = { minerals = @t1_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_hyperfuel_refining"
			has_country_strategic_resource = { resource = sr_crude_hyperfuels value > 0 }
		}
	}
	possible = { requires_starport = yes requires_2_sr_crude_hyperfuels = yes }
	upkeep_resources = { sr_crude_hyperfuels = @t1_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t1_refinery_output
		sr_refined_hyperfuels = @t1_refinery_standard_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
}
sb_building_pyronium_lapidary = {
	icon = "GFX_sb_building_pyronium_lapidary"
	construction_days = @t1_refinery_time
	cost = { minerals = @t1_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_pyronium"
			has_country_strategic_resource = { resource = sr_pyronium_crystals value > 0 }
		}
	}
	possible = { requires_starport = yes requires_2_sr_pyronium_crystals = yes }
	upkeep_resources = { sr_pyronium_crystals = @t1_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t1_refinery_standard_resource_output
		sr_cut_pyronium = @t1_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_cryodine_purifier = {
	icon = "GFX_sb_building_cryodine_purifier"
	construction_days = @t1_refinery_time
	cost = { minerals = @t1_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_cryodine"
			has_country_strategic_resource = { resource = sr_cryodine_ice value > 0 }
		}
	}
	possible = { requires_starport = yes requires_2_sr_cryodine_ice = yes }
	upkeep_resources = { sr_cryodine_ice = @t1_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t1_refinery_standard_resource_output
		sr_purified_cryodine = @t1_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_selenmite_foundry = {
	icon = "GFX_sb_building_cryodine_purifier"
	construction_days = @t1_refinery_time
	cost = { minerals = @t1_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_selenemite"
			has_country_strategic_resource = { resource = sr_selenemite_ore value > 0 }
		}
	}
	possible = { requires_starport = yes requires_2_sr_selenemite_ore = yes }
	upkeep_resources = { sr_selenemite_ore = @t1_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t1_refinery_standard_resource_output
		sr_selenemite_metal = @t1_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_lythuric_refinery = {
	icon = "GFX_sb_building_lythuric_refinery"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_lythuric_gas"
			has_country_strategic_resource = { resource = sr_impure_lythuric value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_impure_lythuric = yes }
	upkeep_resources = { sr_impure_lythuric = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t2_refinery_standard_resource_output
		sr_purified_lythuric = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_orillium_smelter = {
	icon = "GFX_sb_building_orillium_smelter"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_orillium"
			has_country_strategic_resource = { resource = sr_orillium_ore value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_orillium_ore = yes }
	upkeep_resources = { sr_orillium_ore = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t2_refinery_standard_resource_output
		sr_enriched_orillium = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_garanthium_smelter = {
	icon = "GFX_sb_building_garanthium_smelter"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_garanthium"
			has_country_strategic_resource = { resource = sr_garanthium_ore value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_garanthium_ore = yes }
	upkeep_resources = { sr_garanthium_ore = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_garanthium_compounds = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_teldar_processor = {
	icon = "GFX_sb_building_teldar_processor"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_teldar"
			has_country_strategic_resource = { resource = sr_teldar_crystals value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_teldar_crystals = yes }
	upkeep_resources = { sr_teldar_crystals = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_teldar_crystal_matrix = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_yuranic_lens_grinder = {
	icon = "GFX_sb_building_yuranic_lens_grinder"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_yuranic"
			has_country_strategic_resource = { resource = sr_yuranic_crystals value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_yuranic_crystals = yes }
	upkeep_resources = { sr_yuranic_crystals = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_yuranic_crystal_matrix = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_hyperdiamond_lapidary = {
	icon = "GFX_sb_building_yuranic_lens_grinder"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_hyper_diamond"
			has_country_strategic_resource = { resource = sr_rough_hyper_diamond value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_rough_hyper_diamond = yes }
	upkeep_resources = { sr_rough_hyper_diamond = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t2_refinery_standard_resource_output
		sr_processed_hyper_diamond = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_sorium_centrifuge = {
	icon = "GFX_sb_building_sorium_centrifuge"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_sorium_3"
			has_country_strategic_resource = { resource = sr_sorium_3 value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_sorium_3 = yes }
	upkeep_resources = { sr_sorium_3 = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		energy = @t2_refinery_standard_resource_output
		sr_concentrated_sorium_3 = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_magnetite_foundry = {
	icon = "GFX_sb_building_magnetite_foundry"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_magnetite"
			has_country_strategic_resource = { resource = sr_magnetite_ore value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_magnetite_ore = yes }
	upkeep_resources = { sr_magnetite_ore = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_processed_magnetite = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_cavorite_processor = {
	icon = "GFX_sb_building_cavorite_processor"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_cavorite"
			has_country_strategic_resource = { resource = sr_cavorite_ore value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_cavorite_ore = yes }
	upkeep_resources = { sr_cavorite_ore = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_pure_cavorite = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_nano_reactor = {
	icon = "GFX_sb_building_nano_reactor"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_illum"
			has_country_strategic_resource = { resource = sr_unrefined_illum value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_unrefined_illum = yes }
	upkeep_resources = { sr_unrefined_illum = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		physics_research = @t2_refinery_standard_resource_output
		sr_refined_illum = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_neorite_lapidary = {
	icon = "GFX_sb_building_neorite_lapidary"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_neorite"
			has_country_strategic_resource = { resource = sr_neorite_crystals value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_neorite_crystals = yes }
	upkeep_resources = { sr_neorite_crystals = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_neorite_crystal_matrix = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_thullium_foundry = {
	icon = "GFX_sb_building_thullium_foundry"
	construction_days = @t2_refinery_time
	cost = { minerals = @t2_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_thullium"
			has_country_strategic_resource = { resource = sr_thullium_ore value > 0 }
		}
	}
	possible = { requires_starfortress = yes requires_2_sr_thullium_ore = yes }
	upkeep_resources = { sr_thullium_ore = @t2_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t2_refinery_standard_resource_output
		sr_processed_thullium = @t2_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_living_metal_catalyst = {
	icon = "GFX_sb_building_living_metal_catalyst"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_living_metal"
			has_country_strategic_resource = { resource = sr_dorment_living_metal value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_dorment_living_metal = yes }
	upkeep_resources = { sr_dorment_living_metal = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_activated_living_metal = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_neutronium_forge = {
	icon = "GFX_sb_building_neutronium_forge"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_neutronium"
			has_country_strategic_resource = { resource = sr_neutronium_ore value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_neutronium_ore = yes }
	upkeep_resources = { sr_neutronium_ore = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_neutronium_steel = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_dark_energy_funnel = {
	icon = "GFX_sb_building_dark_energy_funnel"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_dark_matter"
			has_country_strategic_resource = { resource = sr_condensed_dark_matter value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_condensed_dark_matter = yes }
	upkeep_resources = { sr_condensed_dark_matter = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_refined_dark_matter = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_zro_catalyst = {
	icon = "GFX_sb_building_zro_catalyst"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_zro"
			has_country_strategic_resource = { resource = sr_zro_vapor value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_zro_vapor = yes }
	upkeep_resources = { sr_zro_vapor = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_catalyzed_zro = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_gravity_forge = {
	icon = "GFX_sb_building_gravity_forge"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_scritch"
			has_country_strategic_resource = { resource = sr_shaped_scritch value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_shaped_scritch = yes }
	upkeep_resources = { sr_shaped_scritch = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_liquified_scritch = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 
sb_building_xerodine_stabilizer = {
	icon = "GFX_sb_building_xerodine_stabilizer"
	construction_days = @t3_refinery_time
	cost = { minerals = @t3_refinery_cost }
	potential = {
		owner = { 
			has_technology = "tech_mine_xerodine"
			has_country_strategic_resource = { resource = sr_unstable_xerodine value > 0 }
		}
	}
	possible = { requires_citadel = yes requires_2_sr_unstable_xerodine = yes }
	upkeep_resources = { sr_unstable_xerodine = @t3_refinery_unrefined_strategic_resource_upkeep }
	produced_resources = { 
		minerals = @t3_refinery_standard_resource_output
		sr_stabilized_xerodine = @t3_refinery_strategic_resource_output
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = {
		weight = 200
		modifier = { factor = 0 solar_system = { has_star_flag = shipyard_system } }	
	}	
} 