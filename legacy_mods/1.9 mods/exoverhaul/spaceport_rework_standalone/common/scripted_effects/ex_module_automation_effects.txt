@basic_stardock_module_cost = -200
@intermediary_stardock_module_cost = -400
@advanced_stardock_module_cost = -600

@standard_economic_module_cost = -150
@advanced_economic_module_cost = -250

@standard_weapon_cost = -200 #all weapons except capital weapons use this cost
@capital_weapon_cost = -400 #xl weapons

roll_economic_module = {
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_1 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_1		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 1 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 1 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOT = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 1 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 1 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 1 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 1 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 1 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 1 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 1 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 1 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 1 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 1 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_2 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_2		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 2 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 2 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 2 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 2 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 2 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 2 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 2 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 2 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 2 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 2 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 2 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 2 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_3 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_3		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 3 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 3 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOT = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 3 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 3 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 3 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 3 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 3 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 3 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 3 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 3 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 3 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 3 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_4 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_4		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 4 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 4 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 4 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 4 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 4 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 4 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 4 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 4 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 4 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 4 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 4 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 4 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_5 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_5		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 5 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 5 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 5 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 5 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 5 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 5 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 5 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 5 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 5 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 5 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 5 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 5 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_6 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_6		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 6 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 6 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 6 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 6 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 6 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 6 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 6 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 6 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 6 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 6 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 6 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 6 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_7 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_7		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 7 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 7 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 7 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 7 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 7 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 7 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 7 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 7 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 7 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 7 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 7 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 7 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_8 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_8		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 8 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 8 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 8 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 8 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 8 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 8 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 8 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 8 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 8 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 8 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 8 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 8 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_9 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_9		
		random_list = {
			8.33 = {
				set_spaceport_module = { slot = 9 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = robotics_facility }
						has_spaceport_module = robotics_facility
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}				
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}								
			}	
			8.33 = {
				set_spaceport_module = { slot = 9 module = "hydroponic_farms_2" }
				set_planet_flag = hydroponic_farms_2
				owner = { add_minerals = @standard_economic_module_cost }				
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = hydroponic_farms_2
							has_spaceport_module = robotics_facility
						}
						has_spaceport_module = hydroponic_farms_2
					}	
				}						
				modifier = { 
					factor = 0
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 0.25
					owner = { has_monthly_income = { resource = food value > 25 } }
				}					
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = food value < 15 } }
				}	
				modifier = { 
					factor = 3
					owner = { has_monthly_income = { resource = food value < 5 } }
				}
				modifier = { 
					factor = 5
					AND = {
						pop_requires_food = yes
						has_resource = { type = food amount < 1 } 
					}	
				}						
			}													
			8.33 = {
				set_spaceport_module = { slot = 9 module = "solar_power_network_1" }
				set_planet_flag = solar_power_network_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = solar_power_network_1 }
						has_spaceport_module = solar_power_network_1
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}
			8.33 = {
				set_spaceport_module = { slot = 9 module = "solar_power_network_2" }
				set_planet_flag = solar_power_network_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = solar_power_network_1
							has_spaceport_module = solar_power_network_1
						}
						has_spaceport_module = solar_power_network_2
					}	
				}							
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}
			}				
			8.33 = {
				set_spaceport_module = { slot = 9 module = "orbital_refinery_1" }
				set_planet_flag = orbital_refinery_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_refinery_1 }
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 9 module = "orbital_refinery_2" }
				set_planet_flag = orbital_refinery_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_refinery_2
							has_spaceport_module = orbital_refinery_1
						}
						has_spaceport_module = orbital_refinery_2
					}	
				}	
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}			
			8.33 = {
				set_spaceport_module = { slot = 9 module = "orbital_lab_complex_1" }
				set_planet_flag = orbital_lab_complex_1
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOT = { can_build_spaceport_module = orbital_lab_complex_1 }
						has_spaceport_module = orbital_lab_complex_1
					}	
				}	
				modifier = { 
					factor = 0.75
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
			}
			8.33 = {
				set_spaceport_module = { slot = 9 module = "orbital_lab_complex_2" }
				set_planet_flag = orbital_lab_complex_2
				owner = { add_minerals = @standard_economic_module_cost }
				modifier = { 
					factor = 0
					OR = {
						NOR = { 
							can_build_spaceport_module = orbital_lab_complex_2
							has_spaceport_module = orbital_lab_complex_1
						}
						has_spaceport_module = orbital_lab_complex_2
					}	
				}	
				modifier = { 
					factor = 0
					NOR = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}	
				modifier = { 
					factor = 1.5
					AND = {
						has_spaceport_module = solar_power_network_1
						has_spaceport_module = orbital_refinery_1
					}	
				}				
				modifier = { 
					factor = 3
					AND = {
						has_spaceport_module = solar_power_network_2
						has_spaceport_module = orbital_refinery_2
					}	
				}								
			}			
			8.33 = {
				set_spaceport_module = { slot = 9 module = "commercial_terminal" }
				set_planet_flag = commercial_terminal
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = commercial_terminal }						
				}
				modifier = { factor = 4	}				
				modifier = { 
					factor = 1.5
					owner = { is_machine_or_synth = yes }
				}								
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = energy value < 150 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = energy value < 100 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = energy value < 50 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = energy value < 25 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = energy value < 15 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = energy value < 5 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = energy value < 0 } }
				}				
			}	
			8.33 = {
				set_spaceport_module = { slot = 9 module = "micro_gravity_manufactories" }
				set_planet_flag = micro_gravity_manufactories
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = micro_gravity_manufactories }						
				}
				modifier = { factor = 4	}
				modifier = { 
					factor = 1.25
					owner = { has_monthly_income = { resource = minerals value < 250 } }
				}																						
				modifier = { 
					factor = 1.5
					owner = { has_monthly_income = { resource = minerals value < 200 } }
				}																					
				modifier = { 
					factor = 2
					owner = { has_monthly_income = { resource = minerals value < 100 } }
				}																			
				modifier = { 
					factor = 5
					owner = { has_monthly_income = { resource = minerals value < 50 } }
				}														
				modifier = { 
					factor = 8
					owner = { has_monthly_income = { resource = minerals value < 25 } }
				}									
				modifier = { 
					factor = 10
					owner = { has_monthly_income = { resource = minerals value < 10 } }
				}					
				modifier = { 
					factor = 12
					owner = { has_monthly_income = { resource = minerals value < 5 } }
				}				
			}				
			8.33 = {
				set_spaceport_module = { slot = 9 module = "cryogenic_storage_facility" }
				set_planet_flag = cryogenic_storage_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = cryogenic_storage_facility }
						owner = { is_machine_or_synth = yes }
						has_growing_pop = no
					}	
				}
				modifier = { 
					factor = 4
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 2
					}	
				}
				modifier = { 
					factor = 6
					AND = {
						has_growing_pop = yes
						free_pop_tiles > 4
					}	
				}
			}	
			8.33 = {
				set_spaceport_module = { slot = 9 module = "robotics_facility" }
				set_planet_flag = robotics_facility
				owner = { add_minerals = @advanced_economic_module_cost }
				modifier = { 
					factor = 0
					OR = { 
						NOT = { can_build_spaceport_module = robotics_facility }
						owner = { 
							OR = {
								is_machine_or_synth = no
								NOR = { 
									has_ai_personality_behaviour = robot_exploiter
									has_ai_personality_behaviour = robot_liberator
								}	
							}
						}							
					}	
				}
				modifier = { 
					factor = 5
					is_machine_or_synth = yes
				}				
				modifier = { 
					factor = 4
					free_pop_tiles > 2
				}
				modifier = { 
					factor = 6
					free_pop_tiles > 4
				}
			}	
		}
	}	
}		


roll_stardock_module = {	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_1 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_1		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 1 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 1 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 1 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 1 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 1 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 1 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 1 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 1 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 1 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_2 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_2		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 2 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 2 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 2 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 2 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 2 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 2 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 2 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 2 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 2 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_3 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_3		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 3 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 3 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 3 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 3 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 3 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 3 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 3 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 3 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 3 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_4 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_4		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 4 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 4 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 4 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 4 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 4 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 4 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 4 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 4 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 4 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_5 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_5		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 5 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 5 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 5 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 5 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 5 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 5 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 5 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 5 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 5 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_6 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_6		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 6 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 6 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 6 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 6 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 6 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 6 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 6 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 6 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 6 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_7 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_7		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 7 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 7 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 7 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 7 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 7 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 7 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 7 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 7 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 7 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_8 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_8		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 8 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 8 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 8 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 8 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 8 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 8 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 8 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 8 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 8 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_9 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_9		
		random_list = {
			11.11 = {
				set_spaceport_module = { slot = 9 module = "civilian_assembly_yards" }
				set_planet_flag = civilian_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = civilian_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 9 module = "corvette_assembly_yards" }
				set_planet_flag = corvette_assembly_yards
				owner = { add_minerals = @basic_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = corvette_assembly_yards }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 9 module = "destroyer_assembly_yards" }
				set_planet_flag = destroyer_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = destroyer_assembly_yards }
				}
			}						
			11.11 = {
				set_spaceport_module = { slot = 9 module = "cruiser_assembly_yards" }
				set_planet_flag = cruiser_assembly_yards
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = cruiser_assembly_yards }
				}
			}	
			11.11 = {
				set_spaceport_module = { slot = 9 module = "battleship_assembly_yards" }
				set_planet_flag = battleship_assembly_yards
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = battleship_assembly_yards }
				}
			}												
			11.11 = {
				set_spaceport_module = { slot = 9 module = "dreadnought_assembly_yard" }
				set_planet_flag = dreadnought_assembly_yard
				owner = { add_minerals = @advanced_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = dreadnought_assembly_yard }
				}
			}															
			11.11 = {
				set_spaceport_module = { slot = 9 module = "engineering_bay" }
				set_planet_flag = engineering_bay
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = engineering_bay }
				}
			}								
			11.11 = {
				set_spaceport_module = { slot = 9 module = "orbital_fleet_support" }
				set_planet_flag = orbital_fleet_support
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = orbital_fleet_support }
				}
			}			
			11.11 = {
				set_spaceport_module = { slot = 9 module = "advanced_weapons_manufactory" }
				set_planet_flag = advanced_weapons_manufactory
				owner = { add_minerals = @intermediary_stardock_module_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = advanced_weapons_manufactory }
				}
			}			
		}
	}
}

roll_defensive_module = {	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_1 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_1		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 1 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_2 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_2		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 2 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_3 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_3		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 3 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_4 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_4		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 4 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_5 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_5		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 5 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_6 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_6		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 6 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_7 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_7		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 7 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_8 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_8		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 8 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}
	if = { 
		limit = { has_planet_flag = module_under_construction_slot_9 }
		remove_spaceport_module = module_under_construction
		remove_planet_flag = module_under_construction_slot_9		
		random_list = {
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_weapon_1" }
				set_planet_flag = spaceport_kinetic_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_weapon_2" }
				set_planet_flag = spaceport_kinetic_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_2
						has_spaceport_module = spaceport_kinetic_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_weapon_3" }
				set_planet_flag = spaceport_kinetic_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_weapon_3
						has_spaceport_module = spaceport_kinetic_weapon_1
						has_spaceport_module = spaceport_kinetic_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_kinetics = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_kinetics = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_kinetics = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_kinetics = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_energy_weapon_1" }
				set_planet_flag = spaceport_energy_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_energy_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_energy_weapon_2" }
				set_planet_flag = spaceport_energy_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_2
						has_spaceport_module = spaceport_energy_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_energy_weapon_3" }
				set_planet_flag = spaceport_energy_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_energy_weapon_3
						has_spaceport_module = spaceport_energy_weapon_1
						has_spaceport_module = spaceport_energy_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_energy = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_energy = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_energy = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_energy = yes }
				}				
			}										
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_explosive_weapon_1" }
				set_planet_flag = spaceport_explosive_weapon_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_explosive_weapon_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_explosive_weapon_2" }
				set_planet_flag = spaceport_explosive_weapon_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_2
						has_spaceport_module = spaceport_explosive_weapon_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_explosive_weapon_3" }
				set_planet_flag = spaceport_explosive_weapon_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_explosive_weapon_3
						has_spaceport_module = spaceport_explosive_weapon_1
						has_spaceport_module = spaceport_explosive_weapon_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 1.5
					owner = { tier_2_explosives = yes }
				}							
				modifier = { 
					factor = 2
					owner = { tier_3_explosives = yes }
				}					
				modifier = { 
					factor = 2.5
					owner = { tier_4_explosives = yes }
				}					
				modifier = { 
					factor = 3
					owner = { tier_5_explosives = yes }
				}				
			}							
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_disruptor_1" }
				set_planet_flag = spaceport_disruptor_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_disruptor_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_disruptor_2" }
				set_planet_flag = spaceport_disruptor_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_2
						has_spaceport_module = spaceport_disruptor_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_disruptor_3" }
				set_planet_flag = spaceport_disruptor_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_disruptor_3
						has_spaceport_module = spaceport_disruptor_1
						has_spaceport_module = spaceport_disruptor_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_disruptors = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_disruptors = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_plasma_1" }
				set_planet_flag = spaceport_plasma_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_plasma_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_plasma_2" }
				set_planet_flag = spaceport_plasma_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_2
						has_spaceport_module = spaceport_plasma_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_plasma_3" }
				set_planet_flag = spaceport_plasma_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_plasma_3
						has_spaceport_module = spaceport_plasma_1
						has_spaceport_module = spaceport_plasma_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_plasma = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_plasma = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_swarmer_missile_1" }
				set_planet_flag = spaceport_swarmer_missile_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_swarmer_missile_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_swarmer_missile_2" }
				set_planet_flag = spaceport_swarmer_missile_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_2
						has_spaceport_module = spaceport_swarmer_missile_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_swarmer_missile_3" }
				set_planet_flag = spaceport_swarmer_missile_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_swarmer_missile_3
						has_spaceport_module = spaceport_swarmer_missile_1
						has_spaceport_module = spaceport_swarmer_missile_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_swarmer_missiles = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_swarmer_missiles = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_artillery_1" }
				set_planet_flag = spaceport_kinetic_artillery_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_kinetic_artillery_1 }
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_artillery_2" }
				set_planet_flag = spaceport_kinetic_artillery_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_2
						has_spaceport_module = spaceport_kinetic_artillery_1
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_kinetic_artillery_3" }
				set_planet_flag = spaceport_kinetic_artillery_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_kinetic_artillery_3
						has_spaceport_module = spaceport_kinetic_artillery_1
						has_spaceport_module = spaceport_kinetic_artillery_2
					}
				}
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_kinetic_artillery = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_kinetic_artillery = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_interceptor_strike_craft_1" }
				set_planet_flag = spaceport_interceptor_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_interceptor_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_interceptor_strike_craft_2" }
				set_planet_flag = spaceport_interceptor_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_2
						has_spaceport_module = spaceport_interceptor_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_interceptor_strike_craft_3" }
				set_planet_flag = spaceport_interceptor_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_interceptor_strike_craft_3
						has_spaceport_module = spaceport_interceptor_strike_craft_1
						has_spaceport_module = spaceport_interceptor_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = interceptor_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}													
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_fighter_strike_craft_1" }
				set_planet_flag = spaceport_fighter_strike_craft_1
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_fighter_strike_craft_1 }
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_fighter_strike_craft_2" }
				set_planet_flag = spaceport_fighter_strike_craft_2
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_2
						has_spaceport_module = spaceport_fighter_strike_craft_1
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}								
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}				
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_fighter_strike_craft_3" }
				set_planet_flag = spaceport_fighter_strike_craft_3
				owner = { add_minerals = @standard_weapon_cost }
				modifier = { 
					factor = 0
					NOR = { 
						can_build_spaceport_module = spaceport_fighter_strike_craft_3
						has_spaceport_module = spaceport_fighter_strike_craft_1
						has_spaceport_module = spaceport_fighter_strike_craft_2
					}
				}
				modifier = { 
					factor = 2
					owner = { 
						AND = {
							OR = {
								has_country_flag = strike_craft_pref_1 
								has_country_flag = strike_craft_pref_2
								has_country_flag = strike_craft_pref_3
 							}
							has_country_flag = fighter_strike_craft_pref
						}
					}	
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_strike_craft = yes }
				}							
				modifier = { 
					factor = 3
					owner = { tier_3_strike_craft = yes }
				}					
			}
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_xl_missile" }
				set_planet_flag = spaceport_xl_missile
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_xl_missile }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = explosive_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_xl_missile = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_xl_missile = yes }
				}					
			}		
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_mass_accelerator" }
				set_planet_flag = spaceport_mass_accelerator
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_mass_accelerator }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = kinetic_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_mass_accelerator = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_mass_accelerator = yes }
				}					
			}	
			3.33 = {
				set_spaceport_module = { slot = 9 module = "spaceport_lance" }
				set_planet_flag = spaceport_lance
				owner = { add_minerals = @capital_weapon_cost }
				modifier = { 
					factor = 0
					NOT = { can_build_spaceport_module = spaceport_lance }
				}
				modifier = { 
					factor = 2
					owner = { 						
						OR = {
							has_country_flag = capital_pref_1 
							has_country_flag = capital_pref_2
							has_country_flag = capital_pref_3							
						}
					}	
				}	
				modifier = { 
					factor = 2
					owner = { has_policy_flag = energy_spaceport_weapon_preference }
				}				
				modifier = { 
					factor = 2
					owner = { tier_2_lance = yes }
				}							
				modifier = { 
					factor = 3
					#owner = { tier_3_lance = yes }
				}					
			}				
		}
	}	
}	

rebuild_economic_modules = {
	switch = {
		trigger = has_planet_flag
		##economic modules
		solar_power_network_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = solar_power_network_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = solar_power_network_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = solar_power_network_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = solar_power_network_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = solar_power_network_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = solar_power_network_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = solar_power_network_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = solar_power_network_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = solar_power_network_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}		
		solar_power_network_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = solar_power_network_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = solar_power_network_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = solar_power_network_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = solar_power_network_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = solar_power_network_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = solar_power_network_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = solar_power_network_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = solar_power_network_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = solar_power_network_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		hydroponic_farms_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = hydroponic_farms_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = hydroponic_farms_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = hydroponic_farms_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = hydroponic_farms_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = hydroponic_farms_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = hydroponic_farms_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = hydroponic_farms_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = hydroponic_farms_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = hydroponic_farms_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		hydroponic_farms_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = hydroponic_farms_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = hydroponic_farms_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = hydroponic_farms_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = hydroponic_farms_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = hydroponic_farms_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = hydroponic_farms_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = hydroponic_farms_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = hydroponic_farms_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = hydroponic_farms_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		orbital_lab_complex_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = orbital_lab_complex_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		orbital_lab_complex_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = orbital_lab_complex_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		orbital_refinery_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = orbital_refinery_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = orbital_refinery_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = orbital_refinery_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = orbital_refinery_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = orbital_refinery_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = orbital_refinery_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = orbital_refinery_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = orbital_refinery_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = orbital_refinery_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		orbital_refinery_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = orbital_refinery_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = orbital_refinery_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = orbital_refinery_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = orbital_refinery_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = orbital_refinery_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = orbital_refinery_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = orbital_refinery_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = orbital_refinery_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = orbital_refinery_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		commercial_terminal = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = commercial_terminal slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = commercial_terminal slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = commercial_terminal slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = commercial_terminal slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = commercial_terminal slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = commercial_terminal slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = commercial_terminal slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = commercial_terminal slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = commercial_terminal slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		micro_gravity_manufactories = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = micro_gravity_manufactories slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = micro_gravity_manufactories slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = micro_gravity_manufactories slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = micro_gravity_manufactories slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = micro_gravity_manufactories slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = micro_gravity_manufactories slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = micro_gravity_manufactories slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = micro_gravity_manufactories slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = micro_gravity_manufactories slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		cryogenic_storage_facility = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = cryogenic_storage_facility slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = cryogenic_storage_facility slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = cryogenic_storage_facility slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = cryogenic_storage_facility slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = cryogenic_storage_facility slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = cryogenic_storage_facility slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = cryogenic_storage_facility slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = cryogenic_storage_facility slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = cryogenic_storage_facility slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		robotics_facility = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = robotics_facility slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = robotics_facility slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = robotics_facility slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = robotics_facility slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = robotics_facility slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = robotics_facility slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = robotics_facility slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = robotics_facility slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = robotics_facility slot = 9 }
		}}}}}}}}}}}}}}}}}}	
	}
}	

rebuild_stardock_modules = {
	switch = {
		trigger = has_planet_flag
		##stardock modules
		civilian_assembly_yards = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = civilian_assembly_yards slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = civilian_assembly_yards slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = civilian_assembly_yards slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = civilian_assembly_yards slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = civilian_assembly_yards slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = civilian_assembly_yards slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = civilian_assembly_yards slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = civilian_assembly_yards slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = civilian_assembly_yards slot = 9 }
		}}}}}}}}}}}}}}}}}}
		corvette_assembly_yards = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = corvette_assembly_yards slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = corvette_assembly_yards slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = corvette_assembly_yards slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = corvette_assembly_yards slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = corvette_assembly_yards slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = corvette_assembly_yards slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = corvette_assembly_yards slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = corvette_assembly_yards slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = corvette_assembly_yards slot = 9 }
		}}}}}}}}}}}}}}}}}}
		destroyer_assembly_yards = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = destroyer_assembly_yards  slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = destroyer_assembly_yards slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = destroyer_assembly_yards slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = destroyer_assembly_yards slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = destroyer_assembly_yards slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = destroyer_assembly_yards slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = destroyer_assembly_yards slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = destroyer_assembly_yards slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = destroyer_assembly_yards slot = 9 }
		}}}}}}}}}}}}}}}}}}
		cruiser_assembly_yards = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = cruiser_assembly_yards slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = cruiser_assembly_yards slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = cruiser_assembly_yards slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = cruiser_assembly_yards slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = cruiser_assembly_yards slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = cruiser_assembly_yards slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = cruiser_assembly_yards slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = cruiser_assembly_yards slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = cruiser_assembly_yards slot = 9 }
		}}}}}}}}}}}}}}}}}}
		battleship_assembly_yards = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = battleship_assembly_yards slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = battleship_assembly_yards slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = battleship_assembly_yards slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = battleship_assembly_yards slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = battleship_assembly_yards slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = battleship_assembly_yards slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = battleship_assembly_yards slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = battleship_assembly_yards slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = battleship_assembly_yards slot = 9 }
		}}}}}}}}}}}}}}}}}}
		dreadnought_assembly_yard = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = dreadnought_assembly_yard slot = 9 }
		}}}}}}}}}}}}}}}}}}
		engineering_bay = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = engineering_bay slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = engineering_bay slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = engineering_bay slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = engineering_bay slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = engineering_bay slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = engineering_bay slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = engineering_bay slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = engineering_bay slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = engineering_bay slot = 9 }
		}}}}}}}}}}}}}}}}}}
		orbital_fleet_support = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = orbital_fleet_support slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = orbital_fleet_support slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = orbital_fleet_support slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = orbital_fleet_support slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = orbital_fleet_support slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = orbital_fleet_support slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = orbital_fleet_support slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = orbital_fleet_support slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = orbital_fleet_support slot = 9 }
		}}}}}}}}}}}}}}}}}}
		advanced_weapons_manufactory = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = advanced_weapons_manufactory slot = 9 }
		}}}}}}}}}}}}}}}}}}	
	}
}

rebuild_defensive_modules = {
	switch = {
		trigger = has_planet_flag
		##defensive modules
		spaceport_kinetic_weapon_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_weapon_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_kinetic_weapon_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_weapon_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_kinetic_weapon_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_weapon_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		spaceport_energy_weapon_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_energy_weapon_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_energy_weapon_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_energy_weapon_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_energy_weapon_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_energy_weapon_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_explosive_weapon_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_explosive_weapon_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_explosive_weapon_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_explosive_weapon_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_explosive_weapon_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_explosive_weapon_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_disruptor_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_disruptor_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_disruptor_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_disruptor_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_disruptor_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_disruptor_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_plasma_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_plasma_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_plasma_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_plasma_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_plasma_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_plasma_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_plasma_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_plasma_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_plasma_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_plasma_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_plasma_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_plasma_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_plasma_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_plasma_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_plasma_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_plasma_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_plasma_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_plasma_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_plasma_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_plasma_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_plasma_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_plasma_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_plasma_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_plasma_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_plasma_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_plasma_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_plasma_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_plasma_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_plasma_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_plasma_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_swarmer_missile_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_swarmer_missile_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_swarmer_missile_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_swarmer_missile_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_swarmer_missile_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_swarmer_missile_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		spaceport_kinetic_artillery_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_artillery_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_kinetic_artillery_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_artillery_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_kinetic_artillery_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_kinetic_artillery_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		spaceport_fighter_strike_craft_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_fighter_strike_craft_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_fighter_strike_craft_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_fighter_strike_craft_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_fighter_strike_craft_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_fighter_strike_craft_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}		
		spaceport_interceptor_strike_craft_1 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_1 slot = 9 }
		}}}}}}}}}}}}}}}}}}
		spaceport_interceptor_strike_craft_2 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_2 slot = 9 }
		}}}}}}}}}}}}}}}}}}	
		spaceport_interceptor_strike_craft_3 = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_interceptor_strike_craft_3 slot = 9 }
		}}}}}}}}}}}}}}}}}}		
		spaceport_xl_missile = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_xl_missile slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_xl_missile slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_xl_missile slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_xl_missile slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_xl_missile slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_xl_missile slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_xl_missile slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_xl_missile slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_xl_missile slot = 9 }
		}}}}}}}}}}}}}}}}}}		
		spaceport_lance = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_lance slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_lance slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_lance slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_lance slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_lance slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_lance slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_lance slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_lance slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_lance slot = 9 }
		}}}}}}}}}}}}}}}}}}		
		spaceport_mass_accelerator = { if = { limit = { is_spaceport_module_slot_free = 1 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 1 } 			
		else = { if = { limit = { is_spaceport_module_slot_free = 2 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 2 } 			
		else = { if = {	limit = { is_spaceport_module_slot_free = 3 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 3 } 
		else = { if = {	limit = { is_spaceport_module_slot_free = 4 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 4 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 5 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 5 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 6 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 6 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 7 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 7 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 8 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 8 }
		else = { if = {	limit = { is_spaceport_module_slot_free = 9 } set_spaceport_module = { module = spaceport_mass_accelerator slot = 9 }
		}}}}}}}}}}}}}}}}}}				
	}
}	