### Ethics and Civics triggers

is_spiritualist = {
	OR = {
		has_ethic = ethic_spiritualist
		has_ethic = ethic_fanatic_spiritualist
	}
}

is_militarist = {
	OR = {
		has_ethic = ethic_militarist
		has_ethic = ethic_fanatic_militarist
	}
}

is_materialist = {
	OR = {
		has_ethic = ethic_materialist
		has_ethic = ethic_fanatic_materialist
	}
}

is_pacifist = {
	OR = {
		has_ethic = ethic_pacifist
		has_ethic = ethic_fanatic_pacifist
	}
}

is_xenophile = {
	OR = {
		has_ethic = ethic_xenophile
		has_ethic = ethic_fanatic_xenophile
	}
}

is_authoritarian = {
	OR = {
		has_ethic = ethic_fanatic_authoritarian
		has_ethic = ethic_authoritarian
	}
}

is_egalitarian = {
	OR = {
		has_ethic = ethic_fanatic_egalitarian
		has_ethic = ethic_egalitarian
	}
}

is_xenophobe = {
	OR = {
		has_ethic = ethic_fanatic_xenophobe
		has_ethic = ethic_xenophobe
	}
}

is_purifier_or_perfectionist = {
	OR = {
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_inwards_perfection
	}
}	

is_machine_or_hive = {
	OR = {
		has_authority = auth_hive_mind
		has_authority = auth_machine_intelligence
	}
}	

is_purity_civics = {
	OR = {
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_inwards_perfection
		has_valid_civic = civic_machine_terminator
	}
}	

owner_is_not_machine_or_is_servitor = {	
	AND = {
		exists = owner
		owner = {
			OR = {
				NOT = { has_authority = auth_machine_intelligence }
				AND = {
					has_authority = auth_machine_intelligence
					has_government = gov_machine_servitor
				}
			}
		}
	}
}

### Subject triggers

has_tributary_or_vassal = {
	any_subject = {
		OR = {
			is_subject_type = tributary
			is_subject_type = vassal
		}	
	}
}	

has_only_vassal = {
	any_subject = {
		AND = {
			NOT = { is_subject_type = tributary }
			is_subject_type = vassal
		}	
	}
}	

has_only_tributary = {
	any_subject = {
		AND = {
			is_subject_type = tributary
			NOT = { is_subject_type = vassal }
		}	
	}
}	

### Edict related triggers

has_edict_bonus_tradition = {
	OR = {
		has_non_swapped_tradition = tr_harmony_the_greater_good
		has_swapped_tradition = tr_synchronicity_organic_intermediaries
	}
}

has_edict_bonus_civic = {
	OR = {
		has_civic = "civic_imperial_cult"
		has_civic = "civic_machine_ota_updates"
		AND = {
			has_global_flag = "ex_ethics_active"
			has_civic = "civic_philosopher_king"
		}
	}
}

has_edict_bonus_leader = {
	if = {
		limit = { NOT = { has_global_flag = "ex_traits_active" } }
		any_owned_leader = {
			AND = {
				leader_class = ruler
				has_trait = trait_ruler_charismatic
			}
		}
	}
	if = {
		limit = { has_global_flag = "ex_traits_active" }
		any_owned_leader = {
			AND = {
				leader_class = ruler
				OR = {
					has_trait = trait_ruler_charismatic
					has_trait = leader_trait_ruler_psionic
					has_trait = leader_trait_ruler_chosen
				}
			}
		}
	}
}

### Pop/planet triggers

is_slave_or_robot_planet = {
	NOR = {
		AND = {
			NOT = { exists = pop }
			planet = { any_owned_pop = { is_non_menial_laborer = yes } }
		}
		AND = {
			NOT = { exists = pop }
			planet = { any_owned_pop = { is_non_sapient_robot = no } }
		}
	}
}

has_slave_pop = {
	AND = {
		exists = pop
		pop = { is_enslaved = yes }
	}
}

has_robot_pop = {
	AND = {
		exists = pop
		pop = { is_robot_pop = yes }
	}
}

has_prole_or_stapled_pop = {
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_nerve_stapled"
				has_trait = "trait_syncretic_proles"
				has_trait = "trait_presapient_proles"
			}
		}
	}
}

has_5_or_more_pops = {	
	count_pops = {
		count > 4
		limit = { is_colony_pop = yes }
	}
}

has_10_or_more_pops = {	
	count_pops = {
		count > 9
		limit = { is_colony_pop = yes }
	}
}

has_15_or_more_pops = {	
	count_pops = {
		count > 14
		limit = { is_colony_pop = yes }
	}
}

has_15_or_more_organic_pops = {
	
	count_pops = {
		count > 14
		limit = {
			is_colony_pop = yes
			is_robot_pop = no			
		}
	}
}

has_mineral_bonus_pop = {	
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_industrious"
				has_trait = "trait_very_strong"
				has_trait = "trait_robot_power_drills"
			}
		}
	}
}

has_energy_bonus_pop = {	
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_thrifty"
				has_trait = "trait_psionic"
				has_trait = "trait_robot_superconductive"
				has_trait = "trait_presapient_earthbound"
			}
		}
	}
}

has_research_bonus_pop = {	
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_intelligent"
				has_trait = "trait_presapient_natural_intellectuals"
				has_trait = "trait_robot_logic_engines"
				has_trait = "trait_erudite"
			}
		}
	}
}
	

has_food_bonus_pop = {	
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_agrarian"
				has_trait = "trait_robot_harvesters"
			}
		}
	}
}

has_non_sapient_robot = {	
	AND = {
		exists = pop
		pop = {
			OR = {
				has_trait = "trait_robotic_1"
				has_trait = "trait_robotic_2"
				AND = {
					has_trait = "trait_robotic_3"
					exists = owner
					owner = { has_policy_flag = ai_outlawed }
				}
			}
		}
	}
}

has_free_sapient_robot = {	
	AND = {
		exists = pop
		pop = {
			AND = {
				has_trait = "trait_robotic_3"
				exists = owner
				owner = { has_policy_flag = ai_full_rights }
			}
		}
	}
}

### Resource triggers

has_vanilla_or_exoverhaul_strategic_resources = {	
	OR = {
		AND = {
			has_global_flag = ex_planets_enhanced_active
			OR = {
				has_resource = {
					type = sr_betharian
					amount > 0
				}
				has_resource = {
					type = sr_alien_pets
					amount > 0
				}
			}
		}
		AND = {
			has_global_flag = ex_planets_enhanced_active
			has_planets_enhanced_resources = yes
		}
	}
}

has_research_resources = {	
	OR = {
		has_resource = {
			type = engineering_research
			amount > 0
		}
		has_resource = {
			type = physics_research
			amount > 0
		}
		has_resource = {
			type = society_research
			amount > 0
		}
	}
}

has_high_research_resources = {	
	OR = {
		has_resource = {
			type = engineering_research
			amount > 1
		}
		has_resource = {
			type = physics_research
			amount > 1
		}
		has_resource = {
			type = society_research
			amount > 1
		}
	}
}

has_engineering = {	
	has_resource = {
		type = engineering_research
		amount > 0
	}
}

has_physics = {	
	has_resource = {
		type = physics_research
		amount > 0
	}
}

has_society = {	
	has_resource = {
		type = society_research
		amount > 0
	}
}

has_food = {	
	has_resource = {
		type = food
		amount > 0
	}
}

has_energy = {	
	has_resource = {
		type = energy
		amount > 0
	}
}

has_minerals = {	
	has_resource = {
		type = minerals
		amount > 0
	}
}

has_high_food = {	
	has_resource = {
		type = food
		amount > 1
	}
}

has_resource = {	
	OR = {
		has_resource = {
			type = engineering_research
			amount > 0
		}
		has_resource = {
			type = physics_research
			amount > 0
		}
		has_resource = {
			type = society_research
			amount > 0
		}
		has_resource = {
			type = energy
			amount > 0
		}
		has_resource = {
			type = food
			amount > 0
		}
		has_resource = {
			type = minerals
			amount > 0
		}
	}
}

has_resource_machine = {	
	OR = {
		has_resource = {
			type = engineering_research
			amount > 0
		}
		has_resource = {
			type = physics_research
			amount > 0
		}
		has_resource = {
			type = society_research
			amount > 0
		}
		has_resource = {
			type = energy
			amount > 0
		}
		has_resource = {
			type = minerals
			amount > 0
		}
	}
}
	

has_production_resources = {	
	OR = {
		has_resource = {
			type = energy
			amount > 0
		}
		has_resource = {
			type = minerals
			amount > 0
		}
		has_resource = {
			type = food
			amount > 0
		}
	}
}

### Building triggers

has_mineral_building = {	
	OR = {
		has_building = "building_basic_mine"
		has_building_mining_network_1 = yes
		has_building_mining_network_2 = yes
		has_building_mining_network_3 = yes
		has_building_mining_network_4 = yes
		has_building_mining_network_rw = yes
		has_building = "building_mineral_processing_plant_1"
		has_building_mineral_processing_plant_2 = yes
		has_building = "building_hab_astro_mining_facility"
	}
}

has_energy_building = {	
	OR = {
		has_building = "building_basic_power_plant"
		has_building_power_plant_1 = yes
		has_building_power_plant_2 = yes
		has_building_power_plant_3 = yes
		has_building_power_plant_4 = yes
		has_building_power_plant_rw = yes
		has_building = "building_power_hub_1"
		has_building_power_hub_2 = yes
		has_building = "building_hab_solar_power_processor"
	}
}

has_food_building = {	
	OR = {
		has_building = "building_basic_farm"
		has_building_hydroponics_farm_1 = yes
		has_building_hydroponics_farm_2 = yes
		has_building_hydroponics_farm_3 = yes
		has_building_hydroponics_farm_4 = yes
		has_building_hydroponics_farm_rw = yes
		has_building = "building_hab_agri_bay"
	}
}

has_engineering_research_building = {	
	OR = {
		has_building = "building_basic_science_lab_1"
		has_building_engineering_facility_1 = yes
		has_building_engineering_facility_2 = yes
		has_building_engineering_facility_3 = yes
		has_building_engineering_facility_4 = yes
		has_building_engineering_facility_rw = yes
		has_building = "building_hab_laboratory_module"
	}
}

has_physics_research_building = {	
	OR = {
		has_building = "building_basic_science_lab_1"
		has_building_physics_lab_1 = yes
		has_building_physics_lab_2 = yes
		has_building_physics_lab_3 = yes
		has_building_physics_lab_4 = yes
		has_building_physics_lab_rw = yes
		has_building = "building_hab_laboratory_module"
	}
}

has_society_research_building = {	
	OR = {
		has_building = "building_basic_science_lab_1"
		has_building_biolab_1 = yes
		has_building_biolab_2 = yes
		has_building_biolab_3 = yes
		has_building_biolab_4 = yes
		has_building_biolab_rw = yes
		has_building = "building_hab_laboratory_module"
	}
}

has_hyperstorage_building = {	
	OR = {
		has_building = "building_mineral_silo_1"
		has_building_mineral_silo_2 = yes
		has_building_mineral_silo_3 = yes
	}
}

has_polytechnic_building = {	
	OR = {
		has_building = "building_polytechnic_complex"
		has_building = "building_deep_thought_node"
		has_building = "building_iterative_ai_nexus"
	}
}

is_ringworld_or_machine_world = {	
	OR = {
		is_ringworld = yes
		is_planet_class = pc_machine
	}
}

has_capital_0 = {	
	OR = {
		has_building = "building_colony_shelter"
		has_building = "building_deployment_post"
	}
}

has_capital_1 = {	
	OR = {
		has_building_capital_1 = yes
		has_building_machine_capital_1 = yes
	}
}

has_capital_2 = {	
	OR = {
		has_building_capital_2 = yes
		has_building_machine_capital_2 = yes
	}
}

has_capital_3 = {	
	OR = {
		has_building = "building_capital_3"
		has_building = "building_machine_capital_3"
	}
}

has_building_capital_1 = {	
	OR = {
		has_building = building_capital_1
		has_building = building_capital_1_direct_build
	}
}
has_building_capital_2 = {	
	OR = {
		has_building = building_capital_2
		has_building = building_capital_2_direct_build
	}
}
has_building_machine_capital_1 = {	
	OR = {
		has_building = building_machine_capital_1
		has_building = building_machine_capital_1_direct_build
	}
}
has_building_machine_capital_2 = {	
	OR = {
		has_building = building_machine_capital_2
		has_building = building_machine_capital_2_direct_build
	}
}
has_building_hospital = {	
	OR = {
		has_building = building_hospital
		has_building = building_hospital_direct_build
	}
}
has_building_unit_assembly_plant = {	
	OR = {
		has_building = building_unit_assembly_plant
		has_building = building_unit_assembly_plant_direct_build
	}
}
has_building_power_hub_2 = {	
	OR = {
		has_building = building_power_hub_2
		has_building = building_power_hub_2_direct_build
	}
}
has_building_mineral_processing_plant_2 = {	
	OR = {
		has_building = building_mineral_processing_plant_2
		has_building = building_mineral_processing_plant_2_direct_build
	}
}
has_building_mineral_silo_2 = {	
	OR = {
		has_building = building_mineral_silo_2
		has_building = building_mineral_silo_2_direct_build
	}
}
has_building_mineral_silo_3 = {	
	OR = {
		has_building = building_mineral_silo_3
		has_building = building_mineral_silo_3_direct_build
	}
}
has_building_power_plant_1 = {	
	OR = {
		has_building = building_power_plant_1
		has_building = building_power_plant_1_direct_build
	}
}
has_building_power_plant_2 = {	
	OR = {
		has_building = building_power_plant_2
		has_building = building_power_plant_2_direct_build
	}
}
has_building_power_plant_3 = {	
	OR = {
		has_building = building_power_plant_3
		has_building = building_power_plant_3_direct_build
	}
}
has_building_power_plant_4 = {	
	OR = {
		has_building = building_power_plant_4
		has_building = building_power_plant_4_direct_build
	}
}
has_building_power_plant_rw = {	
	OR = {
		has_building = building_power_plant_rw
		has_building = building_power_plant_rw_direct_build
	}
}
has_building_power_plant_5 = {	
	OR = {
		has_building = building_power_plant_5
		has_building = building_power_plant_5_direct_build
	}
}
has_building_power_plant_5_rw = {	
	OR = {
		has_building = building_power_plant_5_rw
		has_building = building_power_plant_5_rw_direct_build
	}
}
has_building_hydroponics_farm_1 = {	
	OR = {
		has_building = building_hydroponics_farm_1
		has_building = building_hydroponics_farm_1_direct_build
	}
}
has_building_hydroponics_farm_2 = {	
	OR = {
		has_building = building_hydroponics_farm_2
		has_building = building_hydroponics_farm_2_direct_build
	}
}
has_building_hydroponics_farm_3 = {	
	OR = {
		has_building = building_hydroponics_farm_3
		has_building = building_hydroponics_farm_3_direct_build
	}
}
has_building_hydroponics_farm_4 = {	
	OR = {
		has_building = building_hydroponics_farm_4
		has_building = building_hydroponics_farm_4_direct_build
	}
}
has_building_hydroponics_farm_rw = {	
	OR = {
		has_building = building_hydroponics_farm_rw
		has_building = building_hydroponics_farm_rw_direct_build
	}
}
has_building_hydroponics_farm_5 = {	
	OR = {
		has_building = building_hydroponics_farm_5
		has_building = building_hydroponics_farm_5_direct_build
	}
}
has_building_hydroponics_farm_5_rw = {	
	OR = {
		has_building = building_hydroponics_farm_5_rw
		has_building = building_hydroponics_farm_5_rw_direct_build
	}
}
has_building_mining_network_1 = {	
	OR = {
		has_building = building_mining_network_1
		has_building = building_mining_network_1_direct_build
	}
}
has_building_mining_network_2 = {	
	OR = {
		has_building = building_mining_network_2
		has_building = building_mining_network_2_direct_build
	}
}
has_building_mining_network_3 = {	
	OR = {
		has_building = building_mining_network_3
		has_building = building_mining_network_3_direct_build
	}
}
has_building_mining_network_4 = {	
	OR = {
		has_building = building_mining_network_4
		has_building = building_mining_network_4_direct_build
	}
}
has_building_mining_network_rw = {	
	OR = {
		has_building = building_mining_network_rw
		has_building = building_mining_network_rw_direct_build
	}
}
has_building_mining_network_5 = {	
	OR = {
		has_building = building_mining_network_5
		has_building = building_mining_network_5_direct_build
	}
}
has_building_mining_network_5_rw = {	
	OR = {
		has_building = building_mining_network_5_rw
		has_building = building_mining_network_5_rw_direct_build
	}
}
has_building_engineering_facility_1 = {	
	OR = {
		has_building = building_engineering_facility_1
		has_building = building_engineering_facility_1_direct_build
	}
}
has_building_physics_lab_1 = {	
	OR = {
		has_building = building_physics_lab_1
		has_building = building_physics_lab_1_direct_build
	}
}
has_building_biolab_1 = {	
	OR = {
		has_building = building_biolab_1
		has_building = building_biolab_1_direct_build
	}
}
has_building_engineering_facility_2 = {	
	OR = {
		has_building = building_engineering_facility_2
		has_building = building_engineering_facility_2_direct_build
	}
}
has_building_physics_lab_2 = {	
	OR = {
		has_building = building_physics_lab_2
		has_building = building_physics_lab_2_direct_build
	}
}
has_building_biolab_2 = {	
	OR = {
		has_building = building_biolab_2
		has_building = building_biolab_2_direct_build
	}
}
has_building_engineering_facility_3 = {	
	OR = {
		has_building = building_engineering_facility_3
		has_building = building_engineering_facility_3_direct_build
	}
}
has_building_engineering_facility_rw = {	
	OR = {
		has_building = building_engineering_facility_rw
		has_building = building_engineering_facility_rw_direct_build
	}
}
has_building_physics_lab_3 = {	
	OR = {
		has_building = building_physics_lab_3
		has_building = building_physics_lab_3_direct_build
	}
}
has_building_physics_lab_rw = {	
	OR = {
		has_building = building_physics_lab_rw
		has_building = building_physics_lab_rw_direct_build
	}
}
has_building_biolab_3 = {	
	OR = {
		has_building = building_biolab_3
		has_building = building_biolab_3_direct_build
	}
}
has_building_biolab_rw = {	
	OR = {
		has_building = building_biolab_rw
		has_building = building_biolab_rw_direct_build
	}
}
has_building_engineering_facility_4 = {	
	OR = {
		has_building = building_engineering_facility_4
		has_building = building_engineering_facility_4_direct_build
	}
}
has_building_engineering_facility_4_rw = {	
	OR = {
		has_building = building_engineering_facility_4_rw
		has_building = building_engineering_facility_4_rw_direct_build
	}
}
has_building_physics_lab_4 = {	
	OR = {
		has_building = building_physics_lab_4
		has_building = building_physics_lab_4_direct_build
	}
}
has_building_physics_lab_4_rw = {	
	OR = {
		has_building = building_physics_lab_4_rw
		has_building = building_physics_lab_4_rw_direct_build
	}
}
has_building_biolab_4 = {	
	OR = {
		has_building = building_biolab_4
		has_building = building_biolab_4_direct_build
	}
}
has_building_biolab_4_rw = {	
	OR = {
		has_building = building_biolab_4_rw
		has_building = building_biolab_4_rw_direct_build
	}
}
has_building_hab_astro_mining_facility_2 = {	
	OR = {
		has_building = building_hab_astro_mining_facility_2
		has_building = building_hab_astro_mining_facility_2_direct_build
	}
}
has_building_hab_solar_power_processor_2 = {	
	OR = {
		has_building = building_hab_solar_power_processor_2
		has_building = building_hab_solar_power_processor_2_direct_build
	}
}
has_building_hab_agri_bay_2 = {	
	OR = {
		has_building = building_hab_agri_bay_2
		has_building = building_hab_agri_bay_2_direct_build
	}
}
has_building_hab_laboratory_module_2 = {	
	OR = {
		has_building = building_hab_laboratory_module_2
		has_building = building_hab_laboratory_module_2_direct_build
	}
}
has_building_heritage_site = {	
	OR = {
		has_building = building_heritage_site
		has_building = building_heritage_site_direct_build
	}
}
has_building_hypercomms_forum = {	
	OR = {
		has_building = building_hypercomms_forum
		has_building = building_hypercomms_forum_direct_build
	}
}
has_building_holotemple = {	
	OR = {
		has_building = building_holotemple
		has_building = building_holotemple_direct_build
	}
}
has_building_sacred_nexus = {	
	OR = {
		has_building = building_sacred_nexus
		has_building = building_sacred_nexus_direct_build
	}
}
has_building_network_junction = {	
	OR = {
		has_building = building_network_junction
		has_building = building_network_junction_direct_build
	}
}
has_building_system_conflux = {	
	OR = {
		has_building = building_system_conflux
		has_building = building_system_conflux_direct_build
	}
}
has_building_hive_junction = {	
	OR = {
		has_building = building_hive_junction
		has_building = building_hive_junction_direct_build
	}
}
has_building_hive_conflux = {	
	OR = {
		has_building = building_hive_conflux
		has_building = building_hive_conflux_direct_build
	}
}

has_capital_building = {	
	OR = {
		has_building = "building_colony_shelter"
		has_building_capital_1 = yes
		has_building_capital_2 = yes
		has_building = "building_capital_3"
		has_building = "building_deployment_post"
		has_building_machine_capital_1 = yes
		has_building_machine_capital_2 = yes
		has_building = "building_machine_capital_3"
		has_building = "building_hab_capital"
	}
}

has_resource_buildings = {	
	OR = {
		has_building = "building_basic_mine"
		has_building_mining_network_1 = yes
		has_building_mining_network_2 = yes
		has_building_mining_network_3 = yes
		has_building_mining_network_4 = yes
		has_building_mining_network_rw = yes
		has_building = "building_mineral_processing_plant_1"
		has_building_mineral_processing_plant_2 = yes
		has_building = "building_basic_power_plant"
		has_building_power_plant_1 = yes
		has_building_power_plant_2 = yes
		has_building_power_plant_3 = yes
		has_building_power_plant_4 = yes
		has_building_power_plant_rw = yes
		has_building = "building_power_hub_1"
		has_building_power_hub_2 = yes
		has_building = "building_basic_farm"
		has_building_hydroponics_farm_1 = yes
		has_building_hydroponics_farm_2 = yes
		has_building_hydroponics_farm_3 = yes
		has_building_hydroponics_farm_4 = yes
		has_building_hydroponics_farm_rw = yes
		has_building = "building_hab_agri_bay"
		has_building = "building_hab_solar_power_processor"
		has_building = "building_hab_astro_mining_facility"
	}
}

has_research_buildings = {	
	OR = {
		has_building = "building_basic_science_lab_1"
		has_building_engineering_facility_1 = yes
		has_building_engineering_facility_2 = yes
		has_building_engineering_facility_3 = yes
		has_building_engineering_facility_4 = yes
		has_building_engineering_facility_rw = yes
		has_building = "building_basic_science_lab_1"
		has_building_physics_lab_1 = yes
		has_building_physics_lab_2 = yes
		has_building_physics_lab_3 = yes
		has_building_physics_lab_4 = yes
		has_building_physics_lab_rw = yes
		has_building = "building_basic_science_lab_1"
		has_building_biolab_1 = yes
		has_building_biolab_2 = yes
		has_building_biolab_3 = yes
		has_building_biolab_4 = yes
		has_building_biolab_rw = yes
		has_building = "building_hab_laboratory_module"
	}
}

#### Solar System and planet triggers

no_black_hole_or_dyson_sphere_star = {	
	solar_system = {
		NOR = {
			is_star_class = sc_black_hole
			has_megastructure = dyson_sphere_3
			has_megastructure = dyson_sphere_4
			has_megastructure = dyson_sphere_5
		}
	}
}

is_habitat = { is_planet_class = pc_habitat }