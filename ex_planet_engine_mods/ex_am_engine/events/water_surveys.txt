namespace = water_surveys

ship_event = {
	id = water_surveys.1

	is_triggered_only = yes
	location = fromfrom
	hide_window = yes
	
	trigger = {
		fromfrom = {
			NOT = { has_planet_flag = alphamod_surveyedw }
		}
	}
	
	immediate = {
		fromfrom = {
			set_planet_flag = alphamod_surveyedw
			
			if = {
				limit = {
					or = {
						is_planet_class = pc_tropical
						is_planet_class = pc_continental
					}
				}
				every_tile = {
					limit = { 
						has_resource = food
					}
					random_list = {
						25 = {
							clear_deposits = yes
							set_deposit = d_food_and_water_deposit		
						}
						75 = {}
					}
				}
				every_tile = {
					limit = { 
						has_resource = energy
					}
					random_list = {
						25 = {
							clear_deposits = yes
							set_deposit = d_energy_and_water_deposit		
						}
						75 = {}
					}
				}
			}

			if = {
				limit = {
					is_planet_class = pc_ocean
				}
				every_tile = {
					limit = { 
						has_resource = food
					}
					random_list = {
						50 = {
							clear_deposits = yes
							set_deposit = d_food_and_water_deposit		
						}
						50 = {}
					}
				}
				every_tile = {
					limit = { 
						has_resource = minerals
					}
					random_list = {
						50 = {
							clear_deposits = yes
							set_deposit = d_minerals_and_water_deposit		
						}
						50 = {}
					}
				}
			}
			
			if = {
				limit = {
					is_planet_class = pc_arctic
				}
				every_tile = {
					limit = { 
						has_resource = food
					}
					random_list = {
						50 = {
							clear_deposits = yes
							set_deposit = d_food_and_ice_deposit		
						}
						50 = {}
					}
				}
				every_tile = {
					limit = { 
						has_resource = minerals
					}
					random_list = {
						40 = {
							clear_deposits = yes
							set_deposit = d_minerals_and_ice_deposit		
						}
						10 = {
							clear_deposits = yes
							set_deposit = d_minerals_and_ice_deposit_2						
						}
						50 = {}
					}
				}
			}

			if = {
				limit = {
					or = {
						is_planet_class = pc_tundra
						is_planet_class = pc_alpine
					}
				}
				every_tile = {
					limit = { 
						has_resource = food
					}
					random_list = {
						20 = {
							clear_deposits = yes
							set_deposit = d_food_and_ice_deposit		
						}
						80 = {}
					}
				}
				every_tile = {
					limit = { 
						has_resource = minerals
					}
					random_list = {
						15 = {
							clear_deposits = yes
							set_deposit = d_minerals_and_ice_deposit		
						}
						5 = {
							clear_deposits = yes
							set_deposit = d_minerals_and_ice_deposit_2						
						}
						80 = {}
					}
				}
			}
		}
	}
}