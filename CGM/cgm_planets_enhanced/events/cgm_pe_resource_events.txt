namespace = cgm_pe_resource_events

event = { 
	id = cgm_pe_resource_events.1
	is_triggered_only = yes
	hide_window = yes
	
	trigger = { 
		has_global_flag = cgm_uninhabitable_terraforming_mechanics_enabled
	}
	
	immediate = { 
		every_country = { 
			limit = { 
				OR = { 
					is_country_type = default					
					is_country_type = awakened_fallen_empire
					is_country_type = fallen_empire
					is_ai = no
				}
			}	
			if = { 
				limit = {
					OR = { 
						has_country_flag = has_terraforming_agents
						has_country_strategic_resource = { type = sr_terraform_gases amount > 0 } 
						has_country_strategic_resource = { type = sr_terraform_liquids amount > 0 }
						has_country_strategic_resource = { type = sr_meta_organics amount > 0 }
						any_owned_planet = { 
							any_tile = { 
								has_building = building_terraforming_bacteria_germinator
								exists = pop
							}
						}
					}
				}	
			}	
			set_variable = { which = terraforming_points value = 0 }
			if = { 
				limit = { has_country_flag = has_terraforming_agents }
				switch = {
					trigger = has_modifier
					add_1_monthly_terraforming_agent ={ remove_modifier = add_1_monthly_terraforming_agent }
					add_2_monthly_terraforming_agent ={ remove_modifier = add_2_monthly_terraforming_agent }
					add_3_monthly_terraforming_agent ={ remove_modifier = add_3_monthly_terraforming_agent }
					add_4_monthly_terraforming_agent ={ remove_modifier = add_4_monthly_terraforming_agent }
					add_5_monthly_terraforming_agent ={ remove_modifier = add_5_monthly_terraforming_agent }
					add_6_monthly_terraforming_agent ={ remove_modifier = add_6_monthly_terraforming_agent }
					add_7_monthly_terraforming_agent ={ remove_modifier = add_7_monthly_terraforming_agent }
					add_8_monthly_terraforming_agent ={ remove_modifier = add_8_monthly_terraforming_agent }
					add_9_monthly_terraforming_agent ={ remove_modifier = add_9_monthly_terraforming_agent }
					add_10_monthly_terraforming_agent ={ remove_modifier = add_10_monthly_terraforming_agent }
					add_11_monthly_terraforming_agent ={ remove_modifier = add_11_monthly_terraforming_agent }
					add_12_monthly_terraforming_agent ={ remove_modifier = add_12_monthly_terraforming_agent }
					add_13_monthly_terraforming_agent ={ remove_modifier = add_13_monthly_terraforming_agent }
					add_14_monthly_terraforming_agent ={ remove_modifier = add_14_monthly_terraforming_agent }
					add_15_monthly_terraforming_agent ={ remove_modifier = add_15_monthly_terraforming_agent }
					add_16_monthly_terraforming_agent ={ remove_modifier = add_16_monthly_terraforming_agent }
					add_17_monthly_terraforming_agent ={ remove_modifier = add_17_monthly_terraforming_agent }
					add_18_monthly_terraforming_agent ={ remove_modifier = add_18_monthly_terraforming_agent }
					add_19_monthly_terraforming_agent ={ remove_modifier = add_19_monthly_terraforming_agent }
					add_20_monthly_terraforming_agent ={ remove_modifier = add_20_monthly_terraforming_agent }
					add_21_monthly_terraforming_agent ={ remove_modifier = add_21_monthly_terraforming_agent }
					add_22_monthly_terraforming_agent ={ remove_modifier = add_22_monthly_terraforming_agent }
					add_23_monthly_terraforming_agent ={ remove_modifier = add_23_monthly_terraforming_agent }
					add_24_monthly_terraforming_agent ={ remove_modifier = add_24_monthly_terraforming_agent }
					add_25_monthly_terraforming_agent ={ remove_modifier = add_25_monthly_terraforming_agent }
					add_26_monthly_terraforming_agent ={ remove_modifier = add_26_monthly_terraforming_agent }
					add_27_monthly_terraforming_agent ={ remove_modifier = add_27_monthly_terraforming_agent }
					add_28_monthly_terraforming_agent ={ remove_modifier = add_28_monthly_terraforming_agent }
					add_29_monthly_terraforming_agent ={ remove_modifier = add_29_monthly_terraforming_agent }
					add_30_monthly_terraforming_agent ={ remove_modifier = add_30_monthly_terraforming_agent }
					add_31_monthly_terraforming_agent ={ remove_modifier = add_31_monthly_terraforming_agent }
					add_32_monthly_terraforming_agent ={ remove_modifier = add_32_monthly_terraforming_agent }
					add_33_monthly_terraforming_agent ={ remove_modifier = add_33_monthly_terraforming_agent }
					add_34_monthly_terraforming_agent ={ remove_modifier = add_34_monthly_terraforming_agent }
					add_35_monthly_terraforming_agent ={ remove_modifier = add_35_monthly_terraforming_agent }
					add_36_monthly_terraforming_agent ={ remove_modifier = add_36_monthly_terraforming_agent }
					add_37_monthly_terraforming_agent ={ remove_modifier = add_37_monthly_terraforming_agent }
					add_38_monthly_terraforming_agent ={ remove_modifier = add_38_monthly_terraforming_agent }
					add_39_monthly_terraforming_agent ={ remove_modifier = add_39_monthly_terraforming_agent }
					add_40_monthly_terraforming_agent ={ remove_modifier = add_40_monthly_terraforming_agent }
					add_41_monthly_terraforming_agent ={ remove_modifier = add_41_monthly_terraforming_agent }
					add_42_monthly_terraforming_agent ={ remove_modifier = add_42_monthly_terraforming_agent }
					add_43_monthly_terraforming_agent ={ remove_modifier = add_43_monthly_terraforming_agent }
					add_44_monthly_terraforming_agent ={ remove_modifier = add_44_monthly_terraforming_agent }
					add_45_monthly_terraforming_agent ={ remove_modifier = add_45_monthly_terraforming_agent }
					add_46_monthly_terraforming_agent ={ remove_modifier = add_46_monthly_terraforming_agent }
					add_47_monthly_terraforming_agent ={ remove_modifier = add_47_monthly_terraforming_agent }
					add_48_monthly_terraforming_agent ={ remove_modifier = add_48_monthly_terraforming_agent }
					add_49_monthly_terraforming_agent ={ remove_modifier = add_49_monthly_terraforming_agent }
					add_50_monthly_terraforming_agent ={ remove_modifier = add_50_monthly_terraforming_agent }
					add_51_monthly_terraforming_agent ={ remove_modifier = add_51_monthly_terraforming_agent }
					add_52_monthly_terraforming_agent ={ remove_modifier = add_52_monthly_terraforming_agent }
					add_53_monthly_terraforming_agent ={ remove_modifier = add_53_monthly_terraforming_agent }
					add_54_monthly_terraforming_agent ={ remove_modifier = add_54_monthly_terraforming_agent }
					add_55_monthly_terraforming_agent ={ remove_modifier = add_55_monthly_terraforming_agent }
					add_56_monthly_terraforming_agent ={ remove_modifier = add_56_monthly_terraforming_agent }
					add_57_monthly_terraforming_agent ={ remove_modifier = add_57_monthly_terraforming_agent }
					add_58_monthly_terraforming_agent ={ remove_modifier = add_58_monthly_terraforming_agent }
					add_59_monthly_terraforming_agent ={ remove_modifier = add_59_monthly_terraforming_agent }
					add_60_monthly_terraforming_agent ={ remove_modifier = add_60_monthly_terraforming_agent }
				}			
				remove_country_flag = has_terraforming_agents
			}	
			if = { 	
				limit = { 
					OR = { 
						has_country_strategic_resource = { type = sr_terraform_gases amount > 0 } 
						has_country_strategic_resource = { type = sr_terraform_liquids amount > 0 }
						has_country_strategic_resource = { type = sr_meta_organics amount > 0 }
						any_owned_planet = { 
							any_tile = { 
								has_building = building_terraforming_bacteria_germinator
								exists = pop 
							}
						}						
					}
				}	
				if = { 
					limit = { has_country_strategic_resource = { type = sr_terraform_gases amount > 0 } }
					if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 1 } } change_variable = { which = terraforming_points value = 1 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 2 } } change_variable = { which = terraforming_points value = 2 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 3 } } change_variable = { which = terraforming_points value = 3 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 4 } } change_variable = { which = terraforming_points value = 4 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 5 } } change_variable = { which = terraforming_points value = 5 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 6 } } change_variable = { which = terraforming_points value = 6 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 7 } } change_variable = { which = terraforming_points value = 7 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 8 } } change_variable = { which = terraforming_points value = 8 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 9 } } change_variable = { which = terraforming_points value = 9 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 10 } } change_variable = { which = terraforming_points value = 10 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 11 } } change_variable = { which = terraforming_points value = 11 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 12 } } change_variable = { which = terraforming_points value = 12 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 13 } } change_variable = { which = terraforming_points value = 13 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 14 } } change_variable = { which = terraforming_points value = 14 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 15 } } change_variable = { which = terraforming_points value = 15 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 16 } } change_variable = { which = terraforming_points value = 16 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 17 } } change_variable = { which = terraforming_points value = 17 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 18 } } change_variable = { which = terraforming_points value = 18 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 19 } } change_variable = { which = terraforming_points value = 19 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_gases amount = 20 } } change_variable = { which = terraforming_points value = 20 } }
				}	
				if = { 
					limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount > 0 } }
					if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 1 } } change_variable = { which = terraforming_points value = 1 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 2 } } change_variable = { which = terraforming_points value = 2 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 3 } } change_variable = { which = terraforming_points value = 3 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 4 } } change_variable = { which = terraforming_points value = 4 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 5 } } change_variable = { which = terraforming_points value = 5 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 6 } } change_variable = { which = terraforming_points value = 6 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 7 } } change_variable = { which = terraforming_points value = 7 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 8 } } change_variable = { which = terraforming_points value = 8 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 9 } } change_variable = { which = terraforming_points value = 9 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 10 } } change_variable = { which = terraforming_points value = 10 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 11 } } change_variable = { which = terraforming_points value = 11 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 12 } } change_variable = { which = terraforming_points value = 12 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 13 } } change_variable = { which = terraforming_points value = 13 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 14 } } change_variable = { which = terraforming_points value = 14 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 15 } } change_variable = { which = terraforming_points value = 15 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 16 } } change_variable = { which = terraforming_points value = 16 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 17 } } change_variable = { which = terraforming_points value = 17 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 18 } } change_variable = { which = terraforming_points value = 18 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 19 } } change_variable = { which = terraforming_points value = 19 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_terraform_liquids amount = 20 } } change_variable = { which = terraforming_points value = 20 } }
				}	
				if = { 
					limit = { has_country_strategic_resource = { type = sr_meta_organics amount > 0 } }
					if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 1 } } change_variable = { which = terraforming_points value = 1 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 2 } } change_variable = { which = terraforming_points value = 2 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 3 } } change_variable = { which = terraforming_points value = 3 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 4 } } change_variable = { which = terraforming_points value = 4 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 5 } } change_variable = { which = terraforming_points value = 5 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 6 } } change_variable = { which = terraforming_points value = 6 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 7 } } change_variable = { which = terraforming_points value = 7 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 8 } } change_variable = { which = terraforming_points value = 8 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 9 } } change_variable = { which = terraforming_points value = 9 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 10 } } change_variable = { which = terraforming_points value = 10 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 11 } } change_variable = { which = terraforming_points value = 11 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 12 } } change_variable = { which = terraforming_points value = 12 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 13 } } change_variable = { which = terraforming_points value = 13 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 14 } } change_variable = { which = terraforming_points value = 14 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 15 } } change_variable = { which = terraforming_points value = 15 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 16 } } change_variable = { which = terraforming_points value = 16 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 17 } } change_variable = { which = terraforming_points value = 17 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 18 } } change_variable = { which = terraforming_points value = 18 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 19 } } change_variable = { which = terraforming_points value = 19 } }
					else_if = { limit = { has_country_strategic_resource = { type = sr_meta_organics amount = 20 } } change_variable = { which = terraforming_points value = 20 } }
				}
				###
				if = { 
					limit = { 
						any_owned_planet = { 
							any_tile = { 
								has_building = building_terraforming_bacteria_germinator							
								exists = pop
							}
						}
					}
					every_owned_planet = { 
						limit = { 
							any_tile = { 
								has_building = building_terraforming_bacteria_germinator							
								exists = pop
							}	
						} 
						every_tile = { 
							limit = { 
								has_building = building_terraforming_bacteria_germinator
								exists = pop
							} 	
							prevprev = { change_variable = { which = terraforming_points value = 1 } }
						}	
					}
				}								
				###
				if = { limit = { check_variable = { which = terraforming_points value = 1 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_1_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 2 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_2_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 3 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_3_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 4 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_4_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 5 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_5_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 6 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_6_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 7 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_7_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 8 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_8_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 9 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_9_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 10 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_10_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 11 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_11_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 12 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_12_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 13 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_13_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 14 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_14_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 15 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_15_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 16 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_16_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 17 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_17_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 18 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_18_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 19 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_19_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 20 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_20_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 21 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_21_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 22 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_22_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 23 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_23_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 24 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_24_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 25 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_25_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 26 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_26_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 27 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_27_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 28 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_28_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 29 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_29_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 30 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_30_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 31 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_31_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 32 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_32_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 33 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_33_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 34 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_34_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 35 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_35_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 36 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_36_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 37 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_37_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 38 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_38_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 39 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_39_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 40 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_40_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 41 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_41_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 42 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_42_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 43 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_43_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 44 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_44_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 45 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_45_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 46 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_46_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 47 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_47_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 48 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_48_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 49 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_49_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 50 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_50_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 51 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_51_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 52 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_52_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 53 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_53_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 54 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_54_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 55 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_55_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 56 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_56_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 57 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_57_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 58 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_58_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 59 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_59_monthly_terraforming_agent days = -1 } }
				else_if = { limit = { check_variable = { which = terraforming_points value = 60 } } set_country_flag = has_terraforming_agents add_modifier = { modifier = add_60_monthly_terraforming_agent days = -1 } }
				###	
			}	
			if = { 
				limit = { 
					any_owned_planet = { 
						has_planet_flag = cgm_terraforming_planet						
					}
				}	
				set_variable = { which = available_terraforming_points value = terraforming_points }
				every_owned_planet = { 
					limit = { 
						has_planet_flag = cgm_terraforming_planet 
						has_planet_flag = terraformer_active		
					}
					if = { 
						limit = { has_building = building_terraformer_baseline } 
						prev = { change_variable = { which = available_terraforming_points value = -1 } }
					}	
					else_if = { 
						limit = { has_building = building_terraformer_increased } 
						prev = { change_variable = { which = available_terraforming_points value = -2 } }
					}						
					else_if = { 
						limit = { has_building = building_terraformer_maximal } 
						prev = { change_variable = { which = available_terraforming_points value = -3 } }
					}
				}
				while = { 
					limit = { 
						check_variable = { which = available_terraforming_points value < 0 } 						
					}
					if = { 
						limit = { 
							any_owned_planet = { 
								has_planet_flag = maximal_terraformer_speed
							}
						}	
						random_owned_planet = { 
							limit = { has_planet_flag = maximal_terraformer_speed }
							random_tile = { 
								limit = { has_terraformer = yes }
								remove_building = yes
								set_building = building_terraformer_increased
							}	
							remove_planet_flag = maximal_terraformer_speed 
							set_planet_flag = increased_terraformer_speed
							update_terraforming_time = yes						
						}
					}	
					else_if = { 
						limit = { 
							any_owned_planet = { 
								has_planet_flag = increased_terraformer_speed
							}
						}	
						random_owned_planet = { 
							limit = { has_planet_flag = increased_terraformer_speed }
							random_tile = { 
								limit = { has_terraformer = yes }
								remove_building = yes
								set_building = building_terraformer_baseline
							}	
							remove_planet_flag = increased_terraformer_speed 
							set_planet_flag = baseline_terraformer_speed
							update_terraforming_time = yes
							
						}
					}					
					else_if = { 
						limit = { 
							any_owned_planet = { 
								has_planet_flag = baseline_terraformer_speed
							}
						}	
						random_owned_planet = { 
							limit = { has_planet_flag = baseline_terraformer_speed }
							random_tile = { 
								limit = { has_terraformer = yes }
								remove_building = yes
								set_building = building_terraformer_inactive
							}	
							remove_planet_flag = baseline_terraformer_speed 
							remove_planet_flag = terraformer_active
							set_planet_flag = terraformer_inactive
							update_terraforming_time = yes
						}							
					}										
				}
			}
		}	
	}			
}	

planet_event = { 
	id = cgm_pe_resource_events.2
	is_triggered_only = yes
	title = "planets_enhanced_aurantiacum_x_discovered.1.name"
	desc = "planets_enhanced_aurantiacum_x_discovered.1.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_aurantiacum_x amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_aurantiacum_x_stabilization
				has_country_flag = has_aurantiacum_x_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_aurantiacum_x_project }
	}
	
	option = {
		name = accept_aurantiacum_x_project.option.name
		custom_tooltip = accept_aurantiacum_x_project.option.desc
		enable_special_project = {
			name = "aurantiacum_x_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.3
	is_triggered_only = yes
	title = "planets_enhanced_elder_compounds_discovered.2.name"
	desc = "planets_enhanced_elder_compounds_discovered.2.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_elder_compounds amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_elder_compounds_extraction
				has_country_flag = has_elder_compounds_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_elder_compounds_project }
	}
	
	option = {
		name = accept_elder_compounds_project.option.name
		custom_tooltip = accept_elder_compounds_project.option.desc
		enable_special_project = {
			name = "elder_compounds_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.4
	is_triggered_only = yes
	title = "planets_enhanced_precursor_data_cache_discovered.3.name"
	desc = "planets_enhanced_precursor_data_cache_discovered.3.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_precursor_data_cache amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_precursor_data_protocols
				has_country_flag = has_precursor_data_cache_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_precursor_data_cache_project }
	}
	
	option = {
		name = accept_precursor_data_cache_project.option.name
		custom_tooltip = accept_precursor_data_cache_project.option.desc
		enable_special_project = {
			name = "precursor_data_cache_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.5
	is_triggered_only = yes
	title = "planets_enhanced_gigalife_discovered.4.name"
	desc = "planets_enhanced_gigalife_discovered.4.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_gigalife amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_gigalife_processing
				has_country_flag = has_gigalife_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_gigalife_project }
	}
	
	option = {
		name = accept_gigalife_project.option.name
		custom_tooltip = accept_gigalife_project.option.desc
		enable_special_project = {
			name = "gigalife_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.6
	is_triggered_only = yes
	title = "planets_enhanced_ever_blossom_discovered.5.name"
	desc = "planets_enhanced_ever_blossom_discovered.5.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_ever_blossom amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_lifetap
				has_country_flag = has_ever_blossom_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_ever_blossom_project }
	}
	
	option = {
		name = accept_ever_blossom_project.option.name
		custom_tooltip = accept_ever_blossom_project.option.desc
		enable_special_project = {
			name = "ever_blossom_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.7
	is_triggered_only = yes
	title = "planets_enhanced_thybidium_discovered.6.name"
	desc = "planets_enhanced_thybidium_discovered.6.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_thybidium amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_thybidium_refining
				has_country_flag = has_thybidium_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_thybidium_project }
	}
	
	option = {
		name = accept_thybidium_project.option.name
		custom_tooltip = accept_thybidium_project.option.desc
		enable_special_project = {
			name = "thybidium_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.8
	is_triggered_only = yes
	title = "planets_enhanced_euratite_discovered.7.name"
	desc = "planets_enhanced_euratite_discovered.7.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_euratite amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_euratite_transmutation
				has_country_flag = has_euratite_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_euratite_project }
	}
	
	option = {
		name = accept_euratite_project.option.name
		custom_tooltip = accept_euratite_project.option.desc
		enable_special_project = {
			name = "euratite_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.9
	is_triggered_only = yes
	title = "planets_enhanced_altair_stone_discovered.8.name"
	desc = "planets_enhanced_altair_stone_discovered.8.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_altair_stone amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_gravitronic_manipulation
				has_country_flag = has_altair_stone_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_altair_stone_project }
	}
	
	option = {
		name = accept_altair_stone_project.option.name
		custom_tooltip = accept_altair_stone_project.option.desc
		enable_special_project = {
			name = "altair_stone_project"
			location = this
			owner = root.owner
		}		
	}
}
planet_event = { 
	id = cgm_pe_resource_events.10
	is_triggered_only = yes
	title = "planets_enhanced_precursor_nanites_discovered.9.name"
	desc = "planets_enhanced_precursor_nanites_discovered.9.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_mystic_reveal
	location = root	
	
	trigger = {		
		any_tile = { has_resource = { type = sr_precursor_nanites amount > 0 } }
		exists = owner				
		owner = { 
			NOR = { 
				has_technology = tech_precursor_nanonics
				has_country_flag = has_precursor_nanites_project
			}		
		}	
	}	

	immediate = { 
		owner = { set_country_flag = has_precursor_nanites_project }
	}
	
	option = {
		name = accept_precursor_nanites_project.option.name
		custom_tooltip = accept_precursor_nanites_project.option.desc
		enable_special_project = {
			name = "precursor_nanites_project"
			location = this
			owner = root.owner
		}		
	}
}