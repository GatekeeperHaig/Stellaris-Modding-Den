### ExOverhaul - Core Traits 
# these traits are basic species characteristics - they scale through script rather than genemodding

@base_trait_cost = 0
@secondary_trait_cost = 1
@base_trait_sorting_priority = 30
@secondary_trait_sorting_priority = 20

### primary traits

@pop_environment_tolerance_biological_tier_2 = 0.05
@pop_growth_speed_biological_tier_2 = 0.05
@pop_environment_tolerance_biological_tier_3 = 0.1
@pop_growth_speed_biological_tier_3 = 0.1
@pop_environment_tolerance_biological_tier_4 = 0.15
@pop_growth_speed_biological_tier_4 = 0.15
@pop_environment_tolerance_biological_tier_5 = 0.2
@pop_growth_speed_biological_tier_5 = 0.2

@pop_resource_output_mechanical_tier_2 = 0.025
@pop_resource_output_mechanical_tier_3 = 0.05
@pop_resource_output_mechanical_tier_4 = 0.075
@pop_resource_output_mechanical_tier_5 = 0.1

@pop_robot_upkeep_mult_machine_tier_2 = -0.05
@pop_robot_upkeep_mult_machine_tier_3 = -0.1
@pop_robot_upkeep_mult_machine_tier_4 = -0.15
@pop_robot_upkeep_mult_machine_tier_5 = -0.2

### secondary traits

@pop_consumer_goods_mult_hive_mind_1 = -0.05
@pop_consumer_goods_mult_hive_mind_2 = -0.1
@pop_consumer_goods_mult_hive_mind_3 = -0.15

##### Primary base traits

### base trait biological

trait_biological_1 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_1
	initial = no
	randomized = no
	modification = no		
	
	custom_tooltip = trait_biological_tool_tip
	modifier = { }
	prerequisites = { }
	icon = "gfx/interface/icons/traits/trait_biological_1.dds" 	
	allowed_archetypes = { BIOLOGICAL }	
}	
	
trait_biological_2 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_2
	initial = no
	randomized = no
	modification = no		
	
	custom_tooltip = trait_biological_tool_tip
	modifier = { 
		pop_environment_tolerance = @pop_environment_tolerance_biological_tier_2
		pop_growth_speed = @pop_growth_speed_biological_tier_2
	}
	prerequisites = { tech_genetic_engineering_2 }
	icon = "gfx/interface/icons/traits/trait_biological_2.dds" 	
	allowed_archetypes = { BIOLOGICAL }	
}		

trait_biological_3 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	
	custom_tooltip = trait_biological_tool_tip
	modifier = { 
		pop_environment_tolerance = @pop_environment_tolerance_biological_tier_3
		pop_growth_speed = @pop_growth_speed_biological_tier_3
	}
	prerequisites = { tech_genetic_engineering_3 }
	icon = "gfx/interface/icons/traits/trait_biological_3.dds" 	
	allowed_archetypes = { BIOLOGICAL }	
}	

trait_biological_4 = { #ascension level trait - unlocked through biological ascension 1
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	
	custom_tooltip = trait_biological_tool_tip
	modifier = { 
		pop_environment_tolerance = @pop_environment_tolerance_biological_tier_4
		pop_growth_speed = @pop_growth_speed_biological_tier_4
	}
	prerequisites = { tech_genetic_engineering_4 }
	icon = "gfx/interface/icons/traits/trait_biological_3.dds" 	
	allowed_archetypes = { BIOLOGICAL }	
}	

trait_biological_5 = { #ascension level trait - unlocked through biological ascension 2
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_5
	initial = no
	randomized = no
	modification = no		
	
	custom_tooltip = trait_biological_tool_tip
	modifier = { 
		pop_environment_tolerance = @pop_environment_tolerance_biological_tier_5
		pop_growth_speed = @pop_growth_speed_biological_tier_5
	}
	prerequisites = { tech_genetic_engineering_5 }
	icon = "gfx/interface/icons/traits/trait_biological_5.dds" 	
	allowed_archetypes = { BIOLOGICAL }	
}	

### base trait mechanical

trait_mechanical_1 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_1
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_mechanical_tool_tip
	modifier = { pop_environment_tolerance = 2 }
	prerequisites = { }
	icon = "gfx/interface/icons/traits/trait_mechanical_1.dds" 	
	allowed_archetypes = { ROBOT MACHNE }	
}	
	
trait_mechanical_2 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_2
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_mechanical_tool_tip
	modifier = { 
		pop_environment_tolerance = 2
		pop_resource_output = @pop_resource_output_mechanical_tier_2
	}
	prerequisites = { tech_mechanical_design_2 }
	icon = "gfx/interface/icons/traits/trait_mechanical_2.dds" 	
	allowed_archetypes = { ROBOT MACHNE }	
}		

trait_mechanical_3 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_mechanical_tool_tip
	modifier = { 
		pop_environment_tolerance = 2
		pop_resource_output = @pop_resource_output_mechanical_tier_3
	}
	prerequisites = { tech_mechanical_design_3 }
	icon = "gfx/interface/icons/traits/trait_mechanical_3.dds" 	
	allowed_archetypes = { ROBOT MACHNE }	
}	

trait_mechanical_4 = { #ascension level trait - unlocked through mechanical ascension 1
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_mechanical_tool_tip
	modifier = { 
		pop_environment_tolerance = 2
		pop_resource_output = @pop_resource_output_mechanical_tier_4
	}
	prerequisites = { tech_mechanical_design_4 }
	icon = "gfx/interface/icons/traits/trait_mechanical_3.dds" 	
	allowed_archetypes = { ROBOT MACHNE }	
}	

trait_mechanical_5 = { #ascension level trait - unlocked through mechanical ascension 2
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_5
	initial = no
	randomized = no
	modification = no
	immortal_leaders = yes	
	
	custom_tooltip = trait_mechanical_tool_tip
	modifier = { 
		pop_environment_tolerance = 2
		pop_resource_output = @pop_resource_output_mechanical_tier_5
	}
	prerequisites = { tech_mechanical_design_5 }
	icon = "gfx/interface/icons/traits/trait_mechanical_5.dds" 	
	allowed_archetypes = { ROBOT MACHNE }	
}	

#### Secondary Traits

### secondary trait hive mind

trait_hive_mind_1 = {
	cost = @secondary_trait_cost
	sorting_priority = @secondary_trait_sorting_priority
	
	initial = no
	randomized = no
	modification = yes
	forced_happiness = yes
	alters_species_identity = yes
	
	leader_age_min = 10
	leader_age_max = 20
	
	species_potential_add = {
		this = { 
			OR = { 
				has_trait_biological_1 = yes
				has_trait_biological_2 = yes
				has_trait_biological_3 = yes
			}	
		} 
		from = { 
			AND = { 
				is_hive_mind = yes
				has_advanced_genetic_engineering = yes		
			}
		}	
	}	
	
	species_potential_remove = {
		from = { 
			AND = { 
				is_hive_mind = no
				OR = {
					has_advanced_genetic_engineering = yes
					has_advanced_cybernetic_enhancement = yes
				}	
			}	
		}
	}	
	
	prerequisites = { tech_hive_social_engineering_1 }
	allowed_archetypes = { BIOLOGICAL }
	ai_weight = { weight = 0 }
	
	modifier = {		
		pop_consumer_goods_mult = @pop_consumer_goods_mult_hive_mind_1
	}

	icon = "gfx/interface/icons/traits/trait_hive_mind_1.dds"
}

trait_hive_mind_2 = {
	cost = @secondary_trait_cost
	sorting_priority = @secondary_trait_sorting_priority
	
	initial = no
	randomized = no
	modification = yes
	forced_happiness = yes
	alters_species_identity = yes
	
	leader_age_min = 10
	leader_age_max = 20
	
	species_potential_add = {
		this = { 
			OR = { 
				has_trait_biological_1 = yes
				has_trait_biological_2 = yes
				has_trait_biological_3 = yes
			}	
		} 
		from = { 
			AND = { 
				is_hive_mind = yes
				has_advanced_genetic_engineering = yes		
			}
		}	
	}	
	
	species_potential_remove = {
		from = { 
			AND = { 
				is_hive_mind = no
				OR = {
					has_advanced_genetic_engineering = yes
					has_advanced_cybernetic_enhancement = yes
				}	
			}	
		}
	}	
	
	prerequisites = { tech_hive_social_engineering_2 }
	allowed_archetypes = { BIOLOGICAL }
	ai_weight = { weight = 0 }
	
	modifier = {		
		pop_consumer_goods_mult = @pop_consumer_goods_mult_hive_mind_2
	}

	icon = "gfx/interface/icons/traits/trait_hive_mind_2.dds"
}

trait_hive_mind_3 = {
	cost = @secondary_trait_cost
	sorting_priority = @secondary_trait_sorting_priority
	
	initial = no
	randomized = no
	modification = yes
	forced_happiness = yes
	alters_species_identity = yes
	
	leader_age_min = 10
	leader_age_max = 20
	
	species_potential_add = {
		this = { 
			OR = { 
				has_trait_biological_1 = yes
				has_trait_biological_2 = yes
				has_trait_biological_3 = yes
			}	
		} 
		from = { 
			AND = { 
				is_hive_mind = yes
				has_advanced_genetic_engineering = yes		
			}
		}	
	}	
	
	species_potential_remove = {
		from = { 
			AND = { 
				is_hive_mind = no
				OR = {
					has_advanced_genetic_engineering = yes
					has_advanced_cybernetic_enhancement = yes
				}	
			}	
		}
	}	
	
	prerequisites = { tech_hive_social_engineering_3 }
	allowed_archetypes = { BIOLOGICAL }
	ai_weight = { weight = 0 }
	
	modifier = {		
		pop_consumer_goods_mult = @pop_consumer_goods_mult_hive_mind_3
	}

	icon = "gfx/interface/icons/traits/trait_hive_mind_3.dds"
}

trait_hive_mind_4 = {
	cost = @secondary_trait_cost
	sorting_priority = @secondary_trait_sorting_priority
	
	initial = no
	randomized = no
	modification = yes
	forced_happiness = yes
	alters_species_identity = yes
	
	leader_age_min = 10
	leader_age_max = 20
	
	species_potential_add = {
		this = { 
			has_trait_biological_4 = yes
		} 
		from = { 
			AND = { 
				is_hive_mind = yes
				has_biological_ascension_1 = yes		
			}
		}	
	}	
	
	species_potential_remove = {
		from = { 
			AND = { 
				is_hive_mind = no
				OR = {
					has_advanced_genetic_engineering = yes
					has_advanced_cybernetic_enhancement = yes
				}	
			}	
		}
	}	
	
	prerequisites = { tech_hive_social_engineering_4 }
	allowed_archetypes = { BIOLOGICAL }
	ai_weight = { weight = 0 }
	
	modifier = {		
		pop_consumer_goods_mult = @pop_consumer_goods_mult_hive_mind_4
	}

	icon = "gfx/interface/icons/traits/trait_hive_mind_4.dds"
}

trait_hive_mind_5 = {
	cost = @secondary_trait_cost
	sorting_priority = @secondary_trait_sorting_priority
	
	initial = no
	randomized = no
	modification = yes
	forced_happiness = yes
	alters_species_identity = yes
	
	leader_age_min = 10
	leader_age_max = 20
	
	species_potential_add = {
		this = { 
			has_trait_biological_5 = yes
		} 
		from = { 
			AND = { 
				is_hive_mind = yes
				has_biological_ascension_2 = yes		
			}
		}	
	}	
	
	species_potential_remove = {
		from = { 
			AND = { 
				is_hive_mind = no
				OR = {
					has_advanced_genetic_engineering = yes
					has_advanced_cybernetic_enhancement = yes
				}	
			}	
		}
	}	
	
	prerequisites = { tech_hive_social_engineering_5 }
	allowed_archetypes = { BIOLOGICAL }
	ai_weight = { weight = 0 }
	
	modifier = {		
		pop_consumer_goods_mult = @pop_consumer_goods_mult_hive_mind_5
	}

	icon = "gfx/interface/icons/traits/trait_hive_mind_5.dds"
}

###base trait machine

trait_machine_1 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_1
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	forced_happiness = yes
	
	custom_tooltip = trait_machine_tool_tip
	modifier = { 
		pop_environment_tolerance = 2
		leader_influence_cost = 1
	}
	prerequisites = { }
	icon = "gfx/interface/icons/traits/trait_machine_1.dds" 	
	allowed_archetypes = { MACHINE }	
}	
	
trait_machine_2 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_2
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_machine_tool_tip
	modifier = { 
		pop_environment_tolerance = 2		
		pop_robot_upkeep_mult = @pop_robot_upkeep_mult_machine_tier_2
		leader_influence_cost = 1
	}
	prerequisites = { tech_machine_design_2 }
	icon = "gfx/interface/icons/traits/trait_machine_2.dds" 	
	allowed_archetypes = { MACHINE }	
}		

trait_machine_3 = { 
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_machine_tool_tip
	modifier = { 
		pop_environment_tolerance = 2		
		pop_robot_upkeep_mult = @pop_robot_upkeep_mult_machine_tier_3
		leader_influence_cost = 1
	}
	prerequisites = { tech_machine_design_3 }
	icon = "gfx/interface/icons/traits/trait_machine_3.dds" 	
	allowed_archetypes = { MACHINE }	
}	

trait_machine_4 = { #ascension level trait - unlocked through machine ascension 1
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_3
	initial = no
	randomized = no
	modification = no		
	immortal_leaders = yes
	
	custom_tooltip = trait_machine_tool_tip
	modifier = { 
		pop_environment_tolerance = 2		
		pop_robot_upkeep_mult = @pop_robot_upkeep_mult_machine_tier_4
		leader_influence_cost = 1
	}
	prerequisites = { tech_machine_design_4 }
	icon = "gfx/interface/icons/traits/trait_machine_3.dds" 	
	allowed_archetypes = { MACHINE }	
}	

trait_machine_5 = { #ascension level trait - unlocked through machine ascension 2
	cost = @base_trait_cost
	sorting_priority = @base_trait_sorting_priority_tier_5
	initial = no
	randomized = no
	modification = no
	immortal_leaders = yes	
	
	custom_tooltip = trait_machine_tool_tip
	modifier = { 
		pop_environment_tolerance = 2		
		pop_robot_upkeep_mult = @pop_robot_upkeep_mult_machine_tier_5
		leader_influence_cost = 1
	}
	prerequisites = { tech_machine_design_5 }
	icon = "gfx/interface/icons/traits/trait_machine_5.dds" 	
	allowed_archetypes = { MACHINE }	
}	