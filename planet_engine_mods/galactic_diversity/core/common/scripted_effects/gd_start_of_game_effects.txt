generate_home_system_resources = {
	every_system_planet = {	
		limit = {
			colonizeable_planet = no
			NOT = { has_planet_flag = ignore_startup_effect }
		}
		prevent_anomaly = yes
		clear_deposits = yes
	}

	system_star = {	
		nw_orbital_resource_spawn_table = yes
		set_planet_flag = starting_deposit
	}
	
	while = {
		count = 2
		random_system_planet = {
			limit = {
				NOT = { has_planet_flag = starting_deposit }
				NOT = { has_planet_flag = ignore_startup_effect }
				OR = {	
					is_planet_class = pc_a_star
					is_planet_class = pc_b_star
					is_planet_class = pc_f_star
					is_planet_class = pc_g_star
					is_planet_class = pc_k_star
					is_planet_class = pc_m_star
					is_planet_class = pc_gas_giant
					is_planet_class = pc_t_star
					is_planet_class = pc_hot_giant
					is_planet_class = pc_ice_giant
				}
			}
			
			set_planet_flag = starting_deposit
			set_planet_flag = starting_mining_target			
			random_list = {
				66 = { set_deposit = d_energy_3 }
				33 = {
					set_deposit = d_energy_4
					modifier = { add = 50 planet_size > 30 }
				}
			}				
		}
	}
	
	random_system_planet = {
		limit = {
			NOT = { has_planet_flag = starting_deposit }
			NOT = { has_planet_flag = ignore_startup_effect }
			OR = {	
				is_planet_class = pc_b_star
				is_planet_class = pc_f_star				
			}
		}
		
		set_planet_flag = starting_research_target
		set_planet_flag = starting_deposit
		set_deposit = d_physics_3
	}
	random_system_planet = {
		limit = {
			NOT = { has_planet_flag = starting_deposit }
			NOT = { has_planet_flag = ignore_startup_effect }
			OR = {	
				is_planet_class = pc_hot_giant
				is_planet_class = pc_k_star
			}
		}
		
		set_planet_flag = starting_research_target
		set_planet_flag = starting_deposit
		set_deposit = d_physics_2
	}
	random_system_planet = {
		limit = {
			NOT = { has_planet_flag = starting_deposit }
			NOT = { has_planet_flag = ignore_startup_effect }
			OR = {	
				is_planet_class = pc_molten
				is_planet_class = pc_t_star				
			}
		}
		
		set_planet_flag = starting_research_target
		set_planet_flag = starting_deposit
		set_deposit = d_engineering_3
	}
	random_system_planet = {
		limit = {
			NOT = { has_planet_flag = starting_deposit }
			NOT = { has_planet_flag = ignore_startup_effect }
			OR = {	
				is_planet_class = pc_gas_giant
				is_planet_class = pc_volcanic		
			}
		}
		
		set_planet_flag = starting_research_target
		set_planet_flag = starting_deposit
		set_deposit = d_engineering_2
	}
	random_system_planet = {
		limit = {
			NOT = { has_planet_flag = starting_deposit }
			NOT = { has_planet_flag = ignore_startup_effect }
			OR = {	
				is_planet_class = pc_toxic
				is_planet_class = pc_hot_reducing
				is_planet_class = pc_cold_reducing
				is_planet_class = pc_waterworld
				is_planet_class = pc_ethaneworld
			}
		}
		
		set_planet_flag = starting_research_target
		set_planet_flag = starting_deposit
		set_deposit = d_society_2
	}
	
	while = {
		count = 2
		random_system_planet = {
			limit = {
				NOT = { has_planet_flag = starting_deposit }
				NOT = { has_planet_flag = ignore_startup_effect }
				OR = {	
					is_planet_class = pc_molten
					is_planet_class = pc_radiated
					is_planet_class = pc_volcanic
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
					is_planet_class = pc_frozen
				}
			}
			
			set_planet_flag = starting_mining_target
			set_planet_flag = starting_deposit
			random_list = {
				66 = { set_deposit = d_minerals_3 }
				33 = {
					set_deposit = d_minerals_4
					modifier = { add = 50 planet_size > 20 }
				}
			}	
		}		
	}	
	
	while = {
		count = 4
		random_system_planet = {
			limit = {
				NOT = { has_planet_flag = starting_deposit }
				NOT = { has_planet_flag = ignore_startup_effect }
				uninhabitable_mineral_planet = yes
			}
			
			#set_planet_flag = starting_mining_target
			set_planet_flag = starting_deposit
			random_list = {
				66 = { set_deposit = d_minerals_2 }
				33 = {
					set_deposit = d_minerals_3
					modifier = { add = 50 planet_size > 20 }
				}
			}	
		}		
	}
	
	

	
}