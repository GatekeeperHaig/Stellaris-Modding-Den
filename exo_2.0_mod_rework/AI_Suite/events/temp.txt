
country_event = { #this event runs on a monthly scope. 
	id = ex_ai_building_events.1
	hide_window = yes
	is_triggered_only = yes

	immediate = { 

		every_owned_planet = {
			limit = { 
				is_colony = yes
				OR = {
					owner = { is_ai = yes }
					sector_controlled = yes
				}	
			}
			if = { 
				limit = { 
					OR = {
						num_modifiers > 0 
						has_planet_bonus_building = yes
						AND = {
							planets_enhanced_enabled = yes
							has_planets_enhanced_planet_bonus_buildings = yes									
						}	
					}
				}
				calculate_planet_weights = yes
			}	
			every_owned_pop = {
				limit = { OR = { is_robot_pop = yes is_sapient = yes } }
				calculate_pop_multipliers = yes
			}				
			every_tile = {
				limit = { 
					is_orbital_tile = no
					has_blocker = no
				}
				if = {
					limit = { 
						any_neighboring_tile = { 
							OR = {
								AND = {
									has_building = yes
									OR = { 	
										has_capital_building = yes
										has_hyperstorage_building = yes 
										has_polytechnic_building = yes
										has_special_capital_resource_building = yes
										AND = {
											has_global_flag = ex_planets_enhanced_active
											has_sr_adj_bonus_building = yes
										}	
									}	
								}
								AND = {
									has_blocker = yes
									has_adj_bonus_blocker = yes
								}		
							}							
						}							
					}
					calculate_adjcancy_weights = yes
				}
				calculate_tile_weights = yes
				calculate_adj_potential_weights = yes
			}					
		}		
	}	
}
