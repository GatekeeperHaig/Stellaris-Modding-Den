### The variables in this file are all pop_multipliers. 

calculate_pop_multipliers = { 
	root = {
		  set_variable = { which = energy_pop_mult value = 1 }
		  set_variable = { which = minerals_pop_mult value = 1 }
		  set_variable = { which = food_pop_mult value = 1 }
		  set_variable = { which = unity_pop_mult value = 1 }
		  set_variable = { which = society_pop_mult value = 1 }
		  set_variable = { which = physics_pop_mult value = 1 }
		  set_variable = { which = engineering_pop_mult value = 1 }
	 } 
	check_pop_traits = yes
	check_pop_species_rights = yes	
}

check_pop_traits = {
	if = { 
		limit = { is_robot_pop = no }
		if = { 
			limit = { has_trait = "trait_nerve_stapled" }
			root = {
				  change_variable = { which = energy_pop_mult value = -0.5 }
				  change_variable = { which = minerals_pop_mult value = 0.1 }
				  change_variable = { which = food_pop_mult value = 0.1 }
				  change_variable = { which = unity_pop_mult value = -0.5 }
				  change_variable = { which = society_pop_mult value = -0.75 }
				  change_variable = { which = physics_pop_mult value = -0.75 }
				  change_variable = { which = engineering_pop_mult value = -0.75 }
			}			
		}
		if = { 
			limit = { has_trait = "trait_presapient_proles" }
			root = {
				change_variable = { which = energy_pop_mult value = -0.5 }
				change_variable = { which = minerals_pop_mult value = 0.1 }
				change_variable = { which = food_pop_mult value = 0.1 }     
				change_variable = { which = society_pop_mult value = -0.25 }
				change_variable = { which = physics_pop_mult value = -0.25 }
				change_variable = { which = engineering_pop_mult value = -0.25 }
			}	
		}   
		if = { 
			limit = { has_trait = "trait_syncretic_proles" }
			root = {
				change_variable = { which = minerals_pop_mult value = 0.1 }
				change_variable = { which = food_pop_mult value = 0.1 }     
				change_variable = { which = society_pop_mult value = -0.15 }
				change_variable = { which = physics_pop_mult value = -0.15 }
				change_variable = { which = engineering_pop_mult value = -0.15 }
			}
		}     
		if = { 
			limit = { has_trait = "trait_agrarian" }
			root = { change_variable = { which = food_pop_mult value = 0.15 } }
		} 
		if = { 
			limit = { has_trait = "trait_thrifty" }
			root = { change_variable = { which = energy_pop_mult value = 0.15 } }
		}       
		if = { 
			limit = { has_trait = "trait_industrious" }
			root = { change_variable = { which = minerals_pop_mult value = 0.15 } }
		}     
		if = { 
			limit = { has_trait = "trait_intelligent" }
			root = {
				change_variable = { which = society_pop_mult value = 0.1 }
				change_variable = { which = physics_pop_mult value = 0.1 }
				change_variable = { which = engineering_pop_mult value = 0.1 }
			}	
		}     
		if = { 
			limit = { has_trait = "trait_natural_engineers" }
			root = { change_variable = { which = engineering_pop_mult value = 0.15 } }
		}           
		if = { 
			limit = { has_trait = "trait_natural_physicists" }
			root = { change_variable = { which = physics_pop_mult value = 0.15 } }
		}           
		if = { 
			limit = { has_trait = "trait_natural_sociologists" }
			root = { change_variable = { which = society_pop_mult value = 0.15 } }
		}     
		if = { 
			limit = { has_trait = "trait_very_strong" }
			root = { change_variable = { which = minerals_pop_mult value = 0.1 } }
		}           
		if = { 
			limit = { has_trait = "trait_strong" }
			root = { change_variable = { which = minerals_pop_mult value = 0.05 } }
		}                 
		if = { 
			limit = { has_trait = "trait_weak" }
			root = { change_variable = { which = minerals_pop_mult value = -0.05 } }
		} 
		if = { 
			limit = { has_trait = "trait_erudite" }
			root = {
				change_variable = { which = society_pop_mult value = 0.2 }
				change_variable = { which = physics_pop_mult value = 0.2 }
				change_variable = { which = engineering_pop_mult value = 0.2 }
			}	
		}
		if = {        
			limit = { has_trait = "trait_presapient_earthbound" }     
			root = {change_variable = { which = energy_pop_mult value = 0.1 } }
		}
		if = {        
			limit = { has_trait = "trait_presapient_natural_intellectuals" }      
			root = {
				change_variable = { which = society_pop_mult value = 0.1 }
				change_variable = { which = physics_pop_mult value = 0.1 }
				change_variable = { which = engineering_pop_mult value = 0.1 }
				change_variable = { which = minerals_pop_mult value = 0.1 }
			}	
		} 
		if = {
			limit = { 
				has_trait = "trait_cybernetic" 
				planet = { has_building = building_neuro_electric_amplifier } 
			}
			root = {	
				change_variable = { which = minerals_pop_mult value = 0.15 }
				change_variable = { which = energy_pop_mult value = 0.15 }
			}	
		} 
		break = yes 
	} 
	if = { 
		limit = { is_robot_pop = yes }
		if = { 
			limit = { has_trait = "trait_robotic_1" }
			root = {
				change_variable = { which = energy_pop_mult value = -0.8 }
				change_variable = { which = minerals_pop_mult value = 0.1 }       
				change_variable = { which = unity_pop_mult value = -0.4 }
				change_variable = { which = society_pop_mult value = -0.8 }
				change_variable = { which = physics_pop_mult value = -0.8 }
				change_variable = { which = engineering_pop_mult value = -0.8 }
			}	
		}           
		if = { 
			limit = { has_trait = "trait_robotic_2" }
			root = {	
				change_variable = { which = energy_pop_mult value = -0.2 }
				change_variable = { which = minerals_pop_mult value = 0.15 }       
				change_variable = { which = unity_pop_mult value = -0.2 }
				change_variable = { which = society_pop_mult value = -0.4 }
				change_variable = { which = physics_pop_mult value = -0.4 }
				change_variable = { which = engineering_pop_mult value = -0.4 }
			}	
		}
		if = { 
			limit = { has_trait = "trait_robotic_3" }
			root = {
				change_variable = { which = energy_pop_mult value = 0.2 }
				change_variable = { which = minerals_pop_mult value = 0.2 }       
				change_variable = { which = unity_pop_mult value = 0.2 }
				change_variable = { which = society_pop_mult value = 0.2 }
				change_variable = { which = physics_pop_mult value = 0.2 }
				change_variable = { which = engineering_pop_mult value = 0.2 }
			}	
		}     
		if = { 
			limit = { has_trait = "trait_robot_power_drills" }
			root = { change_variable = { which = minerals_pop_mult value = 0.1 } }
		}     
		if = { 
			limit = { has_trait = "trait_robot_harvesters" }
			root = { change_variable = { which = food_pop_mult value = 0.1 } }
		}     
		if = { 
			limit = { has_trait = "trait_robot_logic_engines" }
			root = {
				  change_variable = { which = society_pop_mult value = 0.1 }
				  change_variable = { which = physics_pop_mult value = 0.1 }
				  change_variable = { which = engineering_pop_mult value = 0.1 }
			}	  
		}
		if = { 
			limit = { has_trait = "trait_robot_superconductive" }
			root = { change_variable = { which = energy_pop_mult value = 0.1 } }       
		}
		if = { 
			limit = { has_trait = "trait_robot_propaganda_machines" }
			root = { change_variable = { which = unity_pop_mult value = 0.1 } }        
		}      
	}
}   

check_pop_species_rights = {
	if = {
		limit = { has_living_standard = { type = living_standard_chemical_bliss } }
		root = {
			change_variable = { which = energy_pop_mult value = -0.6 }
			change_variable = { which = minerals_pop_mult value = -0.6 }       
			change_variable = { which = food_pop_mult value = -0.6 }
			change_variable = { which = unity_pop_mult value = -0.6 }
			change_variable = { which = society_pop_mult value = -0.6 }
			change_variable = { which = physics_pop_mult value = -0.6 }
			change_variable = { which = engineering_pop_mult value = -0.6 }		
		}	
		break = yes
	}	
	if = {
		limit = { has_living_standard = { type = living_standard_academic_privilege } }
		root = {
			change_variable = { which = society_pop_mult value = 0.1 }
			change_variable = { which = physics_pop_mult value = 0.1 }
			change_variable = { which = engineering_pop_mult value = 0.1 }		
		}	
		break = yes
	}	
	if = {
		limit = {
			OR = {
				is_enslaved = yes
				is_being_purged = yes
			}
		}
		else = { break = yes }	
		if = {
			limit = { has_slavery_type = { type = slavery_normal } }
			root = {
				change_variable = { which = energy_pop_mult value = -0.33 }
				change_variable = { which = minerals_pop_mult value = 0.1 }       
				change_variable = { which = food_pop_mult value = 0.1 }
				change_variable = { which = unity_pop_mult value = -0.75 }
				change_variable = { which = society_pop_mult value = -0.75 }
				change_variable = { which = physics_pop_mult value = -0.75 }
				change_variable = { which = engineering_pop_mult value = -0.75 }		
			}	
			break = yes
		}			
		if = {
			limit = { has_slavery_type = { type = slavery_domestic } }
			root = {
				change_variable = { which = energy_pop_mult value = -0.33 }		
				change_variable = { which = unity_pop_mult value = -0.33 }
				change_variable = { which = society_pop_mult value = -0.75 }
				change_variable = { which = physics_pop_mult value = -0.75 }
				change_variable = { which = engineering_pop_mult value = -0.75 }		
			}	
			break = yes
		}				
		if = {
			limit = { has_slavery_type = { type = slavery_military } }
			root = {
				change_variable = { which = energy_pop_mult value = -0.15 }		
				change_variable = { which = unity_pop_mult value = -0.5 }
				change_variable = { which = society_pop_mult value = -0.5 }
				change_variable = { which = physics_pop_mult value = -0.5 }
				change_variable = { which = engineering_pop_mult value = -0.5 }		
			}	
			break = yes
		}
		if = {
			limit = {
				OR = { 
					has_purge_type = { type = purge_normal }
					has_purge_type = { type = purge_matrix }
					has_purge_type = { type = purge_processing }
					has_slavery_type = { type = slavery_livestock }
					has_slavery_type = { type = slavery_matrix }
				}
			}
			root = {
				change_variable = { which = energy_pop_mult value = -10 }		
				change_variable = { which = minerals_pop_mult value = -10 }		
				change_variable = { which = food_pop_mult value = -10 }		
				change_variable = { which = unity_pop_mult value = -10 }
				change_variable = { which = society_pop_mult value = -10 }
				change_variable = { which = physics_pop_mult value = -10 }
				change_variable = { which = engineering_pop_mult value = -10 }				
			}	
			break = yes
		}	
		if = {
			limit = { has_purge_type = { type = purge_labor_camps }	}
			root = {
				change_variable = { which = energy_pop_mult value = -10 }		
				change_variable = { which = unity_pop_mult value = -10 }
				change_variable = { which = society_pop_mult value = -10 }
				change_variable = { which = physics_pop_mult value = -10 }
				change_variable = { which = engineering_pop_mult value = -10 }				
			}	
			break = yes
		}		
	}	
}	