country_edict = {
	name = cgm_pe_menu_edict
	length = 0
	cost = { }
	effect = {
		hidden_effect = { country_event = { id = cgm_pe_spawn_engine.3 } }
	}
	potential = {
		is_ai = no
		OR = {
			is_multiplayer = no
			AND = { is_multiplayer = yes has_country_flag = cgm_game_host }
		}
		has_global_flag = cgm_pe_spawn_engine_fired
	}
}
planet_edict = {
	name = "open_cgm_exploitation_menu"
	cost = {}
	length = 0
	potential = { 
		NOR = { 
			has_planet_flag = cgm_deep_core_mining
			has_planet_flag = cgm_geothermal_tap
			has_planet_flag = cgm_tectonic_engineering
			has_planet_flag = cgm_harvest
		}	
	}			
	allow = {
		custom_tooltip = {
			fail_text = "requires_planetary_specialization_technologies"		
			owner = { 
				OR = {
					has_technology = "tech_tectonic_engineering"
					has_technology = "tech_soil_harvesting"
					has_technology = "tech_deep_core_mining"
					has_technology = "tech_geothermal_tap"
				}
			}	
		}	
		custom_tooltip = {
			fail_text = "requires_non_artificial_planet"		
			is_artificial = no
		}	
		custom_tooltip = {
			fail_text = "requires_non_machine_world"		
			NOT = { is_planet_class = pc_machine }
		}		
		custom_tooltip = {
			fail_text = "requires_non_terraforming_uninhabitable_or_asteroid"		
			cgm_planet = no
		}				
	}	
	effect = { hidden_effect = { planet_event = { id = cgm_planetary_exploitation.1 } }	}
	ai_weight = { weight = 0 }
}
planet_edict = { 
	name = "deactivate_terraformer"
	cost = {}
	length = 0 
	potential = { 
		has_terraformer = yes
		has_planet_flag = terraformer_active		
	}
	effect = { 
		custom_tooltip = "terraformer_deactivation_warning"
		hidden_effect = { 
			remove_planet_flag = increased_terraformer_speed
			remove_planet_flag = maximal_terraformer_speed
			remove_planet_flag = baseline_terraformer_speed	
			remove_planet_flag = terraformer_active
			set_planet_flag = terraformer_inactive	
			random_tile = { 
				limit = { has_terraformer = yes } 
				remove_building = yes
				set_building = building_terraformer_inactive
			}	
		}
	}
	ai_weight = { weight = 0 }
}	
planet_edict = { 
	name = "baseline_terraformer_speed"
	cost = {}
	length = 0 
	potential = { 
		has_terraformer = yes
		NOT = { has_planet_flag = baseline_terraformer_speed }		
		OR = { 
			has_planet_flag = terraformer_inactive
			has_planet_flag = increased_terraformer_speed
			has_planet_flag = maximal_terraformer_speed
		}	
	}
	allow = { 
		custom_tooltip = {
			fail_text = "requires_1_sr_terraforming_agents"		
			owner = { has_country_resource = { type = sr_terraforming_agents amount > 0.99 } }
		}	
	}
	effect = { 
		hidden_effect = { 
			remove_planet_flag = increased_terraformer_speed
			remove_planet_flag = maximal_terraformer_speed
			remove_planet_flag = terraformer_inactive
			set_planet_flag = terraformer_active						
			set_planet_flag = baseline_terraformer_speed 
			random_tile = { 
				limit = { has_terraformer = yes } 
				remove_building = yes
				set_building = building_terraformer_baseline
			}			
		}
	}
	ai_weight = { weight = 5 }
}	
planet_edict = { 
	name = "increased_terraformer_speed"
	cost = {}
	length = 0 
	potential = { 
		has_terraformer = yes
		NOT = { has_planet_flag = increased_terraformer_speed }		
		OR = { 
			has_planet_flag = terraformer_inactive
			has_planet_flag = maximal_terraformer_speed
			has_planet_flag = baseline_terraformer_speed	
		}		
	}
	allow = { 
		custom_tooltip = {
			fail_text = "requires_2_sr_terraforming_agents"		
			owner = { has_country_resource = { type = sr_terraforming_agents amount > 1.99 } }
		}	
	}
	effect = { 
		hidden_effect = { 
			remove_planet_flag = baseline_terraformer_speed
			remove_planet_flag = maximal_terraformer_speed
			remove_planet_flag = terraformer_inactive
			set_planet_flag = terraformer_active			
			set_planet_flag = increased_terraformer_speed 
			random_tile = { 
				limit = { has_terraformer = yes } 
				remove_building = yes
				set_building = building_terraformer_increased
			}				
		}
	}
	ai_weight = { weight = 5 }
}	
planet_edict = { 
	name = "maximal_terraformer_speed"
	cost = {}
	length = 0 
	potential = { 
		has_terraformer = yes
		NOT = { has_planet_flag = maximal_terraformer_speed }		
		OR = { 
			has_planet_flag = terraformer_inactive
			has_planet_flag = increased_terraformer_speed
			has_planet_flag = baseline_terraformer_speed	
		}		
	}
	allow = { 
		custom_tooltip = {
			fail_text = "requires_3_sr_terraforming_agents"		
			owner = { has_country_resource = { type = sr_terraforming_agents amount > 2.99 } }
		}	
	}
	effect = { 
		hidden_effect = { 
			remove_planet_flag = baseline_terraformer_speed
			remove_planet_flag = increased_terraformer_speed
			remove_planet_flag = terraformer_inactive
			set_planet_flag = terraformer_active			
			set_planet_flag = maximal_terraformer_speed 
			random_tile = { 
				limit = { has_terraformer = yes } 
				remove_building = yes
				set_building = building_terraformer_maximal
			}			
		}
	}
	ai_weight = { weight = 5 }
}	