namespace = nicoll

country_event = {
    id = nicoll.10001
    hide_window = yes
    is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_1 }
	}
	
	immediate = {
		every_country = {
			limit = {
				NOT = { is_country_type = primitive }
				NOT = { is_country = ROOT }
			}
			add_opinion_modifier = { who = ROOT modifier = opinion_building_nicoll_beam }
		}
	}
}

country_event = {
    id = nicoll.10002
    hide_window = yes
    is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_4 }
	}
	
    immediate = {
		every_country = {
			limit = {
				NOT = { is_country_type = primitive }
				NOT = { is_country = ROOT }
			}
			remove_opinion_modifier = { who = ROOT modifier = opinion_building_nicoll_beam }
			add_opinion_modifier = { who = ROOT modifier = opinion_nicoll_fear }
		}
    }
}

country_event = {
    id = nicoll.10003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		every_country = {
			limit = {
				NOT = { is_country_type = primitive }
				NOT = { is_country = ROOT }
			}
			remove_opinion_modifier = { who = ROOT modifier = opinion_nicoll_fear }
			add_opinion_modifier = { who = ROOT modifier = opinion_broke_system }
		}
    }
}

country_event = {
    id = nicoll.10004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		every_country = {
			limit = {
				NOT = { is_country_type = primitive }
				NOT = { is_country = ROOT }
			}
			remove_opinion_modifier = { who = ROOT modifier = opinion_nicoll_fear }
			add_opinion_modifier = { who = ROOT modifier = opinion_broke_planet }
		}
    }
}

country_event = {
    id = nicoll.10005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		every_country = {
			limit = {
				NOT = { is_country_type = primitive }
				NOT = { is_country = ROOT }
			}
			remove_opinion_modifier = { who = ROOT modifier = opinion_nicoll_fear }
			add_opinion_modifier = { who = ROOT modifier = opinion_broke_planet_buildings }
		}
    }
}

country_event = {
    id = nicoll.3000
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_portal
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_gate
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_gate_1" 
					location = FROMFROM
					owner = FROM.country
				}
			}
		}
    }
}

country_event = {
    id = nicoll.3001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.3002 days = 5 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_portal
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_gate_1
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_gate_2" 
					location = FROMFROM
					owner = FROM
				}
			}
		}
    }
}

country_event = {
	id = nicoll.3002
    hide_window = yes
	is_triggered_only = yes

    immediate = {
		country_event = { id = nicoll.f1 days = 1 }
		country_event = { id = nicoll.3005 days = 20 }
		country_event = { id = nicoll.10003 days = 1 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_portal
			}
			solar_system = {
				save_event_target_as = target_system
				every_neighbor_system = {
					remove_hyperlane = {
						from = event_target:target_system
						to = THIS
					}
				}
				random_system_planet = {
					limit = { is_star = yes }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 100
					}
				}
				random_system_planet = {
					limit = { is_star = yes }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 100
					}
				}
				random_system_planet = {
					limit = { is_star = yes }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 100
					}
				}
				random_system_planet = {
					limit = { is_star = yes }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 100
					}
				}
				every_system_planet = {
					limit = { is_star = no }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 10
					}
				}
				every_system_planet = {
					limit = { is_star = no }
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 10
					}
				}
				every_system_planet = {
					limit = {
						is_star = no
					}
					remove_planet = yes
				}
				every_system_planet = {
					limit = {
						is_star = yes
					}
					remove_planet = yes
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				asteroids_distance = 0
				every_fleet_in_system = { destroy_fleet = this }
			}
		}
	}
}

country_event = {
    id = nicoll.f1
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_portal
			}
			remove_planet_flag = nicoll_portal
		}
		country_event = { id = nicoll.3003 days = 5 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_pew
						}
						remove_megastructure = this
					}
				}
			}
        }
    }
}

country_event = {
    id = nicoll.3003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.3004 days = 1800 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				every_system_planet = {
					limit = {
						is_star = yes
					}
					set_planet_flag = nicoll_cooldown
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_4" 
					location = FROMFROM
					owner = space_owner
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.3004
	title = nicoll.3004.title
	desc = nicoll.3004.desc
	picture = GFX_evt_nicoll
	show_sound = event_sensor_ping
    is_triggered_only = yes
	
	option = {
		name = nicoll.3004.a
		hidden_effect = {
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_planet = {
						limit = {
							is_star = yes
						}
						remove_planet_flag = nicoll_cooldown
					}
				}
			}
		}
	}
}

country_event = {
    id = nicoll.2000
    hide_window = yes
    is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_4 }
	}
	
    immediate = {
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.2001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_side_gate
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate_1" 
					location = FROMFROM
					owner = space_owner
				}
			}
		}
    }
}

country_event = {
	id = nicoll.9001
	title = "nicoll.9001.title"
	desc = "nicoll.9001.desc"
	picture = GFX_evt_nicoll
	show_sound = event_sensor_ping

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_target_marker}
	}
	
    immediate = {
		set_country_flag = firing_target_marker
	}
	
	option = {
		name = "nicoll.9001.a"
		custom_tooltip = country.1.a.tooltip
	}
}

country_event = {
	id = nicoll.9000
	title = "nicoll.9000.title"
	desc = "nicoll.9000.desc"
	picture = GFX_evt_nicoll
	show_sound = event_sensor_ping

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_gate}
	}
	
    immediate = {
		set_country_flag = firing_nicoll_gate
		set_global_flag = target_marker_exists
	}
	
	option = {
		name = "nicoll.9000.a"
	}
}

country_event = {
    id = nicoll.1000
	title = "nicoll.1000.title"
	desc = "nicoll.1000.desc"
	picture = GFX_evt_nicoll
	show_sound = event_sensor_ping

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = nicoll_beam_5}
	}
	
    immediate = {
		if = {
			limit = {
				has_country_flag = firing_nicoll_gate
			}
			remove_country_flag = firing_nicoll_gate
			country_event = { id = nicoll.1001 days = 1 }
			country_event = { id = nicoll.2001 days = 1 }
			country_event = { id = nicoll.3000 days = 1 }
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_megastructure = {
						if = {
							limit = {
								exists = this
								is_megastructure_type = nicoll_beam_5
							}
							remove_megastructure = this
						}
					}
					spawn_megastructure = { 
						type = "nicoll_beam_f1" 
						location = FROMFROM
						owner = space_owner
					}
					spawn_megastructure = { 
						type = "nicoll_beam_6" 
						location = FROMFROM
						owner = space_owner
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = firing_target_marker
			}
			country_event = { id = nicoll.8000 }
		}

	
	option = {
		name = "nicoll.1000.a"
	}
}

country_event = {
    id = nicoll.8000
	title = "nicoll.8000.title"
	desc = "nicoll.8000.desc"
    is_triggered_only = yes
	picture = GFX_evt_nicoll
	show_sound = event_sensor_ping

	option = {
		trigger = {
			host_has_dlc = "Apocalypse"
		}
		name = "nicoll.8000.d"
		custom_tooltip = nicoll.8000.d.tooltip
		hidden_effect = {
			country_event = { id = nicoll.5001 days = 1 }
			country_event = { id = nicoll.5009 days = 1 }
			country_event = { id = nicoll.2001 days = 1 }
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_megastructure = {
						if = {
							limit = {
								exists = this
								is_megastructure_type = nicoll_beam_5
							}
							remove_megastructure = this
						}
					}
					spawn_megastructure = { 
						type = "nicoll_beam_f1" 
						location = FROMFROM
						owner = space_owner
					}
					spawn_megastructure = { 
						type = "nicoll_beam_6" 
						location = FROMFROM
						owner = space_owner
					}
				}
			}
		}
	}
	
	option = {
		name = "nicoll.8000.a"
		custom_tooltip = nicoll.8000.a.tooltip
		hidden_effect = {
			country_event = { id = nicoll.8001 days = 1 }
			country_event = { id = nicoll.8009 days = 1 }
			country_event = { id = nicoll.2001 days = 1 }
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_megastructure = {
						if = {
							limit = {
								exists = this
								is_megastructure_type = nicoll_beam_5
							}
							remove_megastructure = this
						}
					}
					spawn_megastructure = { 
						type = "nicoll_beam_f1" 
						location = FROMFROM
						owner = space_owner
					}
					spawn_megastructure = { 
						type = "nicoll_beam_6" 
						location = FROMFROM
						owner = space_owner
					}
				}
			}
		}
	}

	option = {
		name = "nicoll.8000.b"
		custom_tooltip = nicoll.8000.b.tooltip
		hidden_effect = {
			country_event = { id = nicoll.7001 days = 1 }
			country_event = { id = nicoll.7009 days = 1 }
			country_event = { id = nicoll.2001 days = 1 }
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_megastructure = {
						if = {
							limit = {
								exists = this
								is_megastructure_type = nicoll_beam_5
							}
							remove_megastructure = this
						}
					}
					spawn_megastructure = { 
						type = "nicoll_beam_f1" 
						location = FROMFROM
						owner = space_owner
					}
					spawn_megastructure = { 
						type = "nicoll_beam_6" 
						location = FROMFROM
						owner = space_owner
					}
				}
			}
		}
	}
	
	option = {
		name = "nicoll.8000.c"
		custom_tooltip = nicoll.8000.c.tooltip
		hidden_effect = {
			country_event = { id = nicoll.6001 days = 1 }
			country_event = { id = nicoll.6009 days = 1 }
			country_event = { id = nicoll.2001 days = 1 }
			every_planet_within_border = {
				limit = {
					has_planet_flag = nicollfiring_soon
				}
				solar_system = {
					every_system_megastructure = {
						if = {
							limit = {
								exists = this
								is_megastructure_type = nicoll_beam_5
							}
							remove_megastructure = this
						}
					}
					spawn_megastructure = { 
						type = "nicoll_beam_f1" 
						location = FROMFROM
						owner = space_owner
					}
					spawn_megastructure = { 
						type = "nicoll_beam_6" 
						location = FROMFROM
						owner = space_owner
					}
				}
			}
		}
	}
}

country_event = {
    id = nicoll.5001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5002 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f2" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5002
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5003 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f3" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5004 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f4" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5005 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f5" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5006 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f6" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5006
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5007 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f7" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5007
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5008 days = 2 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f8" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.5008
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.5010 days = 10 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_pew" 
					location = FROMFROM
					owner = space_owner
				}
			}
			space_owner = {
				save_event_target_as = nicoll_country
			}
        }
    }
}

country_event = {
    id = nicoll.5009
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_1
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.5010
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.50012 days = 1 }
		country_event = { id = nicoll.50013 days = 1 }
		country_event = { id = nicoll.5011 days = 10 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.25
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.25
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						NOR = {
							is_planet_class = pc_habitat 
						    is_planet_class = pc_ringworld_habitable 
						}
					}
					orbital_deposit_tile = {
						add_deposit = d_nicollboom_deposit
					}
					change_pc = pc_shattered
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.1
					}
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_1
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_d
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.5011
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		remove_country_flag = firing_target_marker
		country_event = { id = nicoll.5012 days = 2 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			space_owner = {
				add_opinion_modifier = { who = ROOT modifier = opinion_broke_our_planet }
			}
			if = {
				limit = {
					NOR = {
						has_planet_flag = planetinfestedtarget
						has_planet_flag = notcolonytarget
					}
				}
				every_country = {
					limit = {
						is_country = ROOT
					}
					country_event = { id = nicoll.10004 days = 1 }
				}
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_d
						}
						remove_megastructure = this
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.50012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					change_pc = pc_ringworld_habitable_damaged
				}
			}
		}
	}
}

country_event = {
    id = nicoll.50013
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					remove_planet_flag = has_megastructure
					remove_planet = yes
				}
			}
		}
	}
}

country_event = {
    id = nicoll.5012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			remove_planet_flag = nicoll_beam_target
		}
		country_event = { id = nicoll.3004 days = 1440 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				remove_star_flag = s_nicoll_beam_target
				every_system_planet = {
					limit = {
						is_star = yes
					}
					set_planet_flag = nicoll_cooldown
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_4" 
					location = FROMFROM
					owner = space_owner
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

###LIFELESS TEMPERATE
country_event = {
    id = nicoll.6001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6002 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f2" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6002
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6003 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f3" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6004 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f4" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6005 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f5" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6006 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f6" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6006
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6007 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f7" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6007
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6008 days = 2 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f8" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.6008
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6010 days = 10 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_pew" 
					location = FROMFROM
					owner = space_owner
				}
			}
			space_owner = {
				save_event_target_as = nicoll_country
			}
        }
    }
}

country_event = {
    id = nicoll.6009
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_1
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.6010
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.6011 days = 5 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.1
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.1
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						NOR = {
							is_planet_class = pc_habitat 
						    is_planet_class = pc_ringworld_habitable 
						}
					}
					orbital_deposit_tile = {
						clear_deposits = yes
					}
					every_tile = {
						limit = { has_blocker = "tb_dangerous_wildlife" }
						remove_blocker = yes
					}
					change_pc = pc_ll_temperate
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.1
					}
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_1
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_c
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.6011
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		remove_country_flag = firing_target_marker
		country_event = { id = nicoll.6012 days = 2 }
		country_event = { id = nicoll.60013 days = 1 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			space_owner = {
				add_opinion_modifier = { who = ROOT modifier = opinion_broke_our_planet_buildings }
			}
			if = {
				limit = {
					NOR = {
						has_planet_flag = planetinfestedtarget
						has_planet_flag = notcolonytarget
					}
				}
				every_country = {
					limit = {
						is_country = ROOT
					}
					country_event = { id = nicoll.10005 days = 1 }
				}
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_c
						}
						remove_megastructure = this
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.60013
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					remove_planet = yes
					remove_planet_flag = has_megastructure
				}
			}
		}
	}
}

country_event = {
    id = nicoll.6012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			remove_planet_flag = nicoll_beam_target
		}
		country_event = { id = nicoll.3004 days = 360 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				remove_star_flag = s_nicoll_beam_target
				every_system_planet = {
					limit = {
						is_star = yes
					}
					set_planet_flag = nicoll_cooldown
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_4" 
					location = FROMFROM
					owner = space_owner
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

###BARREN
country_event = {
    id = nicoll.7001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7002 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f2" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7002
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7003 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f3" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7004 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f4" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7005 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f5" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7006 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f6" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7006
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7007 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f7" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7007
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7008 days = 2 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f8" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.7008
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7010 days = 10 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_pew" 
					location = FROMFROM
					owner = space_owner
				}
			}
			space_owner = {
				save_event_target_as = nicoll_country
			}
        }
    }
}

country_event = {
    id = nicoll.7009
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_1
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.7010
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.7011 days = 5 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.25
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.25
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						NOR = {
							is_planet_class = pc_habitat 
						    is_planet_class = pc_ringworld_habitable 
						}
					}
					orbital_deposit_tile = {
						clear_deposits = yes
					}						
					change_pc = pc_barren
					every_tile = {
						limit = {
							has_building = yes
						}
						set_ruined = yes
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 0.1
					}
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_1
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_b
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.7011
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		remove_country_flag = firing_target_marker
		country_event = { id = nicoll.7012 days = 2 }
		country_event = { id = nicoll.70012 days = 1 }
		country_event = { id = nicoll.70013 days = 1 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			space_owner = {
				add_opinion_modifier = { who = ROOT modifier = opinion_broke_our_planet }
			}
			if = {
				limit = {
					NOR = {
						has_planet_flag = planetinfestedtarget
						has_planet_flag = notcolonytarget
					}
				}
				every_country = {
					limit = {
						is_country = ROOT
					}
					country_event = { id = nicoll.10004 days = 1 }
				}
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_b
						}
						remove_megastructure = this
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.70012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					change_pc = pc_ringworld_habitable_damaged
				}
			}
		}
	}
}

country_event = {
    id = nicoll.70013
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					remove_planet_flag = has_megastructure
					remove_planet = yes
				}
			}
		}
	}
}

country_event = {
    id = nicoll.7012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			remove_planet_flag = nicoll_beam_target
		}
		country_event = { id = nicoll.3004 days = 720 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				remove_star_flag = s_nicoll_beam_target
				every_system_planet = {
					limit = {
						is_star = yes
					}
					set_planet_flag = nicoll_cooldown
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_4" 
					location = FROMFROM
					owner = space_owner
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

###TURN PLANET MOLTEN
country_event = {
    id = nicoll.8001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8002 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f2" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8002
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8003 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f3" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8004 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f4" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8005 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f5" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8006 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f6" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8006
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8007 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f7" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8007
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8008 days = 2 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f8" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.8008
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8010 days = 10 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_pew" 
					location = FROMFROM
					owner = space_owner
				}
			}
			space_owner = {
				save_event_target_as = nicoll_country
			}
        }
    }
}

country_event = {
    id = nicoll.8009
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_1
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.8010
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.8011 days = 5 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 1
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 1
					}
				}
				every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						NOT = { is_planet_class = pc_ringworld_habitable }
					}
					orbital_deposit_tile = {
						add_deposit =  d_iodizium_deposit
					}					
					while = { 
						limit = { 
							planet_size < 8
						} 
						change_planet_size = +1			
					}
					change_planet_size = -7
					change_pc = pc_molten
					create_ambient_object = {
						type = explosion_particle_object
						location = this
						duration = 50
						
						use_3d_location = yes
						
						entity_offset = { min = 0 max = 0 }
						entity_offset_angle = { min = 0 max = 360 }
						entity_offset_height = { min = 0 max = 0 }
						
						entity_scale_to_size = yes
						scale = 1
					}
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_1
						}
						upgrade_megastructure_to = nicoll_beam_target_marker_2
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.8011
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		remove_country_flag = firing_target_marker
		country_event = { id = nicoll.8012 days = 2 }
		country_event = { id = nicoll.80012 days = 1 }
		country_event = { id = nicoll.80013 days = 1 }
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			space_owner = {
				add_opinion_modifier = { who = ROOT modifier = opinion_broke_our_planet }
			}
			if = {
				limit = {
					NOR = {
						has_planet_flag = planetinfestedtarget
						has_planet_flag = notcolonytarget
					}
				}
				every_country = {
					limit = {
						is_country = ROOT
					}
					country_event = { id = nicoll.10004 days = 1 }
				}
			}
			solar_system = {
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
							is_megastructure_type = nicoll_beam_target_marker_2
						}
						remove_megastructure = this
					}
				}
			}
		}
    }
}

country_event = {
    id = nicoll.80012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_ringworld_habitable
					}
					change_pc = pc_ringworld_habitable_damaged
				}
			}
		}
	}
}

country_event = {
    id = nicoll.80013
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			solar_system = {
					every_system_planet = {
					limit = {
						has_planet_flag = nicoll_beam_target
						is_planet_class = pc_habitat
					}
					remove_planet_flag = has_megastructure
					remove_planet = yes
				}
			}
		}
	}
}

country_event = {
    id = nicoll.8012
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
        every_planet = {
			limit = {
				has_planet_flag = nicoll_beam_target
			}
			remove_planet_flag = nicoll_beam_target
		}
		country_event = { id = nicoll.3004 days = 1080 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				every_system_planet = {
					limit = {
						is_star = yes
					}
					set_planet_flag = nicoll_cooldown
				}
				every_system_megastructure = {
					if = {
						limit = {
							exists = this
						}
						remove_megastructure = this
					}
				}
				spawn_megastructure = { 
					type = "nicoll_beam_4" 
					location = FROMFROM
					owner = space_owner
				}
				spawn_megastructure = { 
					type = "nicoll_beam_side_gate" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1001
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1002 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f2" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1002
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1003 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f3" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1003
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1004 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f4" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1004
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1005 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f5" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1005
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1006 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f6" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1006
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1007 days = 1 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f7" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1007
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.1008 days = 2 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_f8" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

country_event = {
    id = nicoll.1008
    hide_window = yes
    is_triggered_only = yes
	
    immediate = {
		country_event = { id = nicoll.3001 days = 15 }
        every_planet_within_border = {
			limit = {
				has_planet_flag = nicollfiring_soon
			}
			solar_system = {
				spawn_megastructure = { 
					type = "nicoll_beam_pew" 
					location = FROMFROM
					owner = space_owner
				}
			}
        }
    }
}

planet_event = {
    id = nicoll.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
		set_planet_flag = nicollfiring_soon
    }
}