building_temple = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @unity_resource_building_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		conditions_spiritualist_unity = yes
		NAND = {
			owner = { has_technology = "tech_holographic_rituals" }
			requires_capital_1 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	prerequisites = { "tech_cultural_heritage" }
	upgrades = { building_holotemple }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 3 }
	produced_resource_trigger = {
		modifier = {
			has_tradition = "tr_ascension_path_unity"
			resources = {
				unity = 1
			}
		}			
	}		
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_holotemple_direct_build = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	base_buildtime = 382
	cost = { minerals = 300 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		conditions_spiritualist_unity = yes
		NOT = { has_building = building_holotemple }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_consecration_fields" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_holographic_rituals" }
	upgrades = { building_sacred_nexus }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 6 }
	produced_resource_trigger = {
		modifier = {
			has_tradition = "tr_ascension_path_unity"
			resources = {
				unity = 2
			}
		}			
	}		
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_holotemple
}
building_holotemple = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 270
	cost = { minerals = @unity_resource_building_cost_tier_2 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_unity = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_holographic_rituals" }
	upgrades = { building_sacred_nexus }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 6 }
	produced_resource_trigger = {
		modifier = {
			has_tradition = "tr_ascension_path_unity"
			resources = {
				unity = 2
			}
		}			
	}			
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 }
	ai_weight = { weight = 50 }
}
building_sacred_nexus_direct_build = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	base_buildtime = 652
	cost = { minerals = 650 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		conditions_spiritualist_unity = yes
		NOT = { has_building = building_sacred_nexus }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_transcendent_faith" }
			conditions_spiritualist_capital_unity = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_consecration_fields" }
	upgrades = { building_citadel_of_faith }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 9 }
	produced_resource_trigger = {
		modifier = {
			has_tradition = "tr_ascension_path_unity"
			resources = {
				unity = 3
			}
		}			
	}		
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 tile_resource_unity_mult = 0.10 }
	ai_weight = { weight = 50 }
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_sacred_nexus
}
building_sacred_nexus = {
	 #building defines
	tags = { unity_resource_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @unity_resource_building_cost_tier_3 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { is_spiritualist = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_spiritualist_unity = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_consecration_fields" }
	upgrades = { building_citadel_of_faith }
	destroy_if = { owner_is_spiritualist = no }
	 #resource output and modifiers
	produced_resources = { unity = 9 }
	produced_resource_trigger = {
		modifier = {
			has_tradition = "tr_ascension_path_unity"
			resources = {
				unity = 3
			}
		}			
	}			
	planet_modifier = { pop_ethic_spiritualist_attraction_mult = 0.3 tile_resource_unity_mult = 0.10 }
	ai_weight = { weight = 50 }
}
building_slave_processing = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_3 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes conditions_slave_processing = yes }
	allow = { requirement_slave_facility = yes requires_capital_1 = yes }
	prerequisites = { "tech_neural_implants" }
	show_tech_unlock_if = { tech_unlock_conditions_slave_processing = no }
	destroy_if = { destroy_if_conditions_slave_processing = yes }
	 #resource output and modifiers
	produced_resources = { minerals = 2 food = 2 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_slaver_guilds
			resources = {
				unity = 1
			}
		}
	}		
	planet_modifier = {
		slave_mineral_output = 0.10
		slave_food_output = 0.10
		country_unrest_unhappy_slave_effect_mult = -0.25
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		slave_processing_ai_allow = yes
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 25
			from = {
				count_pops = {
					limit = { is_enslaved = yes }
					count > 2
				}
			}
		}
		modifier = {
			weight = 100
			from = {
				count_pops = {
					limit = { is_enslaved = yes }
					count > 5
				}
			}
		}
	}
}
building_clinic = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_1 }
	required_resources = { energy = 1 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		owner_is_machine_empire = no
		NAND = {
			owner = { has_technology = "tech_frontier_hospital" }
			requires_capital_2_or_hab = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	prerequisites = { "tech_frontier_health" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	upgrades = { building_hospital }
	 #resource output and modifiers
	produced_resources = { society_research = 2 unity = 1 }
	produced_resource_trigger = {
		modifier = {
			has_policy_flag = public_healthcare
			resources = {
				unity = 1
			}
		}
	}		
	triggered_planet_modifier = {
		key = building_clinic
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.1 }
	}
	triggered_planet_modifier = {
		key = building_clinic
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.15 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_and_unity_buildings_ai_allow_conditions = yes
		pop_growth_building_conditions = yes
	}
	ai_weight = { weight = 100 }
}
building_hospital_direct_build = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	base_buildtime = 630
	cost = { minerals = 350 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		owner_is_machine_empire = no
		NOT = { has_building = building_hospital }
		direct_build_enabled = yes
	}
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_frontier_hospital" }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { society_research = 4 unity = 2 }
	produced_resource_trigger = {
		modifier = {
			has_policy_flag = public_healthcare
			resources = {
				unity = 2
			}
		}
	}		
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.2 }
	}
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.3 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_and_unity_buildings_ai_allow_conditions = yes
		pop_growth_building_conditions = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_hospital
	upgrades = { building_clinic_hidden_tree_root }
}
building_hospital = {
	 #building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 360
	cost = { minerals = @planet_unique_cost_2 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_machine_empire = no }
	allow = { requires_capital_2_or_hab = yes }
	prerequisites = { "tech_frontier_hospital" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	produced_resources = { society_research = 4 unity = 2 }
	produced_resource_trigger = {
		modifier = {
			has_policy_flag = public_healthcare
			resources = {
				unity = 2
			}
		}
	}		
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = no }
		modifier = { pop_growth_speed = 0.2 }
	}
	triggered_planet_modifier = {
		key = building_hospital
		potential = { overhauled_building_stats_enabled = yes }
		modifier = { pop_growth_speed = 0.3 }
	}
	upgrades = { building_clinic_hidden_tree_root }
}
building_military_academy = {
	 #building defines
	tags = { military_building }
	planet_unique = yes
	is_listed = yes
	defense_armies = 2
	base_buildtime = 360
	cost = { minerals = 200 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		planet_is_habitat = no
		owner_is_machine_empire = no
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_centralized_command" }
	show_tech_unlock_if = { is_machine_empire = no }
	destroy_if = { owner_is_machine_empire = yes }
	 #resource output and modifiers
	army_modifier = { army_starting_experience_add = 100 }
	planet_modifier = { planet_army_build_speed_mult = 0.50 planet_unrest_add = -10 }
	produced_resources = { engineering_research = 2 society_research = 2 }
	produced_resource_trigger = {
		modifier = {		
		    has_valid_civic = civic_citizen_service
			resources = {
				unity = 2
			}
		}
	}		
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		military_academy_ai_allow_conditions = yes
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 50
			from = { has_planet_flag = build_military_academy }
		}
	}
}
building_paradise_dome = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 360
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_2 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_utopian_dream = yes }
	}
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = {
		exists = owner
		owner = { has_utopian_dream = no }
	}
	required_resources = { energy = 2 }
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { food = 4 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { food = 2 }
		}	
		modifier = {
		    has_valid_civic = civic_keepers_harmony
			resources = {
				unity = 1
			}
		}			
	}
	planet_modifier = { pop_citizen_happiness = 0.05 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_and_unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 50 }
}
building_visitor_center = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 270
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_1 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_diplomacy_alien_tourism = yes }
	}
	allow = { requires_capital_1_or_hab = yes }
	destroy_if = {
		exists = owner
		owner = { has_diplomacy_alien_tourism = no }
	}
	 #resource output and modifiers
	produced_resources = { unity = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { energy = 2 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = yes
			resources = { energy = 4 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			is_xenophobe = no
			resources = { energy = 2 }
		}
		modifier = {
			has_tradition = tr_unity_pan_galactic
			resources = {
				society_research = 3
			}
		}		
		modifier = {
			has_valid_civic = civic_free_haven
			resources = {
				unity = 2
			}
		}			
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = { overhauled_building_stats_enabled = no }
		modifier = { planet_migration_xeno_pull = 0.50 pop_environment_tolerance = 0.05 }
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = { overhauled_building_stats_enabled = yes is_xenophile = yes }
		modifier = { planet_migration_xeno_pull = 1 pop_environment_tolerance = 0.05 }
	}
	triggered_planet_modifier = {
		key = building_visitor_center
		potential = {
			overhauled_building_stats_enabled = yes
			is_xenophile = no
			is_xenophobe = no
		}
		modifier = { pop_consumer_goods_mult = -0.05 pop_environment_tolerance = 0.05 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_and_unity_buildings_ai_allow = yes
	}
	ai_weight = {
		weight = 25
		modifier = { factor = 2 overhauled_building_stats_enabled = yes }
	}
}
building_symbol_purity = {
	 #building defines
	tags = { planet_unique_building }
	base_buildtime = 240
	is_listed = yes
	planet_unique = yes
	cost = { minerals = @planet_unique_cost_1 }
	potential = {
		planet_is_not_virtual = yes
		owner = { has_swapped_tradition = tr_purity_keepers_tradition }
	}
	allow = {
		if = {
			limit = { overhauled_building_stats_enabled = yes }
			requires_capital_1_or_hab = yes
		}
	}
	destroy_if = {
		exists = owner
		owner = { has_purity_symbol_purity = no }
	}
	 #resource output and modifiers
	planet_modifier = { pop_government_ethic_attraction = 0.20 }
	produced_resources = { unity = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		unity_buildings_ai_allow = yes
	}
	ai_weight = { weight = 100 }
}