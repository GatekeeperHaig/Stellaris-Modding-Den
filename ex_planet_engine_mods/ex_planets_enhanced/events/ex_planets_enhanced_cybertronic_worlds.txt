namespace = ex_cybertronic_worlds

country_event = {
	id = ex_cybertronic_worlds.0		
	hide_window = yes
	fire_only_once = yes

	trigger = { 		
		is_multiplayer = yes
		is_ai = no		
	}	

	immediate = { set_country_flag = ex_game_host }
}

country_event = {
	id = ex_cybertronic_worlds.1	
	title = cybertronic_worlds_feature_title
	desc = cybertronic_worlds_feature_desc
	picture = GFX_evt_ai_planet	
	fire_only_once = yes
	
	trigger = { 		
		if = { 
			limit = { is_multiplayer = no }
			is_ai = no
			NOT = { 			
				any_country = { 
					is_country_type = default
					has_ascension_perk = ap_machine_worlds
				}
			}	
		}					
		if = { 
			limit = { is_multiplayer = yes }
			has_country_flag = ex_game_host
			NOT = { 			
				any_country = { 
					is_country_type = default
					has_ascension_perk = ap_machine_worlds
				}
			}	
		}			
	}
	
	option = {
		name = enable_cybertronic_worlds
		custom_tooltip = enable_cybertronic_worlds_tooltip
		hidden_effect = { set_global_flag = ex_cybertronic_worlds_active }
	}		
	option = { 
		name = disable_cybertronic_worlds
		custom_tooltip = disable_cybertronic_worlds_tooltip
		hidden_effect = { set_global_flag = ex_cybertronic_worlds_disabled }	
	}
}

planet_event = {
	id = ex_cybertronic_worlds.2
	hide_window = yes
	
	trigger = {
		has_global_flag = ex_cybertronic_worlds_active
		is_planet_class = pc_machine
	}

	immediate = {
		change_pc = pc_cybertronic
		switch = {
			trigger = planet_size			
			10 = { change_planet_size = 15 }
			11 = { change_planet_size = 14 }
			12 = { change_planet_size = 13 }
			13 = { change_planet_size = 12 }
			14 = { change_planet_size = 11 }
			15 = { change_planet_size = 10 }
			16 = { change_planet_size = 9 }
			17 = { change_planet_size = 8 }
			18 = { change_planet_size = 7 }
			19 = { change_planet_size = 6 }
			20 = { change_planet_size = 5 }
			21 = { change_planet_size = 4 }
			22 = { change_planet_size = 3 }
			23 = { change_planet_size = 2 }
			24 = { change_planet_size = 1 }
			25 = { break = yes }
		}
	}	
}	