 # This file was created by script!
 # Instead of editing it, you should change the python script.
 # Changes to the file will be overwritten the next time the script is run.
 #this = tile
 #prev = planet
add_energy_adjacency_building_eutab = {
	add_building_construction = building_eutab_hab_stellar_tubes
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_minerals_adjacency_building_eutab = {
	add_building_construction = building_eutab_hab_comet_tether
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_society_research_adjacency_building_eutab = {
	add_building_construction = building_eutab_medigel_cultivator
	add_building_construction = building_eutab_hab_nullg_sci
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_physics_research_adjacency_building_eutab = {
	add_building_construction = building_eutab_hab_nullg_sci
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_engineering_research_adjacency_building_eutab = {
	add_building_construction = building_eutab_hab_nullg_sci
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
cgm_add_special_building_eutab = {
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -2111778.139 }
			}
		}
		add_building_construction = building_eutab_control_center
	}
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -2078223.707 }
			}
		}
		add_building_construction = building_eutab_frontier_adaptation_ipp
	}
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -2044669.275 }
			}
		}
		add_building_construction = building_eutab_frontier_adaptation
	}
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -2011114.843 }
			}
		}
		add_building_construction = building_eutab_ports_authority
	}
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -1977560.411 }
			}
		}
		add_building_construction = building_eutab_home_territories
	}
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -1944005.979 }
			}
		}
		add_building_construction = building_eutab_dev_district
	}
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = planet
 #prev = OWNER
cgm_search_for_special_building_eutab = {
	if = {
		limit = {
			owner = { has_technology = "tech_eutab_m_control_center" }
			owner = { has_authority = auth_machine_intelligence }
			NOR = { has_building = building_eutab_control_center has_building = building_eutab_cultural_command_2 }
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -2111778.139 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
	if = {
		limit = {
			owner = { has_technology = "tech_eutab_frontier_adaptation_ipp" }
			owner = {
				OR = { has_valid_civic = civic_fanatic_purifiers has_valid_civic = civic_inwards_perfection }
			}
			owner = {
				OR = { has_ethic = ethic_xenophobe has_ethic = ethic_fanatic_xenophobe }
			}
			NOR = {
				is_planet_class = pc_gaia
				is_planet_class = pc_habitat
				is_planet_class = pc_ringworld_habitable
			}
			custom_tooltip = {
				text = "requirement_not_homeworld"
				NOT = { has_modifier = "capital" }
			}
			NOR = {
				has_building = building_eutab_frontier_adaptation_ipp
				has_building = building_eutab_xeno_adaptation
				has_building = building_eutab_purity_centre
			}
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -2078223.707 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
	if = {
		limit = {
			owner = { has_tradition = tr_diplomacy_alien_tourism }
			owner = {
				OR = { has_ethic = ethic_xenophobe has_ethic = ethic_fanatic_xenophobe }
			}
			NOR = {
				is_planet_class = pc_gaia
				is_planet_class = pc_habitat
				is_planet_class = pc_ringworld_habitable
			}
			custom_tooltip = {
				text = "requirement_not_homeworld"
				NOT = { has_modifier = "capital" }
			}
			NOR = {
				has_building = building_eutab_frontier_adaptation
				has_building = building_eutab_xeno_adaptation
				has_building = building_eutab_purity_centre
			}
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -2044669.275 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
	if = {
		limit = {
			owner = { has_technology = "tech_eutab_ports_authority" }
			NOT = { is_planet_class = pc_habitat }
			custom_tooltip = {
				text = "requires_building_capital_2"
				OR = {
					has_building = "building_capital_2"
					has_building = "building_capital_3"
					has_building = "building_machine_capital_3"
				}
			}
			NOT = {
				owner = {
					any_owned_planet = { OR = { has_building = building_eutab_ports_authority } }
				}
			}
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -2011114.843 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
	if = {
		limit = {
			owner = { has_technology = "tech_eutab_home_territories" }
			NOT = { is_planet_class = pc_habitat }
			custom_tooltip = {
				text = "requires_building_capital_2"
				OR = {
					has_building = "building_capital_2"
					has_building = "building_capital_3"
					has_building = "building_machine_capital_3"
				}
			}
			NOT = {
				owner = {
					any_owned_planet = { OR = { has_building = building_eutab_home_territories } }
				}
			}
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -1977560.411 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
	if = {
		limit = {
			owner = { has_technology = "tech_eutab_dev_district" }
			NOR = {
				has_building = building_eutab_dev_district
				has_building = building_eutab_governors_district
				has_building = building_eutab_planetary_parliament
				has_building = building_eutab_wargame
				has_building = building_eutab_eco_preserve
				has_building = building_eutab_arcology
				has_building = building_eutab_monument_unity
				has_building = building_eutab_hive_grand_hatchery
				has_building = building_eutab_masters_hall
				has_building = building_eutab_warlink_colosseum
				has_building = building_eutab_genetic_data_vault
				has_building = building_eutab_afterlife_vault
				has_building = building_eutab_comp_arcology
			}
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -1944005.979 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
}
 #this = tile
 #prev = planet
add_engineering_research_building_eutab = {
	add_building_construction = building_eutab_grand_academy
	add_building_construction = building_eutab_ins_exo_design
	add_building_construction = building_eutab_off_naval_intel
	add_building_construction = building_eutab_ports_authority
	add_building_construction = building_eutab_foundation_institute
	add_building_construction = building_eutab_support_nexus
	add_building_construction = building_eutab_support_lab
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_society_research_building_eutab = {
	add_building_construction = building_eutab_grand_academy
	add_building_construction = building_eutab_disease_control
	add_building_construction = building_eutab_medigel_cultivator
	add_building_construction = building_eutab_xeno_sub_ins
	add_building_construction = building_eutab_frontier_adaptation_ipp
	add_building_construction = building_eutab_frontier_adaptation
	add_building_construction = building_eutab_adaptation_lab
	add_building_construction = building_eutab_moral_codes
	add_building_construction = building_eutab_home_territories
	add_building_construction = building_eutab_foundation_institute
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_physics_research_building_eutab = {
	add_building_construction = building_eutab_grand_academy
	add_building_construction = building_eutab_planet_sci
	add_building_construction = building_eutab_off_naval_intel
	add_building_construction = building_eutab_foundation_institute
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_energy_building_eutab = {
	add_building_construction = building_eutab_control_center
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
