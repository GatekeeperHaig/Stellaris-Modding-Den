planet_edict = {
	name = "economic_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_timed_planet_flag = { flag = edict_economic_spaceport_in_effect days = 3600 }
				#add_economic_spaceport_modifier = yes				
				#planet_event = { id = edict.events.10 days = 1 }				
			}
		}
		custom_tooltip = edict_economic_spaceport_specialization_tool_tip
	}	
	
	allow = {
		custom_tooltip = {
			fail_text = "requires_no_spaceport_specialization_in_effect"
			planet = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_defensive_spaceport_in_effect
					has_planet_flag = edict_stardock_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}		
			}
		}
		custom_tooltip = {
			fail_text = "requires_spaceport_or_spaceport_construction_on_planet"
			planet = {
				OR = {
					has_spaceport = yes
					has_spaceport_construction = yes					
				}		
			}
		}		
		custom_tooltip = {
			fail_text = "requires_spaceport_2_technology"
			owner = { has_technology = "tech_spaceport_2" } 
		}
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 0.25
			is_capital = yes
		}			
		modifier = {
			factor = 10 
			is_slave_robot_or_prole_planet = yes			
		}		
	}	
}	

planet_edict = {
	name = "stardock_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_timed_planet_flag = { flag = edict_stardock_spaceport_in_effect days = 3600 }
				#add_stardock_spaceport_modifier = yes				
				#planet_event = { id = edict.events.10 days = 1 }				
			}
		}
		custom_tooltip = edict_stardock_spaceport_specialization_tool_tip
	}
	
	
	
	allow = {
		custom_tooltip = {
			fail_text = "requires_no_spaceport_specialization_in_effect"
			planet = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_defensive_spaceport_in_effect
					has_planet_flag = edict_stardock_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}		
			}
		}
		custom_tooltip = {
			fail_text = "requires_spaceport_or_spaceport_construction_on_planet"
			planet = {
				OR = {
					has_spaceport = yes
					has_spaceport_construction = yes					
				}		
			}
		}		
		custom_tooltip = {
			fail_text = "requires_spaceport_2_technology"
			owner = { has_technology = "tech_spaceport_2" } 
		}
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 10
			AND = {
				years_passed < 50
				from = { is_capital = yes }
			}				
		}			
		modifier = {
			factor = 2
			AND = {
				years_passed > 50
				from = { is_captial = no }
			}	
		}				
	}	
}	

planet_edict = {
	name = "defensive_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_timed_planet_flag = { flag = edict_defensive_spaceport_in_effect days = 3600 }
				#add_defensive_spaceport_modifier = yes				
				#planet_event = { id = edict.events.10 days = 1 }				
			}
		}
		custom_tooltip = edict_defensive_spaceport_specialization_tool_tip
	}
	
	allow = {
		custom_tooltip = {
			fail_text = "requires_no_spaceport_specialization_in_effect"
			planet = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_defensive_spaceport_in_effect
					has_planet_flag = edict_stardock_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}		
			}
		}
		custom_tooltip = {
			fail_text = "requires_spaceport_or_spaceport_construction_on_planet"
			planet = {
				OR = {
					has_spaceport = yes
					has_spaceport_construction = yes					
				}		
			}
		}		
		custom_tooltip = {
			fail_text = "requires_spaceport_2_technology"
			owner = { has_technology = "tech_spaceport_2" } 
		}
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 10
			AND = {			
				is_capital = yes
				years_passed > 50
			}	
		}			
		modifier = {
			factor = 4
			AND = {
				years_passed > 50
				count_pops = { 
					limit = { has_citizenship_type = { type = citizenship_full } } 
					count > 16
				} 
			}	
		}			
		modifier = {
			factor = 0.5
			from = { is_slave_robot_or_prole_planet = yes }
		}
	}	
}	

planet_edict = {
	name = "mixed_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_timed_planet_flag = { flag = edict_mixed_spaceport_in_effect days = 3600 }
				#add_mixed_spaceport_modifier = yes				
				#planet_event = { id = edict.events.10 days = 1 }				
			}
		}
		custom_tooltip = edict_defensive_spaceport_specialization_tool_tip
	}
	
	allow = {
		custom_tooltip = {
			fail_text = "requires_no_spaceport_specialization_in_effect"
			planet = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_defensive_spaceport_in_effect
					has_planet_flag = edict_stardock_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}		
			}
		}
		custom_tooltip = {
			fail_text = "requires_spaceport_or_spaceport_construction_on_planet"
			planet = {
				OR = {
					has_spaceport = yes
					has_spaceport_construction = yes					
				}		
			}
		}		
		custom_tooltip = {
			fail_text = "requires_spaceport_2_technology"
			owner = { has_technology = "tech_spaceport_2" } 
		}
	}
	
	ai_weight = { weight = 0 }	
}	