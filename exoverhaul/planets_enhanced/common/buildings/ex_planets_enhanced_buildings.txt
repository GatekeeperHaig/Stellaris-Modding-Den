@unique_special_resource_building_mineral_cost = 300
@unique_special_resource_building_energy_cost = 100
@unique_special_resource_building_influence_cost = 50
@unique_special_resource_building_build_time = 360
@unique_special_resource_building_upkeep = 4

@special_resource_building_mineral_cost = 150
@special_resource_building_energy_cost = 50

@planet_unique_build_time_1 = 100
@planet_unique_build_time_2 = 200
@planet_unique_build_time_3 = 300

@sr_ex_unique_output = 25
@sr_ex_unique_ersatz_output = 14

### Weights
@avoid = 0
@redundant = 0.5
@standard = 1
@good = 10
@important = 25
@strategic = 100
@crucial_1 = 1000
@crucial_2 = 10000
@reduce_interest_1 = 0.5
@reduce_interest_2 = 0.25
@reduce_interest_3 = 0.1
@increase_interest_1 = 1.25
@increase_interest_2 = 2.5
@increase_interest_3 = 5
@always_build_and_never_remove = 9001

###

building_sr_ex_planetary_1 = {
	base_buildtime = @planet_unique_build_time_1	
	ai_replace = no
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {}
	
	produced_resources = { minerals = 6 }
	
	adjacency_bonus = { tile_building_resource_minerals_add = 2 }	
	
	prerequisites = { "tech_sr_ex_planetary_1" }

	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_1"
					tile = {
						has_resource = {
							type = sr_ex_planetary_1
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_1"
					tile = {
						has_resource = {
							type = sr_ex_planetary_1
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_2 = {
	base_buildtime = @planet_unique_build_time_1	
	ai_replace = no
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {}
	
	produced_resources = { energy = 6 }
	
	planet_modifier = {	planet_building_upkeep_mult = -0.25 }		
	
	prerequisites = { "tech_sr_ex_planetary_2" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_2"
					tile = {
						has_resource = {
							type = sr_ex_planetary_2
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_2"
					tile = {
						has_resource = {
							type = sr_ex_planetary_2
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_3 = {
	base_buildtime = @planet_unique_build_time_1	
	ai_replace = no
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {}
	
	produced_resources = { 
		physics_research = 5
		energy = 3
	}
	
	planet_modifier = {	planet_border_mult = 0.25 }	
	
	prerequisites = { "tech_sr_ex_planetary_3" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_3"
					tile = {
						has_resource = {
							type = sr_ex_planetary_3
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_3"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_3"
					tile = {
						has_resource = {
							type = sr_ex_planetary_3
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_4 = {
	base_buildtime = @planet_unique_build_time_1	
	ai_replace = no
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {}
	
	required_resources = { energy = 2 }	
	
	produced_resources = { 
		engineering_research = 5
		minerals = 3
	}
	
	planet_modifier = {	
		spaceport_ship_build_cost_mult = -0.15
		spaceport_ship_build_time_mult = -0.15		
	}	
	
	prerequisites = { "tech_sr_ex_planetary_4" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_4"
					tile = {
						has_resource = {
							type = sr_ex_planetary_4
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_4"
					tile = {
						has_resource = {
							type = sr_ex_planetary_4
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_5_1 = {
	base_buildtime = @planet_unique_build_time_1
	icon = "building_sr_ex_planetary_5"
	ai_replace = no
	
	show_tech_unlock_if = { 
		NOT = { has_authority = auth_machine_intelligence }
		has_policy_flag = slavery_allowed		
	}	
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { 
			NOT = { has_authority = auth_machine_intelligence }
			has_policy_flag = slavery_allowed
		}	
	}

	destroy_if = {
		exists = owner
		owner = { NOT = { has_policy_flag = slavery_allowed } }			
	}
	
	produced_resources = { 
		food = 4
		minerals = 4
	}
	
	planet_modifier = {	
		slave_mineral_output = 0.15
		slave_food_output = 0.15
	}	
	
	prerequisites = { "tech_sr_ex_planetary_5" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_5_2 = {
	base_buildtime = @planet_unique_build_time_1
	icon = "building_sr_ex_planetary_5"
	ai_replace = no
	
	show_tech_unlock_if = { 
		NOT = { 
			has_authority = auth_machine_intelligence
			has_policy_flag = slavery_allowed
		}		
	}	
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { 
			NOR = { 
				has_authority = auth_machine_intelligence
				has_policy_flag = slavery_allowed
			}	
		}	
	}

	destroy_if = {
		exists = owner
		owner = { 
			OR = {
				has_authority = auth_machine_intelligence
				has_policy_flag = slavery_allowed
			}	
		}	
	}
	
	produced_resources = { 
		food = 6
		minerals = 6
	}	
	
	prerequisites = { "tech_sr_ex_planetary_5" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_planetary_5_3 = {
	base_buildtime = @planet_unique_build_time_1
	icon = "building_sr_ex_planetary_5"
	ai_replace = no
	
	show_tech_unlock_if = { has_authority = auth_machine_intelligence }	
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { has_authority = auth_machine_intelligence	}	
	}

	destroy_if = {
		exists = owner
		owner = { NOT = { has_authority = auth_machine_intelligence } }	
	}
	
	produced_resources = { 
		energy = 4
		minerals = 6
	}
	
	planet_modifier = {	pop_energy_mult = 0.2 }
	
	prerequisites = { "tech_sr_ex_planetary_5" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_planetary_5"
					tile = {
						has_resource = {
							type = sr_ex_planetary_5
							amount > 0
						}
					}
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

###### Vanilla Resources

building_sr_pitharan_1 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_pitharan"
	ai_replace = no
	
	show_tech_unlock_if = { 
		OR = {
			NOT = { has_authority = auth_machine_intelligence }
			has_government = gov_machine_servitor
		}
	}	
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { 
			OR = {
				NOT = { has_authority = auth_machine_intelligence }
				has_government = gov_machine_servitor
			}
		}	
	}

	destroy_if = {
		exists = owner
		owner = { 
			AND = {
				has_authority = auth_machine_intelligence
				NOT = { has_government = gov_machine_servitor }
			}
		}	
	}
	
	produced_resources = { food = 10 }
	
	planet_modifier = { tile_resource_food_mult = 0.2 }
	
	prerequisites = { "tech_pitharan_dust" }
	
	allow = {
		custom_tooltip = {
			fail_text = "requires_sr_pitharan"
			tile = {
				has_resource = {
					type = sr_ex_pitharan
					amount > 0					
				}
			}
		}
	}
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_pitharan_2 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_pitharan"
	ai_replace = no
	
	show_tech_unlock_if = {
		has_authority = auth_machine_intelligence
		NOT = { has_government = gov_machine_servitor }
	}
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { 
			has_authority = auth_machine_intelligence
			NOT = { has_government = gov_machine_servitor }	
		}
	}

	destroy_if = {
		exists = owner
		owner = { 
			OR = {
				NOT = { has_authority = auth_machine_intelligence }
				has_government = gov_machine_servitor
			}
		}		
	}
	
	produced_resources = { energy = 8 }
	
	planet_modifier = { pop_robot_build_speed_mult = 0.15 }
	
	prerequisites = { "tech_pitharan_dust" }

	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_pitharan"
					tile = {
						has_resource = {
							type = sr_ex_pitharan
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_pitharan"
					tile = {
						has_resource = {
							type = sr_ex_pitharan
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_engos_1 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_engos"
	ai_replace = no

	show_tech_unlock_if = { NOT = { has_authority = auth_machine_intelligence } }
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		NOT = { owner = { has_authority = auth_machine_intelligence } }
	}

	destroy_if = {
		exists = owner
		owner = { has_authority = auth_machine_intelligence }
	}
	
	produced_resources = { 
		minerals = 4
		energy = 4
	}
	
	planet_modifier = { pop_environment_tolerance = 0.1 }
	
	prerequisites = { "tech_engos_vapor" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_engos"
					tile = {
						has_resource = {
							type = sr_ex_engos
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_engos"
					tile = {
						has_resource = {
							type = sr_ex_engos
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_engos_2 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_engos"
	ai_replace = no

	show_tech_unlock_if = { has_authority = auth_machine_intelligence }
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { has_authority = auth_machine_intelligence }
	}

	destroy_if = {
		exists = owner
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	produced_resources = { 
		minerals = 4
		energy = 4
	}
	
	adjacency_bonus = {
		tile_building_resource_minerals_add = 1
		tile_building_resource_energy_add = 1		
	}
	
	prerequisites = { "tech_engos_vapor" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_engos"
					tile = {
						has_resource = {
							type = sr_ex_engos
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_engos"
					tile = {
						has_resource = {
							type = sr_ex_engos
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_satramene_1 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_satramene"
	ai_replace = no

	show_tech_unlock_if = { NOT = { has_ethic = ethic_gestalt_consciousness } }
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		NOT = { owner = { has_ethic = ethic_gestalt_consciousness } }	
	}

	destroy_if = {
		exists = owner
		owner = { has_ethic = ethic_gestalt_consciousness }
	}
	
	produced_resources = { 
		energy = 4
		unity = 4
	}

	planet_modifier = {	pop_government_ethic_attraction = 0.4 }
	
	prerequisites = { "tech_mine_satramene" }

	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_satramene"
					tile = {
						has_resource = {
							type = sr_ex_satramene
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_satramene"
					tile = {
						has_resource = {
							type = sr_ex_satramene
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_satramene_2 = {
	base_buildtime = @planet_unique_build_time_1	
	icon = "building_sr_satramene"
	ai_replace = no

	show_tech_unlock_if = { has_ethic = ethic_gestalt_consciousness }
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
		owner = { has_ethic = ethic_gestalt_consciousness }
	}

	destroy_if = {
		exists = owner
		owner = { NOT = { has_ethic = ethic_gestalt_consciousness } }
	}
	
	produced_resources = { 
		energy = 4
		unity = 4
	}

	planet_modifier = { tile_resource_unity_mult = 0.2 }
	
	prerequisites = { "tech_mine_satramene" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_satramene"
					tile = {
						has_resource = {
							type = sr_ex_satramene
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_satramene"
					tile = {
						has_resource = {
							type = sr_ex_satramene
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_acheological_compound = {
	base_buildtime = @planet_unique_build_time_1	
	ai_replace = no
	
	cost = {
		minerals = @special_resource_building_mineral_cost
		energy = @special_resource_building_energy_cost
	}
	
	potential = {
	}
	
	produced_resources = {
		energy = 3		
		society_research = 5
	}
	
	planet_modifier = {	tile_resource_society_research_mult = 0.15 }
	
	prerequisites = { "tech_xeno_archeology" }

	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_archeological_remains"
					tile = {
						has_resource = {
							type = sr_archeological_remains
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_archeological_remains"
					tile = {
						has_resource = {
							type = sr_archeological_remains
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }
}

##################################
### Empire Unique SR buildings ###
##################################

building_sr_ex_unique_1 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_1"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
	}

	produced_resources = { minerals = @sr_ex_unique_output }

	planet_modifier = { tile_resource_minerals_mult = 0.25 }
	
	country_modifier = { 
		ship_armor_mult = 0.1
		category_particles_research_speed_mult = 0.1
	} 
	
	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	prerequisites = { "tech_sr_ex_unique_1" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_1"
					tile = {
						has_resource = {
							type = sr_ex_unique_1
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_1"
					tile = {
						has_resource = {
							type = sr_ex_unique_1
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_2 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_2"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
	}

	produced_resources = { energy = @sr_ex_unique_output }

	planet_modifier = { tile_resource_energy_mult = 0.25 }
	
	country_modifier = { 
		ship_shield_hp_mult = 0.1
		category_industry_research_speed_mult = 0.1
	} 
		
	prerequisites = { "tech_sr_ex_unique_2" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_2"
					tile = {
						has_resource = {
							type = sr_ex_unique_2
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_2"
					tile = {
						has_resource = {
							type = sr_ex_unique_2
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_3_1 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_3"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	show_tech_unlock_if = { NOT = { has_authority = auth_machine_intelligence } } 
	
	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
		owner = { NOT = { has_authority = auth_machine_intelligence } } 
	}

	produced_resources = { food = @sr_ex_unique_output }

	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	planet_modifier = { tile_resource_food_mult = 0.25 }
	
	country_modifier = { 
		pop_growth_speed = 0.15 
		category_biology_research_speed_mult = 0.1
	} 

	destroy_if = { owner = { has_authority = auth_machine_intelligence } }
	
	prerequisites = { "tech_sr_ex_unique_3" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_3"
					tile = {
						has_resource = {
							type = sr_ex_unique_3
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_3"
					tile = {
						has_resource = {
							type = sr_ex_unique_3
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_3_2 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_3"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	show_tech_unlock_if = { has_authority = auth_machine_intelligence } 
	
	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
		owner = { has_authority = auth_machine_intelligence } 
	}

	produced_resources = { society_research = @sr_ex_unique_ersatz_output }

	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	planet_modifier = { tile_resource_society_research_mult = 0.25 }
	
	country_modifier = { 
		ship_auto_repair_add = 0.02
		category_biology_research_speed_mult = 0.1
	} 

	destroy_if = { owner = { has_authority = auth_machine_intelligence } }
	
	prerequisites = { "tech_sr_ex_unique_3" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_3"
					tile = {
						has_resource = {
							type = sr_ex_unique_3
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_3"
					tile = {
						has_resource = {
							type = sr_ex_unique_3
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_4 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_4"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
	}

	produced_resources = { 
		unity = @sr_ex_unique_output
		influence = 1
	}

	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	country_modifier = { category_statecraft_research_speed_mult = 0.1 } 
		
	prerequisites = { "tech_sr_ex_unique_4" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_4"
					tile = {
						has_resource = {
							type = sr_ex_unique_4
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_4"
					tile = {
						has_resource = {
							type = sr_ex_unique_4
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_5 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_5"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
	}

	produced_resources = { engineering_research = @sr_ex_unique_ersatz_output }
	
	adjacency_bonus = { tile_building_resource_engineering_research_add = 3 }

	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	country_modifier = { 
		ship_weapon_damage = 0.1
		weapon_type_strike_craft_weapon_damage_mult = 0.1
	} 
		
	prerequisites = { "tech_sr_ex_unique_5" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_5"
					tile = {
						has_resource = {
							type = sr_ex_unique_5
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_5"
					tile = {
						has_resource = {
							type = sr_ex_unique_5
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}

building_sr_ex_unique_6 = {
	base_buildtime = @unique_special_resource_building_build_time
	icon = "building_sr_ex_unique_6"
	empire_unique = yes
	ai_special_building = yes
	ai_replace = no

	cost = {
		minerals = @unique_special_resource_building_mineral_cost
		energy = @unique_special_resource_building_energy_cost
		influence = @unique_special_resource_building_influence_cost
	}
	
	potential = {
	}

	produced_resources = { physics_research = @sr_ex_unique_ersatz_output }	

	required_resources = { energy = @unique_special_resource_building_upkeep }
	
	country_modifier = { 
		ship_shield_regen_mult = 0.1
		category_materials_research_speed_mult = 0.1 		
	} 
	
	planet_modifier = {	tile_resource_physics_research_mult = 0.25 }	
		
	prerequisites = { "tech_sr_ex_unique_6" }
	
	allow = {
		if = {
			limit = {
				owner = {
					NOT = { has_authority = auth_machine_intelligence }
				}
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_capital_1"
							has_building = "building_capital_2"
							has_building = "building_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_6"
					tile = {
						has_resource = {
							type = sr_ex_unique_6
							amount > 0
						}
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_authority = auth_machine_intelligence }
			}
			AND = {
				custom_tooltip = {
					fail_text = "requires_building_capital_1"
					planet = {
						OR = {
							has_building = "building_machine_capital_1"
							has_building = "building_machine_capital_2"
							has_building = "building_machine_capital_3"
						}
					}
				}
				custom_tooltip = {
					fail_text = "requires_sr_ex_unique_6"
					tile = {
						has_resource = {
							type = sr_ex_unique_6
							amount > 0
						}
					}
				}
			}
		}
	}	
	
	ai_weight = { weight = @always_build_and_never_remove }	
}