### The variables in this file are all multipliers. 

calculate_pop_multipliers = { #this runs on pop scope, and it saves the variables into the pop scope	
	check_pop_traits = yes
	check_pop_species_rights = yes
}

check_pop_traits = {
	if = { 
		limit = { is_robot_pop = no }
		if = { 
		  limit = { has_trait = "trait_nerve_stapled" }
		  change_variable = { which = energy_mult value = -0.5 }
		  change_variable = { which = minerals_mult value = 0.1 }
		  change_variable = { which = food_mult value = 0.1 }
		  change_variable = { which = unity_mult value = -0.5 }
		  change_variable = { which = society_research_mult value = -0.75 }
		  change_variable = { which = physics_research_mult value = -0.75 }
		  change_variable = { which = engineering_research_mult value = -0.75 }
		}
		if = { 
		  limit = { has_trait = "trait_presapient_proles" }
		  change_variable = { which = energy_mult value = -0.5 }
		  change_variable = { which = minerals_mult value = 0.1 }
		  change_variable = { which = food_mult value = 0.1 }     
		  change_variable = { which = society_research_mult value = -0.25 }
		  change_variable = { which = physics_research_mult value = -0.25 }
		  change_variable = { which = engineering_research_mult value = -0.25 }
		}   
		if = { 
		  limit = { has_trait = "trait_syncretic_proles" }
		  change_variable = { which = minerals_mult value = 0.1 }
		  change_variable = { which = food_mult value = 0.1 }     
		  change_variable = { which = society_research_mult value = -0.15 }
		  change_variable = { which = physics_research_mult value = -0.15 }
		  change_variable = { which = engineering_research_mult value = -0.15 }
		}     
		if = { 
		  limit = { has_trait = "trait_agrarian" }
		  change_variable = { which = food_mult value = 0.15 }
		} 
		if = { 
		  limit = { has_trait = "trait_thrifty" }
		  change_variable = { which = energy_mult value = 0.15 }
		}       
		if = { 
		  limit = { has_trait = "trait_industrious" }
		  change_variable = { which = minerals_mult value = 0.15 }
		}     
		if = { 
		  limit = { has_trait = "trait_intelligent" }
		  change_variable = { which = society_research_mult value = 0.1 }
		  change_variable = { which = physics_research_mult value = 0.1 }
		  change_variable = { which = engineering_research_mult value = 0.1 }
		}     
		if = { 
		  limit = { has_trait = "trait_natural_engineers" }
		  change_variable = { which = engineering_research_mult value = 0.15 }
		}           
		if = { 
		  limit = { has_trait = "trait_natural_physicists" }
		  change_variable = { which = physics_research_mult value = 0.15 }
		}           
		if = { 
		  limit = { has_trait = "trait_natural_sociologists" }
		  change_variable = { which = society_research_mult value = 0.15 }
		}     
		if = { 
		  limit = { has_trait = "trait_very_strong" }
		  change_variable = { which = minerals_mult value = 0.1 }
		}           
		if = { 
		  limit = { has_trait = "trait_strong" }
		  change_variable = { which = minerals_mult value = 0.05 }
		}                 
		if = { 
		  limit = { has_trait = "trait_weak" }
		  change_variable = { which = minerals_mult value = -0.05 }
		} 
		if = { 
		  limit = { has_trait = "trait_erudite" }
		  change_variable = { which = society_research_mult value = 0.2 }
		  change_variable = { which = physics_research_mult value = 0.2 }
		  change_variable = { which = engineering_research_mult value = 0.2 }
		}
		if = {        
		  limit = { has_trait = "trait_presapient_earthbound" }     
		  change_variable = { which = energy_mult value = 0.1 }
		}
		if = {        
		  limit = { has_trait = "trait_presapient_natural_intellectuals" }      
		  change_variable = { which = society_research_mult value = 0.1 }
		  change_variable = { which = physics_research_mult value = 0.1 }
		  change_variable = { which = engineering_research_mult value = 0.1 }
		  change_variable = { which = minerals_mult value = 0.1 }
		} 
		if = {
		  limit = { 
			has_trait = "trait_cybernetic" 
			planet = { has_building = building_neuro_electric_amplifier } 
		  }
		  change_variable = { which = minerals_mult value = 0.15 }
		  change_variable = { which = energy_mult value = 0.15 }
		} 
		break = yes 
	  } 
	  if = { 
		limit = { is_robot_pop = yes }
		if = { 
		  limit = { has_trait = "trait_robotic_1" }
		  change_variable = { which = energy_mult value = -0.8 }
		  change_variable = { which = minerals_mult value = 0.1 }       
		  change_variable = { which = unity_mult value = -0.4 }
		  change_variable = { which = society_research_mult value = -0.8 }
		  change_variable = { which = physics_research_mult value = -0.8 }
		  change_variable = { which = engineering_research_mult value = -0.8 }
		}           
		if = { 
		  limit = { has_trait = "trait_robotic_2" }
		  change_variable = { which = energy_mult value = -0.2 }
		  change_variable = { which = minerals_mult value = 0.15 }       
		  change_variable = { which = unity_mult value = -0.2 }
		  change_variable = { which = society_research_mult value = -0.4 }
		  change_variable = { which = physics_research_mult value = -0.4 }
		  change_variable = { which = engineering_research_mult value = -0.4 }
		}
		if = { 
		  limit = { has_trait = "trait_robotic_3" }
		  change_variable = { which = energy_mult value = 0.2 }
		  change_variable = { which = minerals_mult value = 0.2 }       
		  change_variable = { which = unity_mult value = 0.2 }
		  change_variable = { which = society_research_mult value = 0.2 }
		  change_variable = { which = physics_research_mult value = 0.2 }
		  change_variable = { which = engineering_research_mult value = 0.2 }
		}     
		if = { 
		  limit = { has_trait = "trait_robot_power_drills" }
		  change_variable = { which = minerals_mult value = 0.1 }       
		}     
		if = { 
		  limit = { has_trait = "trait_robot_harvesters" }
		  change_variable = { which = food_mult value = 0.1 }       
		}     
		if = { 
		  limit = { has_trait = "trait_robot_logic_engines" }
		  change_variable = { which = society_research_mult value = 0.1 }
		  change_variable = { which = physics_research_mult value = 0.1 }
		  change_variable = { which = engineering_research_mult value = 0.1 }
		}
		if = { 
		  limit = { has_trait = "trait_robot_superconductive" }
		  change_variable = { which = energy_mult value = 0.1 }       
		}
		if = { 
		  limit = { has_trait = "trait_robot_propaganda_machines" }
		  change_variable = { which = unity_mult value = 0.1 }        
		}      
	}
}   

check_pop_species_rights = {
	if = {
		limit = { has_living_standard = { type = living_standard_chemical_bliss } }
		change_variable = { which = energy_mult value = -0.6 }
		change_variable = { which = minerals_mult value = -0.6 }       
		change_variable = { which = food_mult value = -0.6 }
		change_variable = { which = unity_mult value = -0.6 }
		change_variable = { which = society_research_mult value = -0.6 }
		change_variable = { which = physics_research_mult value = -0.6 }
		change_variable = { which = engineering_research_mult value = -0.6 }		
		break = yes
	}	
	if = {
		limit = { has_living_standard = { type = living_standard_academic_privilege } }
		change_variable = { which = society_research_mult value = 0.1 }
		change_variable = { which = physics_research_mult value = 0.1 }
		change_variable = { which = engineering_research_mult value = 0.1 }		
		break = yes
	}	
	if = {
		limit = {
			OR = {
				is_enslaved = yes
				is_being_purged = yes
			}
		}
		else = { break = yes }	
		if = {
			limit = { has_slavery_type = { type = slavery_normal } }
			change_variable = { which = energy_mult value = -0.33 }
			change_variable = { which = minerals_mult value = 0.1 }       
			change_variable = { which = food_mult value = 0.1 }
			change_variable = { which = unity_mult value = -0.75 }
			change_variable = { which = society_research_mult value = -0.75 }
			change_variable = { which = physics_research_mult value = -0.75 }
			change_variable = { which = engineering_research_mult value = -0.75 }		
			break = yes
		}			
		if = {
			limit = { has_slavery_type = { type = slavery_domestic } }
			change_variable = { which = energy_mult value = -0.33 }		
			change_variable = { which = unity_mult value = -0.33 }
			change_variable = { which = society_research_mult value = -0.75 }
			change_variable = { which = physics_research_mult value = -0.75 }
			change_variable = { which = engineering_research_mult value = -0.75 }		
			break = yes
		}				
		if = {
			limit = { has_slavery_type = { type = slavery_military } }
			change_variable = { which = energy_mult value = -0.15 }		
			change_variable = { which = unity_mult value = -0.5 }
			change_variable = { which = society_research_mult value = -0.5 }
			change_variable = { which = physics_research_mult value = -0.5 }
			change_variable = { which = engineering_research_mult value = -0.5 }		
			break = yes
		}
		if = {
			limit = {
				OR = { 
					has_purge_type = { type = purge_normal }
					has_purge_type = { type = purge_matrix }
					has_purge_type = { type = purge_processing }
					has_slavery_type = { type = slavery_livestock }
					has_slavery_type = { type = slavery_matrix }
				}
			}
			change_variable = { which = energy_mult value = -10 }		
			change_variable = { which = minerals_mult value = -10 }		
			change_variable = { which = food_mult value = -10 }		
			change_variable = { which = unity_mult value = -10 }
			change_variable = { which = society_research_mult value = -10 }
			change_variable = { which = physics_research_mult value = -10 }
			change_variable = { which = engineering_research_mult value = -10 }				
			break = yes
		}	
		if = {
			limit = { has_purge_type = { type = purge_labor_camps }	}
			change_variable = { which = energy_mult value = -10 }		
			change_variable = { which = unity_mult value = -10 }
			change_variable = { which = society_research_mult value = -10 }
			change_variable = { which = physics_research_mult value = -10 }
			change_variable = { which = engineering_research_mult value = -10 }				
			break = yes
		}		
	}	
}	
