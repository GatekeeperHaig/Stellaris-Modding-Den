
namespace = blocker

# ROOT = ship scope
# FROM = planet scope

# Add Precursor Shield blocker
ship_event = {
	id = blocker.78870
	hide_window = yes
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			log = "---- Fired Event blocker.78870 ----"
			log = "---- On Planet: [This.GetName] ----"
			log = "---- adding precursor shield blocker ----"
			has_modifier = "Precursor_Planetary_Shield"
			NOT = { has_planet_flag = Precursor_Planetary_Shield_flag } 
		}
	}

	immediate = {
		FROM = {
			set_planet_flag = Precursor_Planetary_Shield_flag
			c_spawn_special_blockers = yes
		}
	}
}

# Add Android Pleasure Palace blocker
ship_event = {
	id = blocker.78871
	hide_window = yes
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			log = "---- Fired Event blocker.78871 ----"
			log = "---- On Planet: [This.GetName] ----"
			log = "---- adding android pleasure palace blocker ----"
			has_modifier = "Android_Pleasure_Palace"
			NOT = { has_planet_flag = Android_Pleasure_Palace_flag }
		}
	}

	immediate = {
		FROM = {
			set_planet_flag = Android_Pleasure_Palace_flag
			c_spawn_special_blockers = yes
		}
	}
}

# Add Temple op the Ancient One blocker
ship_event = {
	id = blocker.78872
	hide_window = yes
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			log = "---- Fired Event blocker.78872 ----"
			log = "---- On Planet: [This.GetName] ----"
			log = "---- adding ancient one temple blocker ----"
			has_modifier = "Temple_of_the_Ancient_One"
			NOT = { has_planet_flag = Temple_of_the_Ancient_One_flag } 
		}
	}

	immediate = {
		FROM = {
			set_planet_flag = Temple_of_the_Ancient_One_flag
			c_spawn_special_blockers = yes
		}
	}
}