 # This file was created by script!
 # Instead of editing it, you should change the python script.
 # Changes to the file will be overwritten the next time the script is run.
 #this = tile
 #prev = planet
add_energy_building_esc = {
	add_building_construction = nhsc_building_stellar_energy_tower
	add_building_construction = nhsc_building_zeropointpowerplant_1
	add_building_construction = nhsc_building_frontier_settlement
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_minerals_building_esc = {
	add_building_construction = nhsc_building_magmaminer_1
	add_building_construction = nhsc_building_frontier_settlement
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_food_building_esc = {
	add_building_construction = nhsc_building_frontier_settlement
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_society_research_building_esc = {
	add_building_construction = nhsc_building_watcher
	add_building_construction = nhsc_building_quantum_node
	add_building_construction = nhsc_building_network_regulator
	add_building_construction = nhsc_building_cerebral_node
	add_building_construction = nhsc_building_culture_nexus
	add_building_construction = nhsc_building_centralresearchbureau
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_physics_research_building_esc = {
	add_building_construction = nhsc_building_watcher
	add_building_construction = nhsc_building_quantum_node
	add_building_construction = nhsc_building_stellar_energy_tower
	add_building_construction = nhsc_building_dark_matter_drawer
	add_building_construction = nhsc_building_technology_institute
	add_building_construction = nhsc_building_centralresearchbureau
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_engineering_research_building_esc = {
	add_building_construction = nhsc_building_watcher
	add_building_construction = nhsc_building_quantum_node
	add_building_construction = nhsc_building_neutronium_foundry
	add_building_construction = nhsc_building_materials_laboratory
	add_building_construction = nhsc_building_centralresearchbureau
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
cgm_add_special_building_esc = {
	if = {
		limit = {
			owner = {
				check_variable = { which = cgm_special_bestBuilding value = -2113925.531 }
			}
		}
		add_building_construction = nhsc_building_stellar_energy_tower
	}
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = planet
 #prev = OWNER
cgm_search_for_special_building_esc = {
	if = {
		limit = {
			owner = { has_technology = "nhsc_tech_stellar_energy_tower" }
			NOT = { has_global_flag = ESC_buildings_forbidden }
			NOT = { has_global_flag = ESC_leviathan_tech_forbidden }
			custom_tooltip = {
				text = "requires_building_capital_2"
				OR = {
					 ### vanilla capitals
					has_building = "building_capital_2"
					has_building = "building_capital_3"
					has_building = "building_machine_capital_2"
					has_building = "building_machine_capital_3"
				}
			}
			NOR = { has_building = nhsc_building_stellar_energy_tower }
			owner = {
				check_variable = { which = cgm_special_bestWeight value < 10 }
			}
		}
		prev = {
			set_variable = { which = cgm_special_bestWeight value = 10 }
			set_variable = { which = cgm_special_bestBuilding value = -2113925.531 }
		}
		save_event_target_as = cgm_best_planet_for_special
	}
}
 #this = tile
 #prev = planet
add_food_adjacency_building_esc = {
	add_building_construction = nhsc_building_stellar_energy_tower
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_physics_research_adjacency_building_esc = {
	add_building_construction = nhsc_building_watcher
	add_building_construction = nhsc_building_stellar_energy_tower
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_society_research_adjacency_building_esc = {
	add_building_construction = nhsc_building_watcher
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
 #this = tile
 #prev = planet
add_engineering_research_adjacency_building_esc = {
	add_building_construction = nhsc_building_watcher
	if = {
		limit = {
			OR = { has_building_construction = yes has_building = yes }
		}
		owner = { set_country_flag = cgm_auto_built }
	}
}
