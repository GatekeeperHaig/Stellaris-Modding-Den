namespace = pdengine

event = {
	id = pdengine.00
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = { set_global_flag = planetarydiversity }
}

country_event = {
	id = pdengine.01
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Continental
	immediate = {

		#Wet Planets
		every_galaxy_planet = {                 
            limit = { is_planet_class = pc_continental is_homeworld = no is_moon = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } } #TODO 80/20, no 0/100
            random_list = { 
                75 = { } 
                25 = { change_pc = pc_superhabitable reroll_planet = yes clear_planet_modifiers = yes }
        	}
        }
        every_galaxy_planet = {                 
            limit = { is_planet_class = pc_continental is_homeworld = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } }
            random_list = {
                20 = { }    
                20 = { change_pc = pc_retinal reroll_planet = yes }
                20 = { change_pc = pc_forest reroll_planet = yes }        
                20 = { change_pc = pc_lake reroll_planet = yes }    
                20 = { change_pc = pc_tepid reroll_planet = yes }    
                20 = { change_pc = pc_megaflora reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_megaflora_deposit add_modifier = {	modifier = pdmegaflora } }                        
            }
        }
		every_galaxy_planet = { 				
			limit = { 
				is_planet_class = pc_ocean is_homeworld = no  
				NOR = {
					has_planet_flag = prescripted_ideal
					has_planet_flag = pd_ignore 
				    has_planet_flag = living_planet
					has_planet_flag = polaris_patrol_3
					solar_system = { has_star_flag = empire_cluster }
				}
			}
			random_list = {
				20 = { }
				20 = { change_pc = pc_cascadian reroll_planet = yes }		
				20 = { change_pc = pc_subarctic reroll_planet = yes }	
				20 = { change_pc = pc_wetswamp reroll_planet = yes }
				20 = { change_pc = pc_fog reroll_planet = yes }
				20 = { change_pc = pc_karst reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_karst_cave add_modifier = { modifier = karst } }
				20 = { change_pc = pc_reef reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_great_reef add_modifier = { modifier = pdreef } }					
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_tropical is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { change_pc = pc_desertislands	reroll_planet = yes	}
				20 = { }		
				20 = { change_pc = pc_mangrove reroll_planet = yes }		
				20 = { change_pc = pc_hajungle reroll_planet = yes }	
				20 = { change_pc = pc_cenote reroll_planet = yes }	
				20 = { change_pc = pc_biolumen reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_biolumen_nature_preserve add_modifier = { modifier = biolumen } }
				20 = { change_pc = pc_geothermal reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_geothermal_slurry_site add_modifier = { modifier = geothermal } }					
			}
		}

		#Dry Planets
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_desert is_homeworld = no  nor = { has_planet_flag = prescripted_ideal  has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }	
				20 = { change_pc = pc_outback reroll_planet = yes }	
				20 = { change_pc = pc_coastal reroll_planet = yes }			
				20 = { change_pc = pc_salt reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_salt_caves add_modifier = { modifier = pdsalt } }
				20 = { change_pc = pc_aquifer reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_aquifer_cave add_modifier = { modifier = pdaquifer } }
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arid is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }	
				20 = { change_pc = pc_mesa reroll_planet = yes }
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }	
				20 = { change_pc = pc_med reroll_planet = yes }	
				20 = { change_pc = pc_coral reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_coral_fields add_modifier = { modifier = pdcoral } }	
				20 = { change_pc = pc_primal reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_lava_lakes add_modifier = { modifier = primal } }				
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_savannah is_homeworld = no is_moon = no solar_system = { any_system_planet = { is_planet_class = pc_m_star } } nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } } #TODO 80/20, no 0/100
			change_pc = pc_tidallylocked reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_nightside_mining_operations add_modifier = { modifier = tidal_locked2 }
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_savannah is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }		
				20 = { change_pc = pc_steppe reroll_planet = yes }
				20 = { change_pc = pc_prairie reroll_planet = yes }		
				20 = { change_pc = pc_veld reroll_planet = yes }	
				20 = { change_pc = pc_semiarid reroll_planet = yes }	
				20 = { change_pc = pc_supercon reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_supercon_site add_modifier = { modifier = supercon } }						
			}
		}

		#Cold Planets
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arctic is_homeworld = no is_moon = no solar_system = { any_system_planet = { is_planet_class = pc_m_star } } nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				75 = { change_pc = pc_eyeball reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_eyeball_site add_modifier = { modifier = pdeyeball } }
				25 = { }
			}	
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arctic is_homeworld = no nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }
				20 = { change_pc = pc_aeolian reroll_planet = yes }
				20 = { change_pc = pc_storm reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_storm_corridor add_modifier = { modifier = pdstorm } }	
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_alpine is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_boreal reroll_planet = yes }			
				20 = { change_pc = pc_snow reroll_planet = yes }	
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }		
				20 = { change_pc = pc_glacio reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_glacio_lake add_modifier = { modifier = pdglacio } }	
				20 = { change_pc = pc_lanthanide reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_lanthanide_deposit add_modifier = { modifier = pdlanthanide } }				
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_tundra is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_swamp reroll_planet = yes }
				20 = { change_pc = pc_mushroom reroll_planet = yes }					
				20 = { change_pc = pc_mud reroll_planet = yes }					
				20 = { change_pc = pc_basalt reroll_planet = yes }
				20 = { change_pc = pc_rogue reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_rogue_geo add_modifier = { modifier = pdrogue } }
				20 = { change_pc = pc_lichen reroll_planet = yes clear_planet_modifiers = yes add_deposit = d_lichen_forest add_modifier = { modifier = pdlichen } }			
			}
		}
	}
}

country_event = {
	id = pdengine.02
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Hothouse
	immediate = {
		every_galaxy_planet = { 
			limit = {  
				is_planet_class = pc_toxic
				solar_system = { not = { has_star_flag = sol_system } }
			}	
			random_list = {
				40 = { change_pc = pc_hothouse }
				60 = { }	
			}
		}
	}
}

#Player Start Homeworld Spawning
country_event = {
	id = pdengine.03
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {

		#Cascadian
		every_galaxy_planet = { limit = { is_planet_class = pc_cascadian is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Atoll
		every_galaxy_planet = { limit = { is_planet_class = pc_desertislands is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Crag
		every_galaxy_planet = { limit = { is_planet_class = pc_subarctic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mangrove
		every_galaxy_planet = { limit = { is_planet_class = pc_mangrove is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Wet Swamp
		every_galaxy_planet = { limit = { is_planet_class = pc_wetswamp is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Fog
		every_galaxy_planet = { limit = { is_planet_class = pc_fog is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tepui
		every_galaxy_planet = { limit = { is_planet_class = pc_hajungle is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Cenote
		every_galaxy_planet = { limit = { is_planet_class = pc_cenote is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Retinal
		every_galaxy_planet = { limit = { is_planet_class = pc_retinal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Steppe
		every_galaxy_planet = { limit = { is_planet_class = pc_steppe is_homeworld = yes }	generate_pd_start_deposits_and_blockers = yes }
		#Dune
		every_galaxy_planet = { limit = { is_planet_class = pc_sandsea is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Oasis
		every_galaxy_planet = { limit = { is_planet_class = pc_oasis is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mesa
		every_galaxy_planet = { limit = { is_planet_class = pc_mesa is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Badlands
		every_galaxy_planet = { limit = { is_planet_class = pc_badlands is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Outback
		every_galaxy_planet = { limit = { is_planet_class = pc_outback is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Coastal
		every_galaxy_planet = { limit = { is_planet_class = pc_coastal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Bog
		every_galaxy_planet = { limit = { is_planet_class = pc_swamp is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mud
		every_galaxy_planet = { limit = { is_planet_class = pc_mud is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Basalt
		every_galaxy_planet = { limit = { is_planet_class = pc_basalt is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Frigid
		every_galaxy_planet = { limit = { is_planet_class = pc_frozen_desert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Glacial
		every_galaxy_planet = { limit = { is_planet_class = pc_glacial is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Atacama
		every_galaxy_planet = { limit = { is_planet_class = pc_hadesert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Prairie
		every_galaxy_planet = { limit = { is_planet_class = pc_prairie is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Veld
		every_galaxy_planet = { limit = { is_planet_class = pc_veld is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Veld
		every_galaxy_planet = { limit = { is_planet_class = pc_semiarid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Med
		every_galaxy_planet = { limit = { is_planet_class = pc_med is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Boreal
		every_galaxy_planet = { limit = { is_planet_class = pc_boreal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mushroom
		every_galaxy_planet = { limit = { is_planet_class = pc_mushroom is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Antarctic
		every_galaxy_planet = { limit = { is_planet_class = pc_antarctic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aeolian
		every_galaxy_planet = { limit = { is_planet_class = pc_aeolian is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Snow 
		every_galaxy_planet = { limit = { is_planet_class = pc_snow is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Highland 
		every_galaxy_planet = { limit = { is_planet_class = pc_highland is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Dune Forest 
		every_galaxy_planet = { limit = { is_planet_class = pc_duneforest is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Methane
		every_galaxy_planet = { limit = { is_planet_class = pc_methane is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Ammonia
		every_galaxy_planet = { limit = { is_planet_class = pc_ammonia is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Sulfur
		every_galaxy_planet = { limit = { is_planet_class = pc_sulfur is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Acid
		every_galaxy_planet = { limit = { is_planet_class = pc_acid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Ash
		every_galaxy_planet = { limit = { is_planet_class = pc_ash is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Nuked
		every_galaxy_planet = { limit = { is_planet_class = pc_nuked is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Biolumen
		every_galaxy_planet = { limit = { is_planet_class = pc_biolumen is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Superhabitable
		every_galaxy_planet = { limit = { is_planet_class = pc_superhabitable is_homeworld = yes } change_planet_size = +9 generate_pd_start_deposits_and_blockers = yes }
		#Geothermal
		every_galaxy_planet = { limit = { is_planet_class = pc_geothermal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tidally Locked
		every_galaxy_planet = { limit = { is_planet_class = pc_tidallylocked is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Supercontinent
		every_galaxy_planet = { limit = { is_planet_class = pc_supercon is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Crystal
		every_galaxy_planet = { limit = { is_planet_class = pc_crystal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Floating
		every_galaxy_planet = { limit = { is_planet_class = pc_floating is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Graveyard
		every_galaxy_planet = { limit = { is_planet_class = pc_graveyard is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Techno-Organic
		every_galaxy_planet = { limit = { is_planet_class = pc_technoorganic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Irradiated
		every_galaxy_planet = { limit = { is_planet_class = pc_irradiated is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Karst
		every_galaxy_planet = { limit = { is_planet_class = pc_karst is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Reef
		every_galaxy_planet = { limit = { is_planet_class = pc_reef is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Archive
		every_galaxy_planet = { limit = { is_planet_class = pc_archive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Machine
		every_galaxy_planet = { limit = { is_planet_class = pc_machine is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Hive
		every_galaxy_planet = { limit = { is_planet_class = pc_hive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Forest
		every_galaxy_planet = { limit = { is_planet_class = pc_forest is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lake
		every_galaxy_planet = { limit = { is_planet_class = pc_lake is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tepid
		every_galaxy_planet = { limit = { is_planet_class = pc_tepid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Primal
		every_galaxy_planet = { limit = { is_planet_class = pc_primal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aquatic
		every_galaxy_planet = { limit = { is_planet_class = pc_aquatic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Salt
		every_galaxy_planet = { limit = { is_planet_class = pc_salt is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aquifer
		every_galaxy_planet = { limit = { is_planet_class = pc_aquifer is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Coral
		every_galaxy_planet = { limit = { is_planet_class = pc_coral is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Storm
		every_galaxy_planet = { limit = { is_planet_class = pc_storm is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Rogue
		every_galaxy_planet = { limit = { is_planet_class = pc_rogue is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lichen
		every_galaxy_planet = { limit = { is_planet_class = pc_lichen is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Eyeball
		every_galaxy_planet = { limit = { is_planet_class = pc_eyeball is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Glaciovolcanic
		every_galaxy_planet = { limit = { is_planet_class = pc_glacio is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lanthanide
		every_galaxy_planet = { limit = { is_planet_class = pc_lanthanide is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Megaflora
		every_galaxy_planet = { limit = { is_planet_class = pc_megaflora is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#MegafloraHive
		every_galaxy_planet = { limit = { is_planet_class = pc_megaflorahive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Gaia
		every_galaxy_planet = { limit = { is_planet_class = pc_gaia NOT = { has_deposit = d_pdgaia } } add_deposit = d_pdgaia }
		#Hot Gaia
		every_galaxy_planet = { limit = { is_planet_class = pc_hot_gaia NOT = { has_deposit = d_pdgaia } } add_deposit = d_pdgaia }
		#Cold Gaia
		every_galaxy_planet = { limit = { is_planet_class = pc_cold_gaia NOT = { has_deposit = d_pdgaia } } add_deposit = d_pdgaia }
	}
}


country_event = {
	id = pdengine.04
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Remove Vanilla Tidally Locked Modifier
	immediate = {
		every_galaxy_planet = { 
			limit = { is_moon = no }
			remove_modifier = tidal_locked
		}
		every_galaxy_planet = { 
			remove_modifier = chthonian_planet	
		}
		every_galaxy_planet = { 
			remove_modifier = carbon_world	
		}
	}
}


#PD Rare Classes Species Start Nearby Planets
country_event = {
	id = pdengine.05
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {

		#Tidally-Locked Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tidallylocked  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_savannah reroll_planet = yes }	
				20 = { change_pc = pc_veld reroll_planet = yes }		
				20 = { change_pc = pc_steppe reroll_planet = yes }		
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }
			}
		}
		#Supercon Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_supercon  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_savannah reroll_planet = yes }	
				20 = { change_pc = pc_veld reroll_planet = yes }		
				20 = { change_pc = pc_steppe reroll_planet = yes }		
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }
			}
		}
		#Biolumen Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_biolumen  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_mangrove reroll_planet = yes }
				20 = { change_pc = pc_desertislands reroll_planet = yes }
				20 = { change_pc = pc_tropical reroll_planet = yes }
				20 = { change_pc = pc_hajungle reroll_planet = yes }
				20 = { change_pc = pc_cenote reroll_planet = yes }
			}
		}
		#Superhabitable Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_superhabitable is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental	reroll_planet = yes	}		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }
			}
		}
		#Geothermal Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_geothermal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desertislands	reroll_planet = yes	}		
				20 = { change_pc = pc_tropical reroll_planet = yes }		
				20 = { change_pc = pc_mangrove reroll_planet = yes }		
				20 = { change_pc = pc_hajungle reroll_planet = yes }		
				20 = { change_pc = pc_cenote reroll_planet = yes }
			}
		}
		#Tomb World Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_nuked is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }		
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }	
				3 = { change_pc = pc_lake reroll_planet = yes }
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }		
				3 = { change_pc = pc_veld reroll_planet = yes }		
				3 = { change_pc = pc_semiarid reroll_planet = yes }			
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }		
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }				
				3 = { change_pc = pc_antarctic reroll_planet = yes }	
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }		
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }				
			}
		}
		#Floating
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_floating is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }		
				20 = { change_pc = pc_tepid reroll_planet = yes }	
			}
		}
		#Crystal
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_crystal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }		
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#Techno-Organic
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_technoorganic is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_alpine reroll_planet = yes }	
				20 = { change_pc = pc_boreal reroll_planet = yes }		
				20 = { change_pc = pc_snow reroll_planet = yes }		
				20 = { change_pc = pc_highland reroll_planet = yes }
				20 = { change_pc = pc_duneforest reroll_planet = yes }			
			}
		}
		#Graveyard
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_graveyard is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {		
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }		
			}
		}
		#Radiotrophic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_irradiated is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }			
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }	
				3 = { change_pc = pc_lake reroll_planet = yes }	
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }		
				3 = { change_pc = pc_veld reroll_planet = yes }	
				3 = { change_pc = pc_semiarid reroll_planet = yes }			
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }		
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }			
				3 = { change_pc = pc_antarctic reroll_planet = yes }	
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }		
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }				
			}
		}
		#Karst Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_karst is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_ocean }
				20 = { change_pc = pc_cascadian }
				20 = { change_pc = pc_wetswamp }
				20 = { change_pc = pc_fog }
				20 = { change_pc = pc_subarctic }		
			}
		}
		#Reef Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_reef is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_ocean }
				20 = { change_pc = pc_cascadian }
				20 = { change_pc = pc_wetswamp }
				20 = { change_pc = pc_fog }
				20 = { change_pc = pc_subarctic }		
			}
		}
		#Primal Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_primal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }					
			}
		}
		#Salt Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_salt is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desert reroll_planet = yes }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }
				20 = { change_pc = pc_outback reroll_planet = yes }		
				20 = { change_pc = pc_coastal reroll_planet = yes }
			}
		}
		#Aquifer Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_aquifer is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desert reroll_planet = yes }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }
				20 = { change_pc = pc_outback reroll_planet = yes }		
				20 = { change_pc = pc_coastal reroll_planet = yes }
			}
		}
		#Coral Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_coral is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }	
			}
		}
		#Storm Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_storm is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arctic reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }	
				20 = { change_pc = pc_glacial reroll_planet = yes }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				20 = { change_pc = pc_aeolian reroll_planet = yes }		
			}
		}
		#Rogue Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_rogue is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_tundra reroll_planet = yes }
				20 = { change_pc = pc_mud reroll_planet = yes }		
				20 = { change_pc = pc_basalt reroll_planet = yes }	
				20 = { change_pc = pc_mushroom reroll_planet = yes }
				20 = { change_pc = pc_swamp reroll_planet = yes }		
			}
		}
		#Lichen Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_lichen is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_tundra reroll_planet = yes }
				20 = { change_pc = pc_mud reroll_planet = yes }		
				20 = { change_pc = pc_basalt reroll_planet = yes }	
				20 = { change_pc = pc_mushroom reroll_planet = yes }
				20 = { change_pc = pc_swamp reroll_planet = yes }		
			}
		}
		#Eyeball Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_eyeball is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arctic reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }	
				20 = { change_pc = pc_glacial reroll_planet = yes }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				20 = { change_pc = pc_aeolian reroll_planet = yes }		
			}
		}
		#Glaciovolcanic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_glacio is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Lanthanide Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_lanthanide is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Megaflora Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_megaflora is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#MegafloraHive Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_megaflorahive is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#Aquatic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_aquatic is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				33.3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				33.3 = { change_pc = pc_ocean reroll_planet = yes }		
				33.3 = { change_pc = pc_subarctic reroll_planet = yes }	
			}
		}
		#Ammonia Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_ammonia is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = ammonia } } add_modifier = { modifier = ammonia days = -1 } }
			add_deposit = d_ammonia_sea				
		}
		#Sulfur Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_sulfur is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = pdsulfur } } add_modifier = { modifier = pdsulfur days = -1 } }
			add_deposit = d_sulfur_pool				
		}
		#Acid Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_acid is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = pdacid } } add_modifier = { modifier = pdacid days = -1 } }
			add_deposit = d_acid_lakes		
			add_deposit = d_pdacid_rain		
		}
		#Ash Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_ash is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = ash } } add_modifier = { modifier = ash days = -1 } }
			add_deposit = d_lava_lakes	
		}
		#Methane Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_methane is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = methane } } add_modifier = { modifier = methane days = -1 } }
			add_deposit = d_frozen_gas_mountain	
		}
		#Archive Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_archive is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }		
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }	
				3 = { change_pc = pc_lake reroll_planet = yes }
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }	
				3 = { change_pc = pc_veld reroll_planet = yes }	
				3 = { change_pc = pc_semiarid reroll_planet = yes }				
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }	
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }					
				3 = { change_pc = pc_antarctic reroll_planet = yes }			
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }	
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }			
			}
		}
		#Machine Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_machine is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }		
				3 = { change_pc = pc_hajungle reroll_planet = yes }	
				3 = { change_pc = pc_cenote reroll_planet = yes }		
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }		
				3 = { change_pc = pc_lake reroll_planet = yes }
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }		
				3 = { change_pc = pc_veld reroll_planet = yes }		
				3 = { change_pc = pc_semiarid reroll_planet = yes }		
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }
				3 = { change_pc = pc_mud reroll_planet = yes }	
				3 = { change_pc = pc_basalt reroll_planet = yes }							
				3 = { change_pc = pc_antarctic reroll_planet = yes }			
				3 = { change_pc = pc_aeolian reroll_planet = yes }			
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }	
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }		
			}
		}
		#Hive Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_hive is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }		
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }
				3 = { change_pc = pc_lake reroll_planet = yes }
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }	
				3 = { change_pc = pc_veld reroll_planet = yes }	
				3 = { change_pc = pc_semiarid reroll_planet = yes }				
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }						
				3 = { change_pc = pc_antarctic reroll_planet = yes }				
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }	
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }		
			}
		}
	}	
}


country_event = {
	id = pdengine.06
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { OR = { is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes is_moon = yes }
				ROOT = { set_country_flag = pdtidallylockedhomeworldmoon }
		}
	}
}

country_event = {
	id = pdengine.07
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		
	trigger	 = { 
		has_country_flag = pdtidallylockedhomeworldmoon 
		any_owned_planet = {
			is_planet_class = pc_tidallylocked
		}
	}

	immediate = {
		random_planet_within_border = {
			limit = { is_capital = no is_moon = no is_star = no is_asteroid = no NOT = { is_planet_class = pc_gas_giant } is_artificial = no }
			set_planet_size = 20
			change_pc = pc_tidallylocked
			generate_pd_start_deposits_and_blockers = yes
			#add_modifier = {
			#	modifier = "tidal_locked2"
			#	days = -1
			#}
			set_owner = ROOT
			set_planet_flag = tidallylockedhomeworld
			#All other pop types
			create_pop = { 
				species = owner_species
				ethos = random
			}	
			set_capital = yes
			generate_start_buildings_and_districts = yes
			generate_start_pops = yes
			IF = {
				limit = { owner = { has_origin = origin_tree_of_life } }
				add_deposit = d_tree_of_life_home
				remove_modifier = no_lifetree
			}
		}
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_tidallylocked
				base = none # makes this replace parent species
			}
		}			
		random_owned_planet = {
			limit = { is_capital = no }
			change_pc = pc_barren
			reset_planet = yes
		}
	}
} 

country_event = {
	id = pdengine.08
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { is_planet_class = pc_cascadian }
			set_planet_flag = pdcascadian
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_desertislands }
			set_planet_flag = pddesertislands
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_subarctic }
			set_planet_flag = pdsubarctic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mangrove }
			set_planet_flag = pdmangrove
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_wetswamp }
			set_planet_flag = pdwetswamp
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_fog }
			set_planet_flag = pdfog
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_hajungle }
			set_planet_flag = pdhajungle
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_cenote }
			set_planet_flag = pdcenote
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_biolumen }
			set_planet_flag = pdbiolumen
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_steppe }
			set_planet_flag = pdsteppe
		}
		every_galaxy_planet = {
				limit = { is_planet_class = pc_sandsea }
			set_planet_flag = pdsandsea
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_oasis }
			set_planet_flag = pdoasis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mesa }
			set_planet_flag = pdmesa
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_badlands }
			set_planet_flag = pdbadlands
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_outback }
			set_planet_flag = pdoutback
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_coastal }
			set_planet_flag = pdcoastal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_swamp }
			set_planet_flag = pdswamp
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mud }
			set_planet_flag = pdmud
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_basalt }
			set_planet_flag = pdbasalt
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_frozen_desert }
			set_planet_flag = pdfrozendesert
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_glacial }
			set_planet_flag = pdglacial
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_hadesert }
			set_planet_flag = pdhadesert
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_boreal }
			set_planet_flag = pdboreal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mushroom }
			set_planet_flag = pdmushroom
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tidallylocked }
			set_planet_flag = pdtidallylocked
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_supercon }
			set_planet_flag = pdsupercon
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_karst }
			set_planet_flag = pdkarst
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_reef }
			set_planet_flag = pdreef
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_superhabitable }
			set_planet_flag = pdsuperhabitable
		}
		every_galaxy_planet = {
				limit = { is_planet_class = pc_geothermal }
			set_planet_flag = pdgeothermal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_methane }
			set_planet_flag = pdmethane
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ammonia }
			set_planet_flag = pdammonia
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_sulfur }
			set_planet_flag = pdsulfur
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_acid }
			set_planet_flag = pdacid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ash }
			set_planet_flag = pdash
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_floating }
			set_planet_flag = pdfloating
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_crystal }
			set_planet_flag = pdcrystal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_graveyard }
				set_planet_flag = pdgraveyard
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_technoorganic }
			set_planet_flag = pdtechnoorganic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_archive }
			set_planet_flag = pdarchive
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_antarctic }
			set_planet_flag = pdantarctic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_aeolian }
			set_planet_flag = pdaeolian
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_snow }
			set_planet_flag = pdsnow
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_highland }
			set_planet_flag = pdhighland
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_duneforest }
			set_planet_flag = pc_duneforest
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_retinal }
			set_planet_flag = pdretinal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_prairie }
			set_planet_flag = pdprairie
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_veld }
			set_planet_flag = pdveld
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_semiarid }
			set_planet_flag = pdsemiarid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ecocity }
			set_planet_flag = pdecocity
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_corpoarc }
			set_planet_flag = pdcorpoarc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_palacearc }
			set_planet_flag = pdpalacearc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_capitalarc }
			set_planet_flag = pdcapitalearc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_necropolis }
			set_planet_flag = pdnecropolis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_machine_necropolis }
			set_planet_flag = pdmachine_necropolis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_necrohive }
			set_planet_flag = pdnecrohvie
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_forest }
			set_planet_flag = pdforest
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_lake }
			set_planet_flag = pdlake
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tepid }
			set_planet_flag = pdtepid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_med }
			set_planet_flag = pdmed
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant       
	            planet_size = 35     
					}
			set_planet_flag = pdjupiter
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_molten       
				planet_size = 6   
				is_moon = yes  
					}
			set_planet_flag = pdio
			change_pc = pc_volcanic
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 6   
				is_moon = yes 
					}
			set_planet_flag = pdeuropa
			change_pc = pc_subglacial
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 9   
				is_moon = yes 
					}
			set_planet_flag = pdganymede
			clear_deposits = yes
			add_modifier = { modifier = pdhabsubglacialocean days = -1	} 
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant       
	            planet_size = 30     
					}
			set_planet_flag = pdsaturn
			set_planet_entity = {
				entity = "gas_giant_saturn_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 8   
				is_moon = yes  
					}
			set_planet_flag = pdtitan
			change_pc = pc_hydrocarbon
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant   
				has_moon = yes       
				planet_size = 20  
					}
			set_planet_flag = pdneptune
			set_planet_entity = {
				entity = "gas_giant_neptune_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant     
				planet_size = 20 
				NOT = { has_moon = yes }
					}
			set_planet_flag = pduranus
			set_planet_entity = {
				entity = "gas_giant_uranus_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
				is_planet_class = pc_barren_cold
				is_moon = yes				       
	            planet_size = 5
					}
			set_planet_flag = pdluna
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
				is_planet_class = pc_barren		       
				OR = {
				planet_size = 13
				planet_size = 11
					}
				}
			set_planet_flag = pdmars
			set_planet_entity = {
				picture = pc_barren_mars
				entity = "barren_planet_mars_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
				is_planet_class = pc_molten		       
	            planet_size = 10
			}
			set_planet_flag = pdmercury
			change_pc = pc_iron
		}
	}
}

# Ecumenopolis complete
planet_event = {
	id = pdengine.09
	title = pdengine.09.name
	desc = pdengine.09.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_ecocity
	}

	option = {
		name = pdengine.09.a
	}
}

# Machine Factory complete
planet_event = {
	id = pdengine.10
	title = pdengine.10.name
	desc = pdengine.10.desc
	picture = GFX_evt_ai_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_machine_factory
	}

	option = {
		name = pdengine.10.a
	}
}

# Hive Specialization Complete
planet_event = {
	id = pdengine.11
	title = pdengine.11.name
	desc = pdengine.11.desc
	picture = GFX_evt_hive_mind
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_bioforge
			is_planet_class = pc_biofort
			is_planet_class = pc_biocapital
		}
	}

	option = {
		name = pdengine.11.a
	}
}

country_event = {
	id = pdengine.12
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Terraforming Candidate
	immediate = {
		every_galaxy_planet = { 
			limit = {  
				OR = {
				is_planet_class = pc_hothouse
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
				}
				not = { has_modifier = terraforming_candidate }	
				planet_size > 9
				planet_size < 26	
				solar_system = {
					NOR = {
						is_star_class = sc_black_hole
						is_star_class = sc_neutron_star
						is_star_class = sc_pulsar
					}
				}
			}	
			random_list = {
				1 = { add_modifier = {	modifier = terraforming_candidate days = -1	} }
				99 = { }	
			}
		}
	}
}

# Check Planet Class for Deposits + Modifiers
planet_event = {
	id = pdengine.13
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				OR = {
					is_planet_class = pc_machine
					is_planet_class = pc_gaia
					is_planet_class = pc_cold_gaia
					is_planet_class = pc_hot_gaia
					is_planet_class = pc_hive
					is_planet_class = pc_aquatic
				}
			}
		remove_modifier = engineered_environment
		remove_modifier = engineered_environment_gaia
		}
		
		#Remove
		if = { 
		limit = { 
			NOT = { is_planet_class = pc_geothermal } 
		}
		remove_deposit = d_geothermal_slurry_site
		remove_modifier = geothermal
			if = {
				limit = { is_colony = yes }
				remove_building = building_geothermal_slurry_site
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_superhabitable } }
		remove_deposit = d_ancient_motes
		remove_modifier = superhabitable
			if = {
				limit = { is_colony = yes }
				remove_building = building_volatiles_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_biolumen } }
		remove_deposit = d_biolumen_nature_preserve
		remove_modifier = biolumen
			if = {
				limit = { is_colony = yes }
				remove_building = building_nature_preserve
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_tidallylocked } }
		remove_deposit = d_nightside_mining_operations
		remove_modifier = tidal_locked2
			if = {
				limit = { is_colony = yes }
				remove_building = building_nightside_mining
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_supercon } }
		remove_deposit = d_supercon_site
		remove_modifier = supercon
			if = {
				limit = { is_colony = yes }
				remove_building = building_supercon_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_karst } }
		remove_deposit = d_karst_cave
		remove_modifier = karst
			if = {
				limit = { is_colony = yes }
				remove_building = building_karst_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_reef } }
		remove_deposit = d_great_reef
		remove_modifier = pdreef
			if = {
				limit = { is_colony = yes }
				remove_building = building_reef_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_salt } }
		remove_deposit = d_salt_caves
		remove_modifier = pdsalt
			if = {
				limit = { is_colony = yes }
				remove_building = building_salt_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_aquifer } }
		remove_deposit = d_aquifer_cave
		remove_modifier = pdaquifer
			if = {
				limit = { is_colony = yes }
				remove_building = building_aquifer_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_coral } }
		remove_deposit = d_coral_fields
		remove_modifier = pdcoral
			if = {
				limit = { is_colony = yes }
				remove_building = building_coral_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_storm } }
		remove_deposit = d_storm_corridor
		remove_modifier = pdstorm
			if = {
				limit = { is_colony = yes }
				remove_building = building_storm_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_rogue } }
		remove_deposit = d_rogue_geo
		remove_modifier = pdrogue
			if = {
				limit = { is_colony = yes }
				remove_building = building_rogue_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_lichen } }
		remove_deposit = d_lichen_forest
		remove_modifier = pdlichen
			if = {
				limit = { is_colony = yes }
				remove_building = building_lichen_farm
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_eyeball } }
		remove_deposit = d_eyeball_site
		remove_modifier = pdeyeball
			if = {
				limit = { is_colony = yes }
				remove_building = building_eyeball_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_glacio } }
		remove_deposit = d_glacio_lake
		remove_modifier = pdglacio
			if = {
				limit = { is_colony = yes }
				remove_building = building_glacio_forge
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_lanthanide } }
		remove_deposit = d_lanthanide_deposit
		remove_modifier = pdlanthanide
			if = {
				limit = { is_colony = yes }
				remove_building = building_lanthanide_mine
			}
		}
		if = { 
		limit = { NOT = { OR = { is_planet_class = pc_megaflora is_planet_class = pc_megaflorahive is_planet_class = pc_megafloratol } } }
		remove_deposit = d_megaflora_deposit
		remove_modifier = pdmegaflora
			if = {
				limit = { is_colony = yes }
				remove_building = building_megaflora_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_primal } }
		remove_modifier = primal
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_ash } }
		remove_modifier = ash
		}
		if = { 
		limit = { NOT = { OR = { is_planet_class = pc_ash is_planet_class = pc_primal } } }
		remove_deposit = d_lava_lakes
			if = {
				limit = { is_colony = yes }
				remove_building = building_lava_mine
			}
		}
		if = { 
		limit = { NOT = { OR = { is_planet_class = pc_aquatic is_planet_class = pc_tidallyaquatic } } }
		remove_deposit = d_aquatic_trench
		remove_modifier = aquatic
			if = {
				limit = { is_colony = yes }
				remove_building = building_undersea_gasmine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_ammonia } }
		remove_deposit = d_ammonia_sea
		remove_modifier = ammonia
			if = {
				limit = { is_colony = yes }
				remove_building = building_ammonia_electrodeposition
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_sulfur } }
		remove_deposit = d_sulfur_pool
		remove_modifier = pdsulfur
			if = {
				limit = { is_colony = yes }
				remove_building = building_sulfur_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_acid } }
		remove_deposit = d_acid_lakes
		remove_deposit = d_pdacid_rain
		remove_modifier = pdacid
			if = {
				limit = { is_colony = yes }
				remove_building = building_acid_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_methane } }
		remove_deposit = d_frozen_gas_mountain
		remove_modifier = methane
			if = {
				limit = { is_colony = yes }
				remove_building = building_frozen_gas_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_irradiated } }
		remove_deposit = d_rad_blooms_field
		remove_modifier = radiotrophic
			if = {
				limit = { is_colony = yes }
				remove_building = building_sugarbush
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_floating } }
		remove_deposit = d_eludium_islands
		remove_modifier = floating
			if = {
				limit = { is_colony = yes }
				remove_building = building_eludium_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_graveyard } }
		remove_deposit = d_graveyard_well
		remove_modifier = graveyard
			if = {
				limit = { is_colony = yes }
				remove_building = building_graveyard_well
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_crystal } }
		remove_deposit = d_crystal_guild
		remove_modifier = crystal
			if = {
				limit = { is_colony = yes }
				remove_building = building_crystal_carver
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_technoorganic } }
		remove_deposit = d_subsurface_assembly
		remove_modifier = technoorganic
			if = {
				limit = { is_colony = yes }
				remove_building = building_subsurface_assembly
			}
		}
		if = { 
		limit = { NOT = { OR = { is_planet_class = pc_gaia is_planet_class = pc_cold_gaia is_planet_class = pc_hot_gaia } } }
		remove_deposit = d_pdgaia
		}
		if = { 
		limit = { 
			NOT = {
				is_planet_class = pc_hive 
			} 
		}
		remove_deposit = d_pd_hive_world_boost
		}
		if = { 
		limit = { 
			NOT = {
				OR = {
				is_planet_class = pc_machine 
				is_planet_class = pc_machine_factory 
				}
			} 
		}
		remove_deposit = d_pd_machine_world_boost
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_hothouse 
						is_planet_class = pc_toxic 
						is_planet_class = pc_gas_giant 
						is_planet_class = pc_pd_hothouse_hab 
						is_planet_class = pc_pd_toxic_hab
						is_planet_class = pc_pd_gas_giant_hab 
					}
				} 
			}
		remove_modifier = pdhabcalmwinds
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_barren 
						is_planet_class = pc_barren_cold
						is_planet_class = pc_pd_barren_hab 
						is_planet_class = pc_pd_barren_cold_hab
					}
				} 
			}
		remove_modifier = pdhabcavesystem
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_frozen 
						is_planet_class = pc_pd_frozen_hab
					}
				} 
			}
		remove_modifier = pdhabsubglacialocean
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_molten 
						is_planet_class = pc_pd_molten_hab
					}
				} 
			}
		remove_modifier = pdhabvolcanicminerals
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_glacial } }
		remove_modifier = pdterra_storm
		}
		if = { 
		limit = { NOT= { is_planet_class = pc_tidallylocked_barren } }
		remove_modifier = pdterra_tidallocked
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_alpine } }
		remove_modifier = pdterra_glacio
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_barren_cold is_planet_class = pc_pd_barren_cold_hab } }
		remove_modifier = pdterra_lanthanide
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_barren_cold is_planet_class = pc_pd_barren_cold_hab } }
		remove_modifier = pdterra_karst
		}
		if = { 
		limit = { NOT= { is_planet_class = pc_rogue_barren } }
		remove_modifier = pdterra_rogue
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_tundra } }
		remove_modifier = pdterra_lichen
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_forest } }
		remove_modifier = pdterra_megaflora
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_tropical } }
		remove_modifier = pdterra_biolumen
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_tropical } }
		remove_modifier = pdterra_biolumen
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_frozen is_planet_class = pc_pd_frozen_hab } }
		remove_modifier = pdterra_geothermal
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_barren is_planet_class = pc_pd_barren_hab } }
		remove_modifier = pdterra_superhabitable
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_barren is_planet_class = pc_pd_barren_hab } }
		remove_modifier = pdterra_salt
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_sandsea } }
		remove_modifier = pdterra_aquifer
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_arid } }
		remove_modifier = pdterra_coral
		}
		if = { 
		limit = { NOR = { is_planet_class = pc_molten is_planet_class = pc_pd_molten_hab } }
		remove_modifier = pdterra_primal
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_savannah } }
		remove_modifier = pdterra_supercon
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_ocean } }
		remove_modifier = pdterra_reef
		}
		if = { 
		limit = { 
			NOT = { 
				is_planet_class = pc_pdshroud 
				is_planet_class = pc_city 
				is_planet_class = pc_ecocity 
				is_planet_class = pc_milarc 
				is_planet_class = pc_corpoarc 
			} 
		}
		remove_modifier = pdcomposer
		remove_deposit = d_pdshroud_composer
		remove_modifier = pdeater
		remove_deposit = d_pdshroud_eater
		remove_modifier = pddesire
		remove_deposit = d_pdshroud_desire
		remove_modifier = pdwhispers
		remove_deposit = d_pdshroud_whispers
		}
		if = { 
		limit = { 
			NOT = { 
				is_planet_class = pc_habitat 
				is_pd_habitat = yes
			} 
		}
		remove_modifier = hab_terraforming_candidate
		remove_modifier = flooded_habitat
		}
	}
}

# Rare Worlds get Deposits
planet_event = {
	id = pdengine.14
	hide_window = yes
	is_triggered_only = yes

	immediate = { 
		if = { 
		limit = { is_planet_class = pc_geothermal not = { has_deposit = d_geothermal_slurry_site }}
		add_deposit = d_geothermal_slurry_site
		add_modifier = { modifier = "geothermal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_superhabitable not = { has_deposit = d_ancient_motes }}
		add_deposit = d_ancient_motes
		add_modifier = { modifier = "superhabitable" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_biolumen not = { has_deposit = d_biolumen_nature_preserve }}
		add_deposit = d_biolumen_nature_preserve
		add_modifier = { modifier = "biolumen" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_tidallylocked not = { has_deposit = d_nightside_mining_operations }}
		add_deposit = d_nightside_mining_operations
		add_modifier = { modifier = "tidal_locked2" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_supercon not = { has_deposit = d_supercon_site }}
		add_deposit = d_supercon_site
		add_modifier = { modifier = "supercon" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_karst not = { has_deposit = d_karst_cave }}
		add_deposit = d_karst_cave
		add_modifier = { modifier = "karst" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_reef not = { has_deposit = d_great_reef }}
		add_deposit = d_great_reef
		add_modifier = { modifier = "pdreef" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_primal not = { has_deposit = d_lava_lakes }}
		add_deposit = d_lava_lakes
		add_modifier = { modifier = "primal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_salt not = { has_deposit = d_salt_caves }}
		add_deposit = d_salt_caves
		add_modifier = { modifier = "pdsalt" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_aquifer not = { has_deposit = d_aquifer_cave }}
		add_deposit = d_aquifer_cave
		add_modifier = { modifier = "pdaquifer" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_coral not = { has_deposit = d_coral_fields }}
		add_deposit = d_coral_fields
		add_modifier = { modifier = "pdcoral" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_storm not = { has_deposit = d_storm_corridor }}
		add_deposit = d_storm_corridor
		add_modifier = { modifier = "pdstorm" days = -1 }
		set_planet_flag =  pdnoseamonster
		}
		if = { 
		limit = { is_planet_class = pc_rogue not = { has_deposit = d_rogue_geo }}
		add_deposit = d_rogue_geo
		add_modifier = { modifier = "pdrogue" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_lichen not = { has_deposit = d_lichen_forest }}
		add_deposit = d_lichen_forest
		add_modifier = { modifier = "pdlichen" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_eyeball not = { has_deposit = d_eyeball_site }}
		add_deposit = d_eyeball_site
		add_modifier = { modifier = "pdeyeball" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_glacio not = { has_deposit = d_glacio_lake }}
		add_deposit = d_glacio_lake
		add_modifier = { modifier = "pdglacio" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_lanthanide not = { has_deposit = d_lanthanide_deposit }}
		add_deposit = d_lanthanide_deposit
		add_modifier = { modifier = pdlanthanide days = -1 }
		}
		if = { 
		limit = { OR = { is_planet_class = pc_megaflora is_planet_class = pc_megaflorahive is_planet_class = pc_megafloratol } not = { has_deposit = d_megaflora_deposit }}
		add_deposit = d_megaflora_deposit
		add_modifier = { modifier = "pdmegaflora" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_ash not = { has_deposit = d_lava_lakes } }
		add_deposit = d_lava_lakes
		add_modifier = { modifier = "ash" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_aquatic not = { has_deposit = d_aquatic_trench } }
		add_deposit = d_aquatic_trench
		add_modifier = { modifier = "aquatic" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_ammonia not = { has_deposit = d_ammonia_sea }}
		add_deposit = d_ammonia_sea
		add_modifier = { modifier = "ammonia" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_sulfur not = { has_deposit = d_sulfur_pool }}
		add_deposit = d_sulfur_pool
		add_modifier = { modifier = "pdsulfur" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_acid not = { has_deposit = d_acid_lakes }}
		add_deposit = d_acid_lakes
		add_deposit = d_pdacid_rain
		add_modifier = { modifier = "pdacid" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_methane not = { has_deposit = d_frozen_gas_mountain }}
		add_deposit = d_frozen_gas_mountain
		add_modifier = { modifier = "methane" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_irradiated not = { has_deposit = d_rad_blooms_transplant }}
		add_deposit = d_rad_blooms_transplant
		add_modifier = { modifier = "radiotrophic" days = -1 }
		}
		if = { 
		limit = { OR = { is_planet_class = pc_gaia is_planet_class = pc_cold_gaia is_planet_class = pc_hot_gaia } 
		}
		if = { limit = { not = { has_deposit = d_pdgaia } } add_deposit = d_pdgaia }
		remove_modifier = engineered_environment
		remove_modifier = engineered_environment_gaia
		}
		if = { 
		limit = { is_planet_class = pc_hive not = { has_deposit = d_pd_hive_world_boost } }
		add_deposit = d_pd_hive_world_boost
		}
		if = { 
		limit = { 
			OR = {
			is_planet_class = pc_machine 
			is_planet_class = pc_machine_factory 
			is_planet_class = pc_machine_capital 
			}
			not = { has_deposit = d_pd_machine_world_boost } }
		add_deposit = d_pd_machine_world_boost
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } }
			set_planet_entity = { picture = pc_aquatic }
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture has_planet_flag = hotaquatic }
			set_planet_entity = { picture = pc_aquatichot_uw }
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture has_planet_flag = coldaquatic }
			set_planet_entity = { picture = pc_aquaticcold_uw }
		}
	}
}

#Aquatic World types
country_event = {
	id = pdengine.15
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { is_planet_class = pc_aquatic is_homeworld = no is_colony = no	}
			random_list = {
				40 = { set_planet_entity = { picture = pc_aquatic_surface } }
				30 = { set_planet_entity = { entity = "aquatichot_planet_01_entity" picture = pc_aquatichot } set_planet_flag = hotaquatic }
				30 = { set_planet_entity = { entity = "aquaticcold_planet_01_entity" picture = pc_aquaticcold } set_planet_flag = coldaquatic }
			}
			while = {
				limit = { has_deposit = d_dense_jungle }
				remove_deposit = d_dense_jungle
				set_deposit = d_toxic_kelp
			}
		}
	}
}

#Aquatic Colonize Planet with Water
planet_event = {
	id = pdengine.16
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { 
			OR = {
				has_trait = trait_pc_aquatic_preference
				has_country_flag = pd_aquatic_planetview
			}
		}
		OR = {
			is_planet_class = pc_continental
			is_planet_class = pc_ocean
			is_planet_class = pc_tropical
			is_planet_class = pc_cascadian
			is_planet_class = pc_forest
			is_planet_class = pc_lake
			is_planet_class = pc_tepid
			is_planet_class = pc_desertislands
			is_planet_class = pc_retinal
			is_planet_class = pc_subarctic
			is_planet_class = pc_mangrove
			is_planet_class = pc_wetswamp
			is_planet_class = pc_fog
			is_planet_class = pc_hajungle
			is_planet_class = pc_cenote
			is_planet_class = pc_gaia
			is_planet_class = pc_hot_gaia
			is_planet_class = pc_cold_gaia
			is_planet_class = pc_prairie
			is_planet_class = pc_steppe
			is_planet_class = pc_veld
			is_planet_class = pc_semiarid
			is_planet_class = pc_swamp
			is_planet_class = pc_mud
			is_planet_class = pc_basalt
			is_planet_class = pc_glacial
			is_planet_class = pc_boreal
			is_planet_class = pc_arctic
			is_planet_class = pc_alpine
			is_planet_class = pc_highland
			is_planet_class = pc_duneforest
			is_planet_class = pc_mushroom
			is_planet_class = pc_med
			is_planet_class = pc_savannah
			is_planet_class = pc_ringworld_habitable
			is_planet_class = pc_city
			is_planet_class = pc_mesa
			is_planet_class = pc_badlands
			is_planet_class = pc_outback
			is_planet_class = pc_coastal
			is_planet_class = pc_hadesert
			is_planet_class = pc_desert
			is_planet_class = pc_arid
			is_planet_class = pc_sandsea
			is_planet_class = pc_antarctic
			is_planet_class = pc_aeolian
			is_planet_class = pc_snow
			is_planet_class = pc_tundra
			is_planet_class = pc_geothermal
			is_planet_class = pc_superhabitable
			is_planet_class = pc_tidallylocked
			is_planet_class = pc_supercon
			is_planet_class = pc_biolumen
			is_planet_class = pc_karst
			is_planet_class = pc_reef
			is_planet_class = pc_primal
			is_planet_class = pc_pdshroud
			is_planet_class = pc_aquatic
			is_planet_class = pc_tidallyaquatic
		}
	}

	immediate = {
			#Aquatics
			IF = { limit = { is_planet_class = pc_aquatic NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = hotaquatic } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = coldaquatic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tidallyaquatic } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			#Wet
			IF = { limit = { is_planet_class = pc_ocean } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_continental } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_forest } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_lake } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tepid } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_cascadian } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture } 
			IF = { limit = { is_planet_class = pc_retinal } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_steppe } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_city } set_planet_entity = { picture = pc_aquaticcity } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_hadesert } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tidallylocked } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture  }
			IF = { limit = { is_planet_class = pc_supercon } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_karst } set_planet_entity = { picture = pc_aquatickarst_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_reef } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			#Cold
			IF = { limit = { is_planet_class = pc_subarctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_swamp } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_mud } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_basalt } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_glacial } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_boreal } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_arctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_alpine } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_highland } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_duneforest } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_mushroom } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_wetswamp } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_fog } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_antarctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_aeolian } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_snow } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_tundra } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_frozen_desert } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_cold_gaia } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			#Tropical
			IF = { limit = { is_planet_class = pc_desertislands } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_tropical } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_mangrove } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_hajungle } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_cenote } set_planet_entity = { picture = pc_aquaticcenote_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_oasis } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_med } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_savannah } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_gaia } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_hot_gaia } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_ringworld_habitable } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_mesa } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_badlands } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_outback } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_coastal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_desert } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_arid } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_sandsea } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_geothermal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_superhabitable } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_biolumen } set_planet_entity = { picture = pc_aquaticbio_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_primal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			#Shroud
			IF = { limit = { is_planet_class = pc_pdshroud } set_planet_entity = { picture = pc_aquaticshroud_uw } set_planet_flag = pdaquapicture }
	}
}
#Non-Aquatic Race lands on Aquaitc Planet
planet_event = {
	id = pdengine.161
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { 
			NOT =  { 
				OR = {
					has_trait = trait_pc_aquatic_preference 
					has_trait = trait_aquatic
				}
			} 
		}
		is_planet_class = pc_aquatic
	}

	immediate = {
		IF = { limit = { OR = { is_planet_class = pc_aquatic } NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } } set_planet_entity = { picture = pc_aquatichab } }
		IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = hotaquatic } set_planet_entity = { picture = pc_aquatichothab } }
		IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = coldaquatic } set_planet_entity = { picture = pc_aquaticcoldhab } }
		IF = { limit = { is_planet_class = pc_tidallyaquatic } set_planet_entity = { picture = pc_tidallyaquatichab } }
	}
}

#Remove Tag on Terraform
country_event = {
	id = pdengine.18
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_galaxy_planet = {
			limit = { 
				has_planet_flag = pdaquapicture
				}
			remove_planet_flag = pdaquapicture	
		}
	}
}

#Lost Colony PD Start Fix
planet_event = {
	id = pdengine.19
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				NOT = { has_planet_flag = special_start_planet } 
				NOT = { is_planet_class = pc_continental }
				NOT = { is_planet_class = pc_tropical }
				NOT = { is_planet_class = pc_tundra }
				NOT = { is_planet_class = pc_arctic }
				NOT = { is_planet_class = pc_arid }
				NOT = { is_planet_class = pc_desert }
				NOT = { is_planet_class = pc_ocean }
				NOT = { is_planet_class = pc_alpine }
				NOT = { is_planet_class = pc_savannah }
				NOT = { is_planet_class = pc_gaia }
				NOT = { is_planet_class = pc_hot_gaia }
				NOT = { is_planet_class = pc_cold_gaia }
				NOT = { is_planet_class = pc_relic }
				NOT = { is_planet_class = pc_milarc_relic }
				NOT = { is_planet_class = pc_archive }
			}
			if = {
				limit = {
					OR = {
						NOT = { has_planet_flag = planet_earth }
						owner = { has_origin = origin_remnants } #no special earth for you, sorry
					}
					NOT = { 
						owner = { has_origin = origin_shattered_ring } 	#setup in initializer 
					}
				}
				generate_pd_start_deposits_and_blockers = yes
				
			}
			if = {
				limit = {
					is_planet_class = pc_machine
					owner = { has_origin = origin_machine } 
				}
				generate_pd_start_deposits_and_blockers = yes
			}
		}
	}
}

#Destory Double Unique Worlds
country_event = {
	id = pdengine.20
	hide_window = yes
	is_triggered_only = yes

   	immediate = {
		if = { limit = { any_country = { has_origin = origin_floating_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = floating_system } is_planet_class = pc_floating }
					change_pc = pc_broken
					remove_planet_flag = floating_planet
					remove_planet_flag = pdfloating
					remove_modifier = floating
					remove_deposit = d_eludium_islands
					set_deposit = d_volatile_motes_5
				}
			}
		every_system = {
			remove_star_flag = floating_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_crystal_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = pdcrystal_system } is_planet_class = pc_crystal }
					change_pc = pc_broken
					remove_planet_flag = crystal_planet
					remove_planet_flag = pdcrystal
					remove_modifier = crystal
					remove_deposit = d_crystal_guild
					set_deposit = d_rare_crystals_5
				}
			}
		every_system = {
			remove_star_flag = pdcrystal_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_graveyard_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = graveyard_system } is_planet_class = pc_graveyard }
					change_pc = pc_broken
					remove_planet_flag = graveyard_planet
					remove_planet_flag = pdgraveyard
					remove_modifier = graveyard
					remove_deposit = d_graveyard_well
					set_deposit = d_exotic_gases_5
				}
			}
		every_system = {
			remove_star_flag = graveyard_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_techno_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = technoorganic_system } is_planet_class = pc_technoorganic }
					change_pc = pc_broken
					remove_planet_flag = technoorganic_planet
					remove_planet_flag = pdtechnoorganic
					remove_modifier = technoorganic
					remove_deposit = d_subsurface_assembly
					set_deposit = d_living_metal_deposit
				}
			}
		every_system = {
			remove_star_flag = technoorganic_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_archive_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = archive_system_notorigin } is_planet_class = pc_archive }
					change_pc = pc_broken
					remove_planet_flag = archive_planet
					remove_planet_flag = pdarchive
					remove_modifier = archive
					set_deposit = d_physics_10
				}
			}
		every_system = {
			remove_star_flag = archive_system_notorigin
			} 
		}
		if = { limit = { any_country = { has_origin = origin_crucible_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_shielded has_planet_flag = pd_crucible_homeplanet }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_homeplanet
				remove_modifier = crucible_homeplanet
			}
		}
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_shielded has_planet_flag = pd_crucible_planet }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_planet
				remove_modifier = crucible_shieldedplanet
				add_deposit = d_physics_10
				add_deposit = d_zro_deposit_1
			}
		}
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_broken has_planet_flag = pd_crucible_military_moon }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_military_moon
				remove_modifier = crucible_military_moon
			}
		}
		every_system = {
			IF = {
				limit = { has_star_flag = crucible_notorigin }
				remove_star_flag = crucible_notorigin
				remove_star_flag = crucible_system
				}
			} 
		}
	}
}

#Tiyanki Starting Events
country_event = {
	id = pdengine.21
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_graveyard_world }
	}

   	immediate = {
			root = { 
				set_country_flag = tiyanki_encountered 
				#give_technology = { tech = tech_space_whale_weapon_1 } }
				country_event = { id = tutorial.61 }	
			}
			every_galaxy_planet = {
				limit = { is_planet_class = pc_graveyard }
				set_planet_flag = graveyard_planet
				planet_event = { id = pdgraveyard.30 days = 5 } 
		}
	}
}

# Mini-galaxy ativate
country_event = {
	id = pdengine.24
	title = "pdengine.24.name"
	desc = "pdengine.24.desc"
	picture = GFX_evt_surreal_visions
	
	is_triggered_only = yes

	option = {
		name = "FASCINATING"
		locked_random_list = {
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = engineering
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = physics
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = society
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
		}
	}
}

#PD Sol Hab Start
planet_event = {
	id = pdengine.25
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_pd_sol_hab_start }
		}
	}

	immediate = {
		if = {
			limit = { has_planet_flag = pd_habitat_start_earth }
			pdhabitat_sol_system_setup = yes
		}
	}
}

#PD Hab Start
planet_event = {
	id = pdengine.26
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_pd_sol_hab_start }
	}

	immediate = {
		if = {
			limit = { has_planet_flag = pd_habitat_start }
			pdhabitat_sol_system_setup = yes
		}
	}
}

#PD Auto Infest Planet for Hive Start
planet_event = {
	id = pdengine.29
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		NOT = { has_planet_flag = pd_infesting1 }
		NOT = { has_planet_flag = pd_infesting2 }
		NOT = { is_planet_class = pc_hive }
		#NOT = { is_planet_class = pc_pdhive1 }
		#NOT = { is_planet_class = pc_pdhive2 }
		NOT = { is_artificial = yes }
	}

	immediate = {
		IF = {
			limit = { not = { OR = { is_planet_class = pc_pdhive1 is_planet_class = pc_pdhive2 } } }
			set_planet_flag = pd_infesting1	
			add_modifier = { modifier = pd_infestingplanet days = 3600 }
			planet_event = { id = pdengine.30 days = 3600 }
			remove_modifier = no_pdhive
		}
		ELSE_IF = {
			limit = { is_planet_class = pc_pdhive1 }
			set_planet_flag = pd_infesting2
			add_modifier = { modifier = pd_infestingplanet2 days = 7200 }
			planet_event = { id = pdengine.31 days = 7200 }
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
			remove_modifier = land_appropriation
			remove_planet_flag = pd_restart_infesting
		}
		ELSE_IF = {
			limit = { is_planet_class = pc_pdhive2 }
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
			remove_modifier = land_appropriation
			remove_planet_flag = pd_restart_infesting
		}
	}
}

#PD Change to infested Planet level 1
planet_event = {
	id = pdengine.30
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		has_planet_flag = pd_infesting1
	}

	immediate = {
		#Wet
		if = { limit = { is_planet_class = pc_continental } set_planet_flag = pdhive_continental }
		if = { limit = { is_planet_class = pc_tropical } set_planet_flag = pdhive_tropical }
		if = { limit = { is_planet_class = pc_ocean } set_planet_flag = pdhive_ocean }
		if = { limit = { is_planet_class = pc_cascadian } set_planet_flag = pdhive_cascadian }
		if = { limit = { is_planet_class = pc_retinal } set_planet_flag = pdhive_retinal }
		if = { limit = { is_planet_class = pc_forest } set_planet_flag = pdhive_forest }
		if = { limit = { is_planet_class = pc_lake } set_planet_flag = pdhive_lake }
		if = { limit = { is_planet_class = pc_tepid } set_planet_flag = pdhive_tepid }
		if = { limit = { is_planet_class = pc_wetswamp } set_planet_flag = pdhive_wetswamp }
		if = { limit = { is_planet_class = pc_fog } set_planet_flag = pdhive_fog }
		if = { limit = { is_planet_class = pc_subarctic } set_planet_flag = pdhive_subarctic }
		if = { limit = { is_planet_class = pc_desertislands } set_planet_flag = pdhive_desertislands }
		if = { limit = { is_planet_class = pc_mangrove } set_planet_flag = pdhive_mangrove }
		if = { limit = { is_planet_class = pc_hajungle } set_planet_flag = pdhive_hajungle }
		if = { limit = { is_planet_class = pc_cenote } set_planet_flag = pdhive_cenotee }
		#Dry
		if = { limit = { is_planet_class = pc_desert } set_planet_flag = pdhive_desert }
		if = { limit = { is_planet_class = pc_arid } set_planet_flag = pdhive_arid }
		if = { limit = { is_planet_class = pc_savannah } set_planet_flag = pdhive_savannah }
		if = { limit = { is_planet_class = pc_sandsea } set_planet_flag = pdhive_sandsea }
		if = { limit = { is_planet_class = pc_steppe } set_planet_flag = pdhive_steppe }
		if = { limit = { is_planet_class = pc_oasis } set_planet_flag = pdhive_oasis }
		if = { limit = { is_planet_class = pc_mesa } set_planet_flag = pdhive_mesa }
		if = { limit = { is_planet_class = pc_badlands } set_planet_flag = pdhive_badlands }
		if = { limit = { is_planet_class = pc_hadesert } set_planet_flag = pdhive_hadesert }
		if = { limit = { is_planet_class = pc_prairie } set_planet_flag = pdhive_prairie }
		if = { limit = { is_planet_class = pc_veld } set_planet_flag = pdhive_veld }
		if = { limit = { is_planet_class = pc_semiarid } set_planet_flag = pdhive_semiarid }
		if = { limit = { is_planet_class = pc_med } set_planet_flag = pdhive_med }
		if = { limit = { is_planet_class = pc_outback } set_planet_flag = pdhive_outback }
		if = { limit = { is_planet_class = pc_coastal } set_planet_flag = pdhive_coastal }
		#Cold
		if = { limit = { is_planet_class = pc_arctic } set_planet_flag = pdhive_arctic }
		if = { limit = { is_planet_class = pc_tundra } set_planet_flag = pdhive_tundra }
		if = { limit = { is_planet_class = pc_alpine } set_planet_flag = pdhive_alpine }
		if = { limit = { is_planet_class = pc_swamp } set_planet_flag = pdhive_swamp }
		if = { limit = { is_planet_class = pc_mud } set_planet_flag = pdhive_mud }
		if = { limit = { is_planet_class = pc_basalt } set_planet_flag = pdhive_basalt }
		if = { limit = { is_planet_class = pc_frozen_desert } set_planet_flag = pdhive_frozen_desert }
		if = { limit = { is_planet_class = pc_boreal } set_planet_flag = pdhive_boreal }
		if = { limit = { is_planet_class = pc_mushroom } set_planet_flag = pdhive_mushroom }
		if = { limit = { is_planet_class = pc_antarctic } set_planet_flag = pdhive_antarctic }
		if = { limit = { is_planet_class = pc_aeolian } set_planet_flag = pdhive_aeolian }
		if = { limit = { is_planet_class = pc_snow } set_planet_flag = pdhive_snow }
		if = { limit = { is_planet_class = pc_glacial } set_planet_flag = pdhive_glacial }
		if = { limit = { is_planet_class = pc_highland } set_planet_flag = pdhive_highland }
		if = { limit = { is_planet_class = pc_duneforest } set_planet_flag = pdhive_duneforest }
		#Rare
		if = { limit = { is_planet_class = pc_geothermal } set_planet_flag = pdhive_geothermal }
		if = { limit = { is_planet_class = pc_superhabitable } set_planet_flag = pdhive_superhabitable }
		if = { limit = { is_planet_class = pc_tidallylocked } set_planet_flag = pdhive_tidallylocked }
		if = { limit = { is_planet_class = pc_supercon } set_planet_flag = pdhive_supercon }
		if = { limit = { is_planet_class = pc_biolumen } set_planet_flag = pdhive_biolumen }
		if = { limit = { is_planet_class = pc_karst } set_planet_flag = pdhive_karst }
		if = { limit = { is_planet_class = pc_reef } set_planet_flag = pdhive_reef }
		if = { limit = { is_planet_class = pc_primal } set_planet_flag = pdhive_primal }
		if = { limit = { is_planet_class = pc_aquatic } set_planet_flag = pdhive_aquatic }
		if = { limit = { is_planet_class = pc_salt } set_planet_flag = pdhive_salt }
		if = { limit = { is_planet_class = pc_aquifer } set_planet_flag = pdhive_aquifer }
		if = { limit = { is_planet_class = pc_coral } set_planet_flag = pdhive_coral }
		if = { limit = { is_planet_class = pc_storm } set_planet_flag = pdhive_storm }
		if = { limit = { is_planet_class = pc_rogue } set_planet_flag = pdhive_rogue }
		if = { limit = { is_planet_class = pc_lichen } set_planet_flag = pdhive_lichen }
		if = { limit = { is_planet_class = pc_eyeball } set_planet_flag = pdhive_eyeball }
		if = { limit = { is_planet_class = pc_glacio } set_planet_flag = pdhive_glacio }
		if = { limit = { is_planet_class = pc_lanthanide } set_planet_flag = pdhive_lanthanide }
		IF = { limit = { is_planet_class = pc_megaflora } set_planet_flag = pdhive_megaflora }
		IF = { limit = { is_planet_class = pc_megaflorahive } set_planet_flag = pdhive_megaflorahive }
		#Exotic
		if = { limit = { is_planet_class = pc_ammonia } set_planet_flag = pdhive_ammonia }
		if = { limit = { is_planet_class = pc_sulfur } set_planet_flag = pdhive_sulfur }
		if = { limit = { is_planet_class = pc_acid } set_planet_flag = pdhive_acid }
		if = { limit = { is_planet_class = pc_methane } set_planet_flag = pdhive_methane }
		if = { limit = { is_planet_class = pc_ash } set_planet_flag = pdhive_ash }
		if = { limit = { is_planet_class = pc_irradiated } set_planet_flag = pdhive_irradiated }
		#Unique
		if = { limit = { is_planet_class = pc_floating } set_planet_flag = pdhive_floating }
		if = { limit = { is_planet_class = pc_crystal } set_planet_flag = pdhive_crystal }
		if = { limit = { is_planet_class = pc_technoorganic } set_planet_flag = pdhive_technoorganic }
		if = { limit = { is_planet_class = pc_graveyard } set_planet_flag = pdhive_graveyard }
		IF = {
			limit = {
				planet_size <= 25
				planet_size >= 21
			}
			add_deposit = d_pdhive10
		}
		IF = {
			limit = {
				planet_size <= 20
				planet_size >= 16
			}
			add_deposit = d_pdhive8
		}
		IF = {
			limit = {
				planet_size <= 15
				planet_size >= 11
			}
			add_deposit = d_pdhive6
		}
		IF = {
			limit = {
				planet_size <= 10
			}
			add_deposit = d_pdhive4
		}
		pd_remove_special_deposits_modifiers = yes
		change_pc = pc_pdhive1
		set_planet_flag = pd_infesting2
		add_modifier = { modifier = pd_infestingplanet2 days = 7200 }
		planet_event = { id = pdengine.31 days = 7200 }
	}
}

#PD Change to infested Planet level 2
planet_event = {
	id = pdengine.31
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		has_planet_flag = pd_infesting2
	}

	immediate = {
		if = { limit = { has_deposit = d_pdhive10 } remove_deposit = d_pdhive10 } #add_deposit = d_pdhive5 }
		if = { limit = { has_deposit = d_pdhive8 } remove_deposit = d_pdhive8 } #add_deposit = d_pdhive4 }
		if = { limit = { has_deposit = d_pdhive6 } remove_deposit = d_pdhive6 } #add_deposit = d_pdhive3 }
		if = { limit = { has_deposit = d_pdhive4 } remove_deposit = d_pdhive4 } #add_deposit = d_pdhive2 }
	change_pc = pc_pdhive2
	}
}

#Stop Infesting, kill the bugs
planet_event = {
	id = pdengine.32
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		owner = { has_origin = origin_pd_hive }
	}

	immediate = {
		remove_planet_flag = pd_infesting2
		remove_planet_flag = pd_infesting1
		remove_deposit = d_pdhive10
		remove_deposit = d_pdhive8
		remove_deposit = d_pdhive6
		remove_deposit = d_pdhive5
		remove_deposit = d_pdhive4
		remove_deposit = d_pdhive3
		remove_deposit = d_pdhive2
		remove_modifier = pd_infestingplanet
		remove_modifier = pd_infestingplanet2
		set_planet_flag = pd_restart_infesting
	}
}

#modify the modifier for lacking hive infestation
planet_event = {
	id = pdengine.33
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_hive }
				NOR = {
					is_planet_class = pc_hive
					is_planet_class = pc_pdhive1
					is_planet_class = pc_pdhive2
				}
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_hive } }
				OR = {
				has_modifier = pd_infestingplanet
				has_modifier = pd_infestingplanet2
				has_planet_flag = pd_infesting2
				has_planet_flag = pd_infesting1
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				FROM = { has_origin = origin_pd_hive }
				is_under_colonization = no
				NOT = { has_planet_flag = pd_infesting1 }
				NOT = { has_planet_flag = pd_infesting2 }
			}
			planet_event = {
				id = pdengine.29
			}
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_hive } }
			}
			remove_planet_flag = pd_infesting2
			remove_planet_flag = pd_infesting1
			remove_modifier = pd_infestingplanet
			remove_modifier = pd_infestingplanet2
			add_modifier = {
				modifier = pdremovehive
				days = 3600
			}
			planet_event = {
				id = pdengine.63
				days = 3600
			}
			set_planet_flag = pdremovehive
		}
	}
}

#remove infestation if colony is destoryed
planet_event = {
	id = pdengine.34
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_hive }
				NOR = {
					is_planet_class = pc_hive
					is_planet_class = pc_pdhive1
					is_planet_class = pc_pdhive2
				}
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_hive } }
				OR = {
				has_modifier = pd_infestingplanet
				has_modifier = pd_infestingplanet2
				has_planet_flag = pd_infesting2
				has_planet_flag = pd_infesting1
				}
			}
		}
	
	}

	immediate = {
		remove_planet_flag = pdremovehive
		remove_modifier = pdremovehive
		if = {
			limit = {
				FROM = { has_origin = origin_pd_hive }
				is_under_colonization = no
				NOT = { has_planet_flag = pd_infesting1 }
				NOT = { has_planet_flag = pd_infesting2 }
			}
			planet_event = {
				id = pdengine.29
			}
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_hive } }
			}
			remove_planet_flag = pd_infesting2
			remove_planet_flag = pd_infesting1
			remove_modifier = pd_infestingplanet
			remove_modifier = pd_infestingplanet2
			add_modifier = {
				modifier = pdremovehive
				days = 3600
			}
			planet_event = {
				id = pdengine.63
				days = 3600
			}
			set_planet_flag = pdremovehive
		}
	}
}

#turn back into normal world from infested
planet_event = {
	id = pdengine.63
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		has_planet_flag = pdremovehive
	}

	immediate = {
		#Wet
		if = { limit = { has_planet_flag = pdhive_continental } change_pc = pc_continental remove_planet_flag = pdhive_continental }
		if = { limit = { has_planet_flag = pdhive_tropical } change_pc = pc_tropical remove_planet_flag = pdhive_tropical }
		if = { limit = { has_planet_flag = pdhive_ocean } change_pc = pc_ocean remove_planet_flag = pdhive_ocean }
		if = { limit = { has_planet_flag = pdhive_cascadian } change_pc = pc_cascadian remove_planet_flag = pdhive_cascadian }
		if = { limit = { has_planet_flag = pdhive_retinal } change_pc = pc_retinal remove_planet_flag = pdhive_retinal }
		if = { limit = { has_planet_flag = pdhive_forest } change_pc = pc_forest remove_planet_flag = pdhive_forest }
		if = { limit = { has_planet_flag = pdhive_lake } change_pc = pc_lake remove_planet_flag = pdhive_lake }
		if = { limit = { has_planet_flag = pdhive_tepid } change_pc = pc_tepid remove_planet_flag = pdhive_tepid }
		if = { limit = { has_planet_flag = pdhive_wetswamp } change_pc = pc_wetswamp remove_planet_flag = pdhive_wetswamp }
		if = { limit = { has_planet_flag = pdhive_fog } change_pc = pc_fog remove_planet_flag = pdhive_fog }
		if = { limit = { has_planet_flag = pdhive_subarctic } change_pc = pc_subarctic remove_planet_flag = pdhive_subarctic }
		if = { limit = { has_planet_flag = pdhive_desertislands } change_pc = pc_desertislands remove_planet_flag = pdhive_desertislands }
		if = { limit = { has_planet_flag = pdhive_mangrove } change_pc = pc_mangrove remove_planet_flag = pdhive_mangrove }
		if = { limit = { has_planet_flag = pdhive_hajungle } change_pc = pc_hajungle remove_planet_flag = pdhive_hajungle }
		if = { limit = { has_planet_flag = pdhive_cenote } change_pc = pc_cenote remove_planet_flag = pdhive_cenote }
		#Dry
		if = { limit = { has_planet_flag = pdhive_desert } change_pc = pc_desert remove_planet_flag = pdhive_desert }
		if = { limit = { has_planet_flag = pdhive_arid } change_pc = pc_arid remove_planet_flag = pdhive_arid }
		if = { limit = { has_planet_flag = pdhive_savannah } change_pc = pc_savannah remove_planet_flag = pdhive_savannah }
		if = { limit = { has_planet_flag = pdhive_sandsea } change_pc = pc_sandsea remove_planet_flag = pdhive_sandsea }
		if = { limit = { has_planet_flag = pdhive_steppe } change_pc = pc_steppe remove_planet_flag = pdhive_steppe }
		if = { limit = { has_planet_flag = pdhive_oasis } change_pc = pc_oasis remove_planet_flag = pdhive_oasis }
		if = { limit = { has_planet_flag = pdhive_mesa } change_pc = pc_mesa remove_planet_flag = pdhive_mesa }
		if = { limit = { has_planet_flag = pdhive_badlands } change_pc = pc_badlands remove_planet_flag = pdhive_badlands }
		if = { limit = { has_planet_flag = pdhive_hadesert } change_pc = pc_hadesert remove_planet_flag = pdhive_hadesert }
		if = { limit = { has_planet_flag = pdhive_prairie } change_pc = pc_prairie remove_planet_flag = pdhive_prairie }
		if = { limit = { has_planet_flag = pdhive_veld } change_pc = pc_veld remove_planet_flag = pdhive_veld }
		if = { limit = { has_planet_flag = pdhive_semiarid } change_pc = pc_semiarid remove_planet_flag = pdhive_semiarid }
		if = { limit = { has_planet_flag = pdhive_med } change_pc = pc_med remove_planet_flag = pdhive_med }
		if = { limit = { has_planet_flag = pdhive_outback } change_pc = pc_outback remove_planet_flag = pdhive_outback }
		if = { limit = { has_planet_flag = pdhive_coastal } change_pc = pc_coastal remove_planet_flag = pdhive_coastal }
		#Cold
		if = { limit = { has_planet_flag = pdhive_arctic } change_pc = pc_arctic remove_planet_flag = pdhive_arctic }
		if = { limit = { has_planet_flag = pdhive_tundra } change_pc = pc_tundra remove_planet_flag = pdhive_tundra }
		if = { limit = { has_planet_flag = pdhive_alpine } change_pc = pc_alpine remove_planet_flag = pdhive_alpine }
		if = { limit = { has_planet_flag = pdhive_swamp } change_pc = pc_swamp remove_planet_flag = pdhive_swamp }
		if = { limit = { has_planet_flag = pdhive_mud } change_pc = pc_mud remove_planet_flag = pdhive_mud }
		if = { limit = { has_planet_flag = pdhive_basalt } change_pc = pc_basalt remove_planet_flag = pdhive_basalt }
		if = { limit = { has_planet_flag = pdhive_frozen_desert } change_pc = pc_frozen_desert remove_planet_flag = pdhive_frozen_desert }
		if = { limit = { has_planet_flag = pdhive_boreal } change_pc = pc_boreal remove_planet_flag = pdhive_boreal }
		if = { limit = { has_planet_flag = pdhive_mushroom } change_pc = pc_mushroom remove_planet_flag = pdhive_mushroom }
		if = { limit = { has_planet_flag = pdhive_antarctic } change_pc = pc_antarctic remove_planet_flag = pdhive_antarctic }
		if = { limit = { has_planet_flag = pdhive_aeolian } change_pc = pc_aeolian remove_planet_flag = pdhive_aeolian }
		if = { limit = { has_planet_flag = pdhive_snow } change_pc = pc_snow remove_planet_flag = pdhive_snow }
		if = { limit = { has_planet_flag = pdhive_glacial } change_pc = pc_glacial remove_planet_flag = pdhive_glacial }
		if = { limit = { has_planet_flag = pdhive_highland } change_pc = pc_highland remove_planet_flag = pdhive_highland }
		if = { limit = { has_planet_flag = pdhive_duneforest } change_pc = pc_duneforest remove_planet_flag = pdhive_duneforest }
		#Rare
		if = { limit = { has_planet_flag = pdhive_geothermal } change_pc = pc_geothermal remove_planet_flag = pdhive_geothermal }
		if = { limit = { has_planet_flag = pdhive_superhabitable } change_pc = pc_superhabitable remove_planet_flag = pdhive_superhabitable }
		if = { limit = { has_planet_flag = pdhive_tidallylocked } change_pc = pc_tidallylocked remove_planet_flag = pdhive_tidallylocked }
		if = { limit = { has_planet_flag = pdhive_supercon } change_pc = pc_supercon remove_planet_flag = pdhive_supercon }
		if = { limit = { has_planet_flag = pdhive_biolumen } change_pc = pc_biolumen remove_planet_flag = pdhive_biolumen }
		if = { limit = { has_planet_flag = pdhive_karst } change_pc = pc_karst remove_planet_flag = pdhive_karst }
		if = { limit = { has_planet_flag = pdhive_reef } change_pc = pc_reef remove_planet_flag = pdhive_reef }
		if = { limit = { has_planet_flag = pdhive_primal } change_pc = pc_primal remove_planet_flag = pdhive_primal }
		if = { limit = { has_planet_flag = pdhive_aquatic } change_pc = pc_aquatic remove_planet_flag = pdhive_aquatic }
		if = { limit = { has_planet_flag = pdhive_salt } change_pc = pc_salt remove_planet_flag = pdhive_salt }
		if = { limit = { has_planet_flag = pdhive_aquifer } change_pc = pc_aquifer remove_planet_flag = pdhive_aquifer }
		if = { limit = { has_planet_flag = pdhive_coral } change_pc = pc_coral remove_planet_flag = pdhive_coral }
		if = { limit = { has_planet_flag = pdhive_storm } change_pc = pc_storm remove_planet_flag = pdhive_storm }
		if = { limit = { has_planet_flag = pdhive_rogue } change_pc = pc_rogue remove_planet_flag = pdhive_rogue }
		if = { limit = { has_planet_flag = pdhive_lichen } change_pc = pc_lichen remove_planet_flag = pdhive_lichen }
		if = { limit = { has_planet_flag = pdhive_eyeball } change_pc = pc_eyeball remove_planet_flag = pdhive_eyeball }
		if = { limit = { has_planet_flag = pdhive_glacio } change_pc = pc_glacio remove_planet_flag = pdhive_glacio }
		if = { limit = { has_planet_flag = pdhive_lanthanide } change_pc = pc_lanthanide remove_planet_flag = pdhive_lanthanide }
		#Exotic
		if = { limit = { has_planet_flag = pdhive_ammonia } change_pc = pc_ammonia remove_planet_flag = pdhive_ammonia }
		if = { limit = { has_planet_flag = pdhive_sulfur } change_pc = pc_sulfur remove_planet_flag = pdhive_sulfur }
		if = { limit = { has_planet_flag = pdhive_acid } change_pc = pc_acid remove_planet_flag = pdhive_acid }
		if = { limit = { has_planet_flag = pdhive_methane } change_pc = pc_methane remove_planet_flag = pdhive_methane }
		if = { limit = { has_planet_flag = pdhive_ash } change_pc = pc_ash remove_planet_flag = pdhive_ash }
		if = { limit = { has_planet_flag = pdhive_irradiated } change_pc = pc_irradiated remove_planet_flag = pdhive_irradiated }
		#Unique
		if = { limit = { has_planet_flag = pdhive_floating } change_pc = pc_floating remove_planet_flag = pdhive_floating }
		if = { limit = { has_planet_flag = pdhive_crystal } change_pc = pc_crystal remove_planet_flag = pdhive_crystal }
		if = { limit = { has_planet_flag = pdhive_technoorganic } change_pc = pc_technoorganic remove_planet_flag = pdhive_technoorganic }
		if = { limit = { has_planet_flag = pdhive_graveyard } change_pc = pc_graveyard remove_planet_flag = pdhive_graveyard }
		reroll_planet = yes 
		remove_deposit = d_pdhive2
		remove_deposit = d_pdhive3
		remove_deposit = d_pdhive4
		remove_deposit = d_pdhive5
		remove_deposit = d_pdhive6
		remove_deposit = d_pdhive8
		remove_deposit = d_pdhive10
		clear_blockers = yes
		if = { 
			limit = { has_planet_flag = planet_earth } 
			set_planet_entity = { entity = continental_planet_earth_entity }
			#clear_deposits = yes
			#generate_earth_deposits_and_blockers = yes
			#clear_blockers = yes
			#clear_planet_modifiers = yes
		}
		remove_planet_flag = pdremovehive
		remove_planet_flag = pd_restart_infesting
	}
}

#PD Tree of Life

#Add ToL to new colonies
planet_event = {
	id = pdengine.35
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_pd_tree_of_life
		}
	}

	immediate = {
		IF = {
			limit = { 
				NOT = { has_planet_flag = pd_tol1 }
				NOT = { has_planet_flag = pd_tol2 }
				NOT = { has_planet_flag = pd_tol3 }
				NOT = { is_artificial = yes }
				NOT = { is_planet_class = pc_ecocity }
				NOT = { is_planet_class = pc_corpoarc }
				NOT = { is_planet_class = pc_palacearc }
				NOT = { is_planet_class = pc_capitalarc }
				NOT = { is_planet_class = pc_necropolis }
				NOT = { is_planet_class = pc_machine_necropolis }
				NOT = { is_planet_class = pc_necrohive }
				NOT = { is_planet_class = pc_relic }
				NOT = { is_planet_class = pc_milarc_relic }
				NOT = { is_planet_class = pc_city }
				NOT = { is_planet_class = pc_floating }
				NOT = { is_planet_class = pc_crucible }
				NOT = { is_planet_class = pc_shroud_crucible }
				NOT = { is_planet_class = pc_clean_crucible }
				NOT = { is_planet_class = pc_crystal }
				NOT = { is_planet_class = pc_technoorganic }
				NOT = { is_planet_class = pc_graveyard }
			 }
		add_deposit = d_pd_tree_of_life_1
		}
		ELSE_IF = {
			limit = { 
				is_artificial = yes
				NOT = { is_planet_class = pc_ringworld_habitable }
			 }
		add_deposit = d_pd_tree_of_life_habitat
		set_planet_flag = pd_tolx
		}
		ELSE_IF = {
			limit = { 
				is_planet_class = pc_ringworld_habitable
			 }
		add_deposit = d_pd_tree_of_life_ringworld
		set_planet_flag = pd_tolx
		}
		ELSE_IF = {
			limit = { 
				OR = {
				is_planet_class = pc_ecocity
				is_planet_class = pc_corpoarc
				is_planet_class = pc_necropolis
				is_planet_class = pc_machine_necropolis
				is_planet_class = pc_necrohive
				is_planet_class = pc_relic
				is_planet_class = pc_milarc_relic
				is_planet_class = pc_city
				is_planet_class = pc_palacearc
				is_planet_class = pc_capitalarc
				is_planet_class = pc_floating
				is_planet_class = pc_crucible
				is_planet_class = pc_shroud_crucible
				is_planet_class = pc_clean_crucible
				is_planet_class = pc_crystal
				is_planet_class = pc_technoorganic
				is_planet_class = pc_graveyard
				}
			 }
		add_deposit = d_pd_tree_of_life_special
		set_planet_flag = pd_tolx
		}
		remove_modifier = no_pd_lifetree #as the planet transfer events fire before this
	}
}

#Tree destroyed (oh no!)
#silently kill tree
planet_event = {
	id = pdengine.36
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		AND = {
			owner = { NOT = { has_origin = origin_pd_tree_of_life } }
				OR = {
					has_planet_flag = pd_tol1
					has_planet_flag = pd_tol2
					has_planet_flag = pd_tol3
					has_planet_flag = pd_tolx
			}
		}
	}

	immediate = {
			remove_planet_flag = pd_tol1
			remove_planet_flag = pd_tol2
			remove_planet_flag = pd_tol3
			remove_planet_flag = pd_tolx
			remove_deposit = d_pd_tree_of_life_1
			remove_deposit = d_pd_tree_of_life_2
			remove_deposit = d_pd_tree_of_life_3
			remove_deposit = d_pd_tree_of_life_habitat
			remove_deposit = d_pd_tree_of_life_ringworld
			remove_deposit = d_pd_tree_of_life_special
			remove_deposit = d_tol_sap
			remove_deposit = d_megaflora_deposit
			remove_modifier = pdmegaflora
			if = {
				limit = { is_planet_class = pc_megafloratol }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megafloraforge }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megafloracapital }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megaflora }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megaflorahive }
				change_pc = pc_forest
			}
			add_deposit = d_pd_tree_of_life_dead
			add_modifier = {
				modifier = no_pd_lifetree
				days = -1
			}
	}
}

#informatively kill tree
planet_event = {
	id = pdengine.37
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		planet_devastation >= 50
		OR = {
			has_deposit = d_pd_tree_of_life_1
			has_deposit = d_pd_tree_of_life_2
			has_deposit = d_pd_tree_of_life_3
		}
	}
	
	immediate = {
		remove_deposit = d_pd_tree_of_life_1
		remove_deposit = d_pd_tree_of_life_2
		remove_deposit = d_pd_tree_of_life_3
		remove_deposit = d_tol_sap
		remove_deposit = d_megaflora_deposit
		remove_modifier = pdmegaflora
		if = {
			limit = { is_planet_class = pc_megafloraforge }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megafloracapital }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megafloratol }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflora }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflorahive }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
	}

	#option = {
	#	name = UNFORTUNATE
	#	add_modifier = { modifier = no_pd_lifetree }
	#}
}

#modify the modifier for lacking Tree
planet_event = {
	id = pdengine.38
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_tree_of_life }
				NOR = {
					has_deposit = d_pd_tree_of_life_1
					has_deposit = d_pd_tree_of_life_2
					has_deposit = d_pd_tree_of_life_3
				}
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_tree_of_life } }
				has_modifier = no_pd_lifetree
			}
		}
	
	}

	immediate = {
		if = {
			limit = {
				FROM = { has_origin = origin_pd_tree_of_life }
			}
			add_modifier = { modifier = no_pd_lifetree }
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_tree_of_life } }
			}
			remove_modifier = no_pd_lifetree
		}
	}
}

#PD Hidden Tree Growth
planet_event = {
	id = pdengine.39
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		NOT = { has_planet_flag = pd_tol1 }
		NOT = { has_planet_flag = pd_tol2 }
		NOT = { has_planet_flag = pd_tol3 }
		NOT = { is_artificial = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_floating }
		NOT = { is_planet_class = pc_crystal }
		NOT = { is_planet_class = pc_technoorganic }
		NOT = { is_planet_class = pc_graveyard }
		NOT = { is_planet_class = pc_shroud_crucible }
		NOT = { is_planet_class = pc_crucible }
		NOT = { is_planet_class = pc_clean_crucible }
	}

	immediate = {
		set_planet_flag = pd_tol1	
		IF = {
			limit = { owner = { NOT = { has_technology = tech_pdtoltech } } }
			planet_event = { id = pdengine.40 days = 7200 random = 7200 }
		}
		IF = {
			limit = { owner = { has_technology = tech_pdtoltech } }
			planet_event = { id = pdengine.40 days = 3600 random = 3600 }
		}
	}
}

#PD Change TOL change to megaflora
planet_event = {
	id = pdengine.40
	title = pdengine.40.name
	desc = pdengine.40.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		has_planet_flag = pd_tol1
		NOT = { is_artificial = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_floating }
		NOT = { is_planet_class = pc_crystal }
		NOT = { is_planet_class = pc_technoorganic }
		NOT = { is_planet_class = pc_graveyard }
		NOT = { is_planet_class = pc_shroud_crucible }
		NOT = { is_planet_class = pc_crucible }
		NOT = { is_planet_class = pc_clean_crucible }
	}

	immediate = {
		change_pc = pc_megaflorahive
		pd_remove_special_deposits_modifiers = yes
		remove_planet_flag = pd_tol1
		set_planet_flag = pd_tol2
		add_modifier = { modifier = pdmegaflora }
		add_deposit = d_megaflora_deposit
		remove_deposit = d_pd_tree_of_life_1
		add_deposit = d_pd_tree_of_life_2
		IF = {
			limit = { owner = { NOT = { has_technology = tech_pdtoltech } } }
			planet_event = { id = pdengine.41 days = 10800 random = 10800 }
		}
		IF = {
			limit = { owner = { has_technology = tech_pdtoltech } }
			planet_event = { id = pdengine.41 days = 5400 random = 5400 }
		}
	}

	option = {
		name = pdengine.40.a
	}
}

#PD Change TOL change to megaflora TOL
planet_event = {
	id = pdengine.41
	title = pdengine.41.name
	desc = pdengine.41.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		has_planet_flag = pd_tol2
		NOT = { is_artificial = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
	}

	immediate = {
		change_pc = pc_megafloratol
		remove_planet_flag = pd_tol2
		set_planet_flag = pd_tol3
		add_deposit = d_tol_sap
		remove_deposit = d_pd_tree_of_life_2
		add_deposit = d_pd_tree_of_life_3
		remove_modifier = bleak_planet
		remove_modifier = irradiated_planet
		remove_modifier = hazardous_weather
		remove_modifier = dangerous_wildlife
		remove_modifier = wild_storms
		remove_deposit = d_pdgaia
	}

	option = {
		name = pdengine.41.a
	}
}

#PD Tree Hidden Event Start
planet_event = {
	id = pdengine.42
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_pd_tree_of_life }
		}
	}

	immediate = {
		planet_event = { id = pdengine.41 days = 7200 random = 7200 } #test 7200 - 3600
		set_planet_flag = pd_tol2
	}
}

#Exotic Ringworld Start
planet_event = {
	id = pdengine.43
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_shattered_ring }
	}

	immediate = {
		if = {
			limit = { owner = { has_trait = trait_pc_ammonia_preference } }
			set_planet_entity = { picture = pc_ammoniaring entity = ammoniaring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdammoniaatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_sulfur_preference } }
			set_planet_entity = { picture = pc_sulfurring entity = sulfurring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdsulfuratmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_methane_preference } }
			set_planet_entity = { picture = pc_methanering entity = methanering_habitable_entity_01_entity }	
			add_modifier = { modifier = pdmethaneatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_ash_preference } }
			set_planet_entity = { picture = pc_ashring entity = ashring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdashatmosphere days = -1 }	
		}
	}
}

#Remove Habitat Districts + Flags
planet_event = {
	id = pdengine.44
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_planet_flag = pd_energy_hab
			has_planet_flag = pd_mining_hab
			has_planet_flag = pd_farming_hab
			has_planet_flag = pd_foundry_hab
			has_planet_flag = pd_science_hab
			has_planet_flag = pd_commercial_hab
			has_planet_flag = pdhab
		}
	}

	immediate = {
		remove_planet_flag = pd_energy_hab
		remove_planet_flag = pd_mining_hab
		remove_planet_flag = pd_farming_hab
		remove_planet_flag = pd_foundry_hab
		remove_planet_flag = pd_science_hab
		remove_planet_flag = pd_commercial_hab
		remove_planet_flag = pd_hab_d1
		remove_planet_flag = pd_hab_d2
		remove_planet_flag = pdhab
		remove_planet_flag = pd_mil_hab
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_energy
		remove_district = district_pdhab_energy
		remove_district = district_pdhab_energy
		remove_district = district_pdhab_energy
		remove_district = district_pdhab_energy
		remove_district = district_pdhab_food
		remove_district = district_pdhab_food
		remove_district = district_pdhab_food
		remove_district = district_pdhab_food
		remove_district = district_pdhab_food
		remove_district = district_pdhab_food
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_mining
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
		remove_district = district_pdhab_mil
	}
}

country_event = {
	id = pdengine.45
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_barren_cold
				not = { has_modifier = terraforming_candidate }	
				solar_system = { NOT = { has_star_flag = empire_home_system } }
			}	
			random_list = {
				3 = { 
					change_pc = pc_diamond
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_rare_crystals_5 }
						10 = { add_deposit = d_rare_crystals_4 }
						20 = { add_deposit = d_rare_crystals_3 }
						20 = { add_deposit = d_rare_crystals_2 }
						40 = { add_deposit = d_rare_crystals_1 }
					}
				}
				97 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_barren
				not = { has_modifier = terraforming_candidate }	
				solar_system = { NOT = { has_star_flag = empire_home_system } }
			}	
			random_list = {
				2 = { 
					change_pc = pc_carbon
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_minerals_10 }
						5 = { add_deposit = d_minerals_9 }
						5 = { add_deposit = d_minerals_8 }
						5 = { add_deposit = d_minerals_7 }
						5 = { add_deposit = d_minerals_6 }
						10 = { add_deposit = d_minerals_5 }
						10 = { add_deposit = d_minerals_4 }
						10 = { add_deposit = d_minerals_3 }
						20 = { add_deposit = d_minerals_2 }
						25 = { add_deposit = d_minerals_1 }
					}
					random_list = {
						5 = { add_deposit = d_minerals_10 }
						5 = { add_deposit = d_minerals_9 }
						5 = { add_deposit = d_minerals_8 }
						5 = { add_deposit = d_minerals_7 }
						5 = { add_deposit = d_minerals_6 }
						10 = { add_deposit = d_minerals_5 }
						10 = { add_deposit = d_minerals_4 }
						10 = { add_deposit = d_minerals_3 }
						20 = { add_deposit = d_minerals_2 }
						25 = { add_deposit = d_minerals_1 }
					}
				}
				98 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				not = { 
					OR = {
						has_modifier = terraforming_candidate 
						is_moon = yes
					}
				}	
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					change_pc = pc_chthonian
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_minerals_10 }
						5 = { add_deposit = d_minerals_9 }
						5 = { add_deposit = d_minerals_8 }
						5 = { add_deposit = d_minerals_7 }
						5 = { add_deposit = d_minerals_6 }
						10 = { add_deposit = d_minerals_5 }
						10 = { add_deposit = d_minerals_4 }
						10 = { add_deposit = d_minerals_3 }
						20 = { add_deposit = d_minerals_2 }
						25 = { add_deposit = d_minerals_1 }
					}
					random_list = {
						10 = { add_deposit = d_alloys_5 }
						10 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						20 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				not = { 
					OR = {
						has_modifier = terraforming_candidate 
						is_moon = yes
					}
				}	
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					change_pc = pc_iron
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_alloys_5 }
						10 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						20 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
					random_list = {
						10 = { add_deposit = d_alloys_5 }
						10 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						20 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
				}
				85 = { }
			}	
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				is_moon = yes
				not = { has_modifier = terraforming_candidate }
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					change_pc = pc_volcanic
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_alloys_5 }
						10 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						20 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
					random_list = {
						5 = { add_deposit = d_energy_10 }
						5 = { add_deposit = d_energy_9 }
						5 = { add_deposit = d_energy_8 }
						5 = { add_deposit = d_energy_7 }
						5 = { add_deposit = d_energy_6 }
						10 = { add_deposit = d_energy_5 }
						10 = { add_deposit = d_energy_4 }
						10 = { add_deposit = d_energy_3 }
						20 = { add_deposit = d_energy_2 }
						25 = { add_deposit = d_energy_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_frozen
				is_moon = yes
				not = { has_modifier = terraforming_candidate }
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					change_pc = pc_hydrocarbon
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_energy_10 }
						5 = { add_deposit = d_energy_9 }
						5 = { add_deposit = d_energy_8 }
						5 = { add_deposit = d_energy_7 }
						5 = { add_deposit = d_energy_6 }
						10 = { add_deposit = d_energy_5 }
						10 = { add_deposit = d_energy_4 }
						10 = { add_deposit = d_energy_3 }
						20 = { add_deposit = d_energy_2 }
						25 = { add_deposit = d_energy_1 }
					}
					random_list = {
						5 = { add_deposit = d_energy_10 }
						5 = { add_deposit = d_energy_9 }
						5 = { add_deposit = d_energy_8 }
						5 = { add_deposit = d_energy_7 }
						5 = { add_deposit = d_energy_6 }
						10 = { add_deposit = d_energy_5 }
						10 = { add_deposit = d_energy_4 }
						10 = { add_deposit = d_energy_3 }
						20 = { add_deposit = d_energy_2 }
						25 = { add_deposit = d_energy_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_frozen
				is_moon = yes
				not = { has_modifier = terraforming_candidate }
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					change_pc = pc_subglacial
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_physics_10 }
						5 = { add_deposit = d_physics_9 }
						5 = { add_deposit = d_physics_8 }
						5 = { add_deposit = d_physics_7 }
						5 = { add_deposit = d_physics_6 }
						10 = { add_deposit = d_physics_5 }
						10 = { add_deposit = d_physics_4 }
						10 = { add_deposit = d_physics_3 }
						20 = { add_deposit = d_physics_2 }
						25 = { add_deposit = d_physics_1 }
					}
					random_list = {
						5 = { add_deposit = d_society_10 }
						5 = { add_deposit = d_society_9 }
						5 = { add_deposit = d_society_8 }
						5 = { add_deposit = d_society_7 }
						5 = { add_deposit = d_society_6 }
						10 = { add_deposit = d_society_5 }
						10 = { add_deposit = d_society_4 }
						10 = { add_deposit = d_society_3 }
						20 = { add_deposit = d_society_2 }
						25 = { add_deposit = d_society_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				NOT = { has_moon = yes }
				NOT = { is_moon = yes }
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
						}
					}
				}
			}	
			random_list = {
				25 = { 
					change_pc = pc_hot_gas_giant
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_exotic_gases_5 }
						10 = { add_deposit = d_exotic_gases_4 }
						20 = { add_deposit = d_exotic_gases_3 }
						20 = { add_deposit = d_exotic_gases_2 }
						40 = { add_deposit = d_exotic_gases_1 }
					}
				}
				75 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				NOT = { has_moon = yes }
				NOT = { is_moon = yes }
				solar_system = { 
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
						}
					}
				}
			}	
			random_list = {
				35 = { 
					change_pc = pc_cloudless_gas_giant
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_society_10 }
						5 = { add_deposit = d_society_9 }
						5 = { add_deposit = d_society_8 }
						5 = { add_deposit = d_society_7 }
						5 = { add_deposit = d_society_6 }
						10 = { add_deposit = d_society_5 }
						10 = { add_deposit = d_society_4 }
						10 = { add_deposit = d_society_3 }
						20 = { add_deposit = d_society_2 }
						25 = { add_deposit = d_society_1 }
					}
					random_list = {
						5 = { add_deposit = d_engineering_10 }
						5 = { add_deposit = d_engineering_9 }
						5 = { add_deposit = d_engineering_8 }
						5 = { add_deposit = d_engineering_7 }
						5 = { add_deposit = d_engineering_6 }
						10 = { add_deposit = d_engineering_5 }
						10 = { add_deposit = d_engineering_4 }
						10 = { add_deposit = d_engineering_3 }
						20 = { add_deposit = d_engineering_2 }
						25 = { add_deposit = d_engineering_1 }
					}
				}
				75 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_gas_giant
				solar_system = { 
					NOT = { has_star_flag = empire_home_system } 
					star = {
						OR = {
							is_star_class = sc_m
							is_star_class = sc_m_giant
							is_star_class = sc_k
							is_star_class = sc_g
						}
					}
				}
			}	
			random_list = {
				15 = { 
					change_pc = pc_cold_gas_giant
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_physics_10 }
						5 = { add_deposit = d_physics_9 }
						5 = { add_deposit = d_physics_8 }
						5 = { add_deposit = d_physics_7 }
						5 = { add_deposit = d_physics_6 }
						10 = { add_deposit = d_physics_5 }
						10 = { add_deposit = d_physics_4 }
						10 = { add_deposit = d_physics_3 }
						20 = { add_deposit = d_physics_2 }
						25 = { add_deposit = d_physics_1 }
					}
					random_list = {
						5 = { add_deposit = d_engineering_10 }
						5 = { add_deposit = d_engineering_9 }
						5 = { add_deposit = d_engineering_8 }
						5 = { add_deposit = d_engineering_7 }
						5 = { add_deposit = d_engineering_6 }
						10 = { add_deposit = d_engineering_5 }
						10 = { add_deposit = d_engineering_4 }
						10 = { add_deposit = d_engineering_3 }
						20 = { add_deposit = d_engineering_2 }
						25 = { add_deposit = d_engineering_1 }
					}
				}
				85 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_toxic
				solar_system = { 
					NOT = { has_star_flag = empire_home_system } 
					#star = {
					#	OR = {
					#		is_star_class = sc_m
					#		is_star_class = sc_m_giant
					#		is_star_class = sc_k
					#		is_star_class = sc_g
					#	}
					#}
				}
			}	
			random_list = {
				10 = {
					change_pc = pc_ethane_ocean
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_volatile_motes_5 }
						10 = { add_deposit = d_volatile_motes_4 }
						20 = { add_deposit = d_volatile_motes_3 }
						20 = { add_deposit = d_volatile_motes_2 }
						40 = { add_deposit = d_volatile_motes_1 }
					}
				}
				90 = { } 
			}
		}
	}
}

#Lost Colony PD Rare Fix
country_event = {
	id = pdengine.46
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_galaxy_planet = { 
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_salt
				}
				random_list = {
					20 = { change_pc = pc_desert }
					20 = { change_pc = pc_sandsea }
					20 = { change_pc = pc_outback }
					20 = { change_pc = pc_coastal }
					20 = { change_pc = pc_oasis }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_aquifer
				}
				random_list = {
					20 = { change_pc = pc_desert }
					20 = { change_pc = pc_sandsea }
					20 = { change_pc = pc_outback }
					20 = { change_pc = pc_coastal }
					20 = { change_pc = pc_oasis }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_superhabitable
				}
				random_list = {
					20 = { change_pc = pc_continental	reroll_planet = yes	}		
					20 = { change_pc = pc_forest reroll_planet = yes }		
					20 = { change_pc = pc_retinal reroll_planet = yes }		
					20 = { change_pc = pc_lake reroll_planet = yes }	
					20 = { change_pc = pc_tepid reroll_planet = yes }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_geothermal
				}
				random_list = {
					20 = { change_pc = pc_tropical }
					20 = { change_pc = pc_hajungle }
					20 = { change_pc = pc_cenote }
					20 = { change_pc = pc_mangrove }
					20 = { change_pc = pc_desertislands }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_biolumen
				}
				random_list = {
					20 = { change_pc = pc_tropical }
					20 = { change_pc = pc_hajungle }
					20 = { change_pc = pc_cenote }
					20 = { change_pc = pc_mangrove }
					20 = { change_pc = pc_desertislands }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_karst
				}
				random_list = {
					20 = { change_pc = pc_ocean }
					20 = { change_pc = pc_cascadian }
					20 = { change_pc = pc_wetswamp }
					20 = { change_pc = pc_fog }
					20 = { change_pc = pc_subarctic }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_reef
				}
				random_list = {
					20 = { change_pc = pc_ocean }
					20 = { change_pc = pc_cascadian }
					20 = { change_pc = pc_wetswamp }
					20 = { change_pc = pc_fog }
					20 = { change_pc = pc_subarctic }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_megaflora
				}
				random_list = {
					20 = { change_pc = pc_continental	reroll_planet = yes	}		
					20 = { change_pc = pc_forest reroll_planet = yes }		
					20 = { change_pc = pc_retinal reroll_planet = yes }		
					20 = { change_pc = pc_lake reroll_planet = yes }	
					20 = { change_pc = pc_tepid reroll_planet = yes }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_aquatic
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_primal
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_tidallylocked
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_supercon
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_coral
				}
				random_list = {
					20 = { change_pc = pc_arid }
					20 = { change_pc = pc_mesa }
					20 = { change_pc = pc_badlands }
					20 = { change_pc = pc_hadesert }
					20 = { change_pc = pc_med }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_storm
				}
				random_list = {
					20 = { change_pc = pc_arctic }
					20 = { change_pc = pc_antarctic }
					20 = { change_pc = pc_glacial }
					20 = { change_pc = pc_frozen_desert }
					20 = { change_pc = pc_aeolian }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_rogue
				}
				random_list = {
					20 = { change_pc = pc_tundra }
					20 = { change_pc = pc_mud }
					20 = { change_pc = pc_basalt }
					20 = { change_pc = pc_mushroom }
					20 = { change_pc = pc_swamp }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_lichen
				}
				random_list = {
					20 = { change_pc = pc_tundra }
					20 = { change_pc = pc_mud }
					20 = { change_pc = pc_basalt }
					20 = { change_pc = pc_mushroom }
					20 = { change_pc = pc_swamp }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_eyeball
				}
				random_list = {
					20 = { change_pc = pc_arctic }
					20 = { change_pc = pc_antarctic }
					20 = { change_pc = pc_glacial }
					20 = { change_pc = pc_frozen_desert }
					20 = { change_pc = pc_aeolian }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_glacio
				}
				random_list = {
					20 = { change_pc = pc_alpine }
					20 = { change_pc = pc_boreal }
					20 = { change_pc = pc_highland }
					20 = { change_pc = pc_snow }
					20 = { change_pc = pc_duneforest }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_lanthanide
				}
				random_list = {
					20 = { change_pc = pc_alpine }
					20 = { change_pc = pc_boreal }
					20 = { change_pc = pc_highland }
					20 = { change_pc = pc_snow }
					20 = { change_pc = pc_duneforest }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_ammonia
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_sulfur
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_acid
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_methane
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_irradiated
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_ash
				}
				generate_pd_start_deposits_and_blockers = yes
			}
		}
	}
}

# FloraForge complete
planet_event = {
	id = pdengine.47
	title = pdengine.47.name
	desc = pdengine.47.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_megafloraforge
			is_planet_class = pc_megaflorafort
			is_planet_class = pc_megafloracapital
		}
	}

	option = {
		name = pdengine.47.a
	}
}

# Mars+Venus_Earth Gets Special Pictures/Diffuse
planet_event = {
	id = pdengine.48
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				entity = "gaia_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_pdshroud
			}
			set_planet_entity = {
				entity = "pdshroud_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_dry = yes
			}
			set_planet_entity = {
				entity = "dry_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_cold = yes
			}
			set_planet_entity = {
				entity = "cold_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_wet = yes
			}
			set_planet_entity = {
				entity = "continental_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_nuked
			}
			set_planet_entity = {
				entity = "nuked_planet_earth_entity"
			}
		}		
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_wet = yes
			}
			set_planet_entity = {
				picture = pc_wet_mars
				entity = "wetmars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_dry = yes
			}
			set_planet_entity = {
				picture = pc_dry_mars
				entity = "drymars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_cold = yes
			}
			set_planet_entity = {
				picture = pc_cold_mars
				entity = "coldmars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				picture = pc_wet_mars
				entity = "gaiamars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_cold_gaia
			}
			set_planet_entity = {
				picture = pc_cold_mars
				entity = "coldmars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_hot_gaia
			}
			set_planet_entity = {
				picture = pc_dry_mars
				entity = "drymars_planet_entity"
			}
		}
		#Venus
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_wet = yes
			}
			set_planet_entity = {
				picture = pc_wetvenus
				entity = "wetvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_dry = yes
			}
			set_planet_entity = {
				picture = pc_dryvenus
				entity = "dryvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_cold = yes
			}
			set_planet_entity = {
				picture = pc_coldvenus
				entity = "coldvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				picture = pc_wetvenus
				entity = "gaiavenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_hot_gaia
			}
			set_planet_entity = {
				picture = pc_dryvenus
				entity = "dryvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_cold_gaia
			}
			set_planet_entity = {
				picture = pc_coldvenus
				entity = "coldvenus_planet_entity"
			}
		}
	}
}

#Change Planet to Irradiated
planet_event = {
	id = pdengine.49
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		change_pc = pc_irradiated
		hidden_effect = {
			remove_modifier = radiotrophic
			add_modifier = {
				modifier = radiotrophic
				days = -1
			}
			add_deposit = d_rad_blooms_field
		}
	}
}

#TOL Hive Can Turn Barren into Forest
planet_event = {
	id = pdengine.50
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		change_pc = pc_forest
		remove_modifier = terraforming_candidate
		remove_modifier = pdintoaforest
		reroll_planet = yes
		clear_blockers = yes
	}
}


# Randomize Necroids Starting Worlds for PD
country_event = {
	id = pdengine.51
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		has_origin = origin_necrophage
	}

	immediate = {
		capital_scope.solar_system = {
			closest_system = {
				limit = { has_star_flag = neighbor_t1_first_colony }
				max_steps = 3
				random_system_planet = {
					limit = {
						#is_colonizable = yes
						has_planet_flag = prescripted_ideal
					}
					if = {
						limit = {
							is_planet_class = pc_salt
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pdsalt
					}
					if = {
						limit = {
							is_planet_class = pc_aquifer
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pdaquifer
					}
					if = {
						limit = {
							is_planet_class = pc_superhabitable
						}
						random_list = {
							20 = { change_pc = pc_continental }		
							20 = { change_pc = pc_retinal}			
							20 = { change_pc = pc_forest }	
							20 = { change_pc = pc_lake }	
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = superhabitable
					}
					if = {
						limit = {
							is_planet_class = pc_geothermal
						}
						random_list = {
							20 = { change_pc = pc_desertislands	}		
							20 = { change_pc = pc_tropical }		
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						remove_modifier = geothermal
						reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_biolumen
						}
						random_list = {
							20 = { change_pc = pc_desertislands	}		
							20 = { change_pc = pc_tropical }		
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = biolumen
					}
					if = {
						limit = {
							is_planet_class = pc_karst
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = karst
					}
					if = {
						limit = {
							is_planet_class = pc_reef
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdreef
					}
					if = {
						limit = {
							is_planet_class = pc_megaflora
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdmegaflora
					}
					if = {
						limit = {
							is_planet_class = pc_aquatic
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_primal
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }
						}
						reroll_deposits = yes
						remove_modifier = primal
					}
					if = {
						limit = {
							is_planet_class = pc_tidallylocked
						}
						random_list = {
							20 = { change_pc = pc_savannah }
							20 = { change_pc = pc_prairie }
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_supercon
						}
						random_list = {
							20 = { change_pc = pc_savannah }
							20 = { change_pc = pc_prairie }
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_coral
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }
						}
						reroll_deposits = yes
						remove_modifier = pdcoral
					}
					if = {
						limit = {
							is_planet_class = pc_storm
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
						remove_modifier = pdstorm
					}
					if = {
						limit = {
							is_planet_class = pc_rogue
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdrogue
					}
					if = {
						limit = {
							is_planet_class = pc_lichen
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdlichen
					}
					if = {
						limit = {
							is_planet_class = pc_eyeball
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
						remove_modifier = pdeyeball
					}
					if = {
						limit = {
							is_planet_class = pc_glacio
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pdglacio
					}
					if = {
						limit = {
							is_planet_class = pc_lanthanide
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pdlanthanide
					}
					if = {
						limit = {
							is_planet_class = pc_ammonia
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sulfur
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_acid
						}
						change_pc = rl_habitable_normal
						remove_modifier = pdacid
						reroll_deposits = yes
						#reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_methane
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_irradiated
						}
						change_pc = rl_habitable_normal
						reroll_deposits = yes
						remove_modifier = radiotrophic
					}
					if = {
						limit = {
							is_planet_class = pc_ash
						}
						reroll_deposits = yes
						add_deposit = d_lava_lakes
					}
					if = {
						limit = {
							is_planet_class = pc_continental
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_retinal
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_forest
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_lake
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tepid
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_ocean
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cascadian
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_wetswamp
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_fog
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_subarctic
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tropical
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cenote
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desertislands
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mangrove
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hajungle
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desert
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sandsea
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_oasis
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_outback
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_coastal
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arid
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mesa
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_badlands
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hadesert
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_med
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_savannah
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_steppe
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_prairie
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_veld
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_semiarid
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_frozen_desert
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_glacial
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_antarctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_aeolian
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_alpine
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_boreal
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_snow
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_highland
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_duneforest
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tundra
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_swamp
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mushroom
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mud
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_basalt
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
				}
			}
			closest_system = {
				limit = { has_star_flag = neighbor_t2_second_colony }
				max_steps = 6
				random_system_planet = {
					limit = {
						#is_colonizable = yes
						has_planet_flag = prescripted_ideal
					}
					if = {
						limit = {
							is_planet_class = pc_salt
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
						remove_modifier = pdsalt
					}
					if = {
						limit = {
							is_planet_class = pc_aquifer
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
						remove_modifier = pdaquifer
					}
					if = {
						limit = {
							is_planet_class = pc_superhabitable
						}
						random_list = {
							20 = { change_pc = pc_continental }		
							20 = { change_pc = pc_retinal}			
							20 = { change_pc = pc_forest }	
							20 = { change_pc = pc_lake }	
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = superhabitable
					}
					if = {
						limit = {
							is_planet_class = pc_geothermal
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						remove_modifier = geothermal
						reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_biolumen
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = biolumen
					}
					if = {
						limit = {
							is_planet_class = pc_karst
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = karst
					}
					if = {
						limit = {
							is_planet_class = pc_reef
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdreef
					}
					if = {
						limit = {
							is_planet_class = pc_megaflora
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdmegaflora
					}
					if = {
						limit = {
							is_planet_class = pc_aquatic
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_primal
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }	
						}
						reroll_deposits = yes
						remove_modifier = primal
					}
					if = {
						limit = {
							is_planet_class = pc_tidallylocked
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_supercon
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_coral
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }	
						}
						reroll_deposits = yes
						remove_modifier = pdcoral
					}
					if = {
						limit = {
							is_planet_class = pc_storm
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
						remove_modifier = pdstorm
					}
					if = {
						limit = {
							is_planet_class = pc_rogue
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdrogue
					}
					if = {
						limit = {
							is_planet_class = pc_lichen
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdlichen
					}
					if = {
						limit = {
							is_planet_class = pc_eyeball
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
						remove_modifier = pdeyeball
					}
					if = {
						limit = {
							is_planet_class = pc_glacio
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
						remove_modifier = pdglacio
					}
					if = {
						limit = {
							is_planet_class = pc_lanthanide
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
						remove_modifier = pdlanthanide
					}
					if = {
						limit = {
							is_planet_class = pc_ammonia
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sulfur
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_acid
						}
						change_pc = rl_habitable_normal
						remove_modifier = pdacid
						reroll_deposits = yes
						#reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_methane
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_irradiated
						}
						change_pc = rl_habitable_normal
						reroll_deposits = yes
						remove_modifier = radiotrophic
					}
					if = {
						limit = {
							is_planet_class = pc_ash
						}
						reroll_deposits = yes
						add_deposit = d_lava_lakes
					}
					if = {
						limit = {
							is_planet_class = pc_continental
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_retinal
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_forest
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_lake
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tepid
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_ocean
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cascadian
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_wetswamp
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_fog
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_subarctic
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tropical
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desertislands
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mangrove
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hajungle
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cenote
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desert
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sandsea
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_oasis
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_outback
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_coastal
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arid
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mesa
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_badlands
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hadesert
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_med
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_savannah
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_steppe
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_prairie
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_veld
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_semiarid
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_frozen_desert
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_glacial
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_antarctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_aeolian
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_alpine
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_boreal
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_snow
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_highland
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_duneforest
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tundra
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_swamp
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mushroom
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mud
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_basalt
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
				}
			}
		}
	}
}

#Levithan Storm World Origin
#country_event = {
#	id = pdengine.52
#	hide_window = yes
#	is_triggered_only = yes
#
#	trigger = {
#		owner = { has_origin = origin_pd_storm }
#	}
#
#   	immediate = {
#		every_galaxy_planet = {
#			limit = { is_planet_class = pc_storm is_capital = yes owner = { has_origin = origin_pd_storm } }
#			set_planet_flag = pd_storm_planet
#			add_deposit = d_storm_waters
#		}
#		every_galaxy_planet = {
#			limit = { has_planet_flag = pd_remove_storm_event }
#			remove_deposit = d_storm_waters
#			set_planet_flag = pdnoseamonster
#		}
#	}
#}

#Coral World Mystery Origin
#country_event = {
#	id = pdengine.53
#	hide_window = yes
#	is_triggered_only = yes
#
#	trigger = {
#		owner = { has_origin = origin_pd_coral }
#	}
#
#  	immediate = {
#		every_galaxy_planet = {
#			limit = { is_planet_class = pc_coral is_capital = yes owner = { has_origin = origin_pd_coral } }
#			set_planet_flag = pd_coral_planet
#			set_planet_flag = pd_coral_event
#			add_modifier = { modifier = pdaquaticpreservation days = -1 }
#			planet_event = { id = pdcoral.10 days = 10 }
#		}
#		every_galaxy_planet = {
#			limit = { has_planet_flag = pd_remove_coral_event }
#			set_planet_flag = pdnocoralevent
#			remove_planet_flag = pd_coral_event
#		}
#	}
#}

# Milarc complete
planet_event = {
	id = pdengine.54
	title = pdengine.54.name
	desc = pdengine.54.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_milarc
	}

	option = {
		name = pdengine.54.a
	}
}

#Exotic Ringworld Start
planet_event = {
	id = pdengine.55
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_remnants }
	}

	immediate = {
		if = {
			limit = { owner = { has_trait = trait_pc_ammonia_preference } }
			add_modifier = { modifier = pdammoniaatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_sulfur_preference } }
			add_modifier = { modifier = pdsulfuratmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_methane_preference } }
			add_modifier = { modifier = pdmethaneatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_ash_preference } }
			add_modifier = { modifier = pdashatmosphere days = -1 }	
		}
	}
}

# Infested to Barren after Orbital Bombardment
planet_event = {
	id = pdengine.60
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_infested
	}

	immediate = {
		pd_remove_special_deposits_modifiers = yes	
	}
}

# Ecumenopolis complete
planet_event = {
	id = pdengine.61
	title = pdengine.61.name
	desc = pdengine.61.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_palacearc
			is_planet_class = pc_capitalarc
		}
	}

	option = {
		name = pdengine.61.a
	}
}

country_event = {
	id = pdengine.62
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Fallen Empires Getting Rare Planet Bonuses
	immediate = {
		every_galaxy_planet = { 
			limit = {  
				has_planet_flag = fallen_empire_world
			}	
			IF = { limit = { is_planet_class = pc_superhabitable } 
				IF = { limit = { not = { has_deposit = d_ancient_motes } }
				add_deposit = d_ancient_motes
				}
				IF = { limit = { not = { has_modifier = superhabitable } }
				add_modifier = { modifier = "superhabitable" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_geothermal } 
				IF = { limit = { not = { has_deposit = d_geothermal_slurry_site } }
				add_deposit = d_geothermal_slurry_site
				}
				IF = { limit = { not = { has_modifier = geothermal } }
				add_modifier = { modifier = "geothermal" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_biolumen } 
				IF = { limit = { not = { has_deposit = d_biolumen_nature_preserve } }
				add_deposit = d_biolumen_nature_preserve
				}
				IF = { limit = { not = { has_modifier = biolumen } }
				add_modifier = { modifier = "biolumen" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_tidallylocked } 
				IF = { limit = { not = { has_deposit = d_nightside_mining_operations } }
				add_deposit = d_nightside_mining_operations
				}
				IF = { limit = { not = { has_modifier = tidal_locked2 } }
				add_modifier = { modifier = "tidal_locked2" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_supercon } 
				IF = { limit = { not = { has_deposit = d_supercon_site } }
				add_deposit = d_supercon_site
				}
				IF = { limit = { not = { has_modifier = supercon } }
				add_modifier = { modifier = "supercon" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_karst } 
				IF = { limit = { not = { has_deposit = d_karst_cave } }
				add_deposit = d_karst_cave
				}
				IF = { limit = { not = { has_modifier = karst } }
				add_modifier = { modifier = "karst" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_reef } 
				IF = { limit = { not = { has_deposit = d_great_reef } }
				add_deposit = d_great_reef
				}
				IF = { limit = { not = { has_modifier = pdreef } }
				add_modifier = { modifier = "pdreef" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_primal } 
				IF = { limit = { not = { has_deposit = d_lava_lakes } }
				add_deposit = d_lava_lakes
				}
				IF = { limit = { not = { has_modifier = primal } }
				add_modifier = { modifier = "primal" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_salt } 
				IF = { limit = { not = { has_deposit = d_salt_caves } }
				add_deposit = d_salt_caves
				}
				IF = { limit = { not = { has_modifier = pdsalt } }
				add_modifier = { modifier = "pdsalt" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_aquifer } 
				IF = { limit = { not = { has_deposit = d_aquifer_cave } }
				add_deposit = d_aquifer_cave
				}
				IF = { limit = { not = { has_modifier = pdaquifer } }
				add_modifier = { modifier = "pdaquifer" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_coral } 
				IF = { limit = { not = { has_deposit = d_coral_fields } }
				add_deposit = d_coral_fields
				}
				IF = { limit = { not = { has_modifier = pdcoral } }
				add_modifier = { modifier = "pdcoral" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_storm } 
				IF = { limit = { not = { has_deposit = d_storm_corridor } }
				add_deposit = d_storm_corridor
				}
				IF = { limit = { not = { has_modifier = pdstorm } }
				add_modifier = { modifier = "pdstorm" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_rogue } 
				IF = { limit = { not = { has_deposit = d_rogue_geo } }
				add_deposit = d_rogue_geo
				}
				IF = { limit = { not = { has_modifier = pdrogue } }
				add_modifier = { modifier = "pdrogue" days = -1 }
				}
			}		
			IF = { limit = { is_planet_class = pc_lichen } 
				IF = { limit = { not = { has_deposit = d_lichen_forest } }
				add_deposit = d_lichen_forest
				}
				IF = { limit = { not = { has_modifier = pdlichen } }
				add_modifier = { modifier = "pdlichen" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_eyeball } 
				IF = { limit = { not = { has_deposit = d_eyeball_site } }
				add_deposit = d_eyeball_site
				}
				IF = { limit = { not = { has_modifier = pdeyeball } }
				add_modifier = { modifier = "pdeyeball" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_glacio } 
				IF = { limit = { not = { has_deposit = d_glacio_lake } }
				add_deposit = d_glacio_lake
				}
				IF = { limit = { not = { has_modifier = pdglacio } }
				add_modifier = { modifier = "pdglacio" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_lanthanide } 
				IF = { limit = { not = { has_deposit = d_lanthanide_deposit } }
				add_deposit = d_lanthanide_deposit
				}
				IF = { limit = { not = { has_modifier = pdlanthanide } }
				add_modifier = { modifier = "pdlanthanide" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_megaflora } 
				IF = { limit = { not = { has_deposit = d_megaflora_deposit } }
				add_deposit = d_megaflora_deposit
				}
				IF = { limit = { not = { has_modifier = pdmegaflora } }
				add_modifier = { modifier = "pdmegaflora" days = -1 }
				}
			}	
			IF = { limit = { OR = { is_planet_class = pc_aquatic is_planet_class = pc_tidallyaquatic } }
				IF = { limit = { not = { has_deposit = d_aquatic_trench } }
				add_deposit = d_aquatic_trench
				}
				IF = { limit = { not = { has_modifier = aquatic } }
				add_modifier = { modifier = "aquatic" days = -1 }
				}
			}	
		}
	}
}

# CorpoArc Complete
planet_event = {
	id = pdengine.64
	title = pdengine.64.name
	desc = pdengine.64.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_corpoarc
	}

	option = {
		name = pdengine.64.a
	}
}

country_event = {
	id = pdengine.65
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Crucible Start

	trigger = {	owner = { has_origin = origin_crucible_world } }

	immediate = {
		if = { limit = { owner = { has_origin = origin_crucible_world }	}
			every_galaxy_planet = { 
				limit = { 
					has_planet_flag = pd_crucible_homeplanet 
					FROM = { owner = { has_origin = origin_crucible_world } }
				}
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
			}
			every_galaxy_planet = { 
				limit = { 
					has_planet_flag = pd_crucible_planet_origin 
					is_planet_class = pc_shielded
					FROM = { space_owner = { has_origin = origin_crucible_world } }
				}
				enable_special_project = { name = pd_crucible_shieldbreaker }
			}
		}
	}
}

country_event = {
	id = pdengine.66
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Crucible Start

	trigger = {	NOT = { owner = { has_origin = origin_crucible_world } } }

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				has_planet_flag = pd_crucible_planet 
				is_planet_class = pc_shielded
				}
			create_archaeological_site = pdcrucible_site
		}
	}
}

country_event = {
	id = pdengine.67
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Archive Start

	trigger = {	NOT = { owner = { has_origin = origin_archive_world } } }

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				has_planet_flag = archive_planet_notorigin 
				is_planet_class = pc_archive
				}
			create_archaeological_site = pdarchive_site
		}
	}
}

#Rare Terraforming
country_event = {
	id = pdengine.68
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		IF = { 
			limit = { 
				OR = {
					galaxy_size = tiny 
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 11 
						planet_size < 26 
						is_moon = no 
						is_homeworld = no
						solar_system = { any_system_planet = { is_planet_class = pc_m_star } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_tidallylocked_barren 
					clear_planet_modifiers = yes 
					remove_modifier = terraforming_candidate
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_tidallocked }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_barren_cold 
							is_planet_class = pc_broken
						}
						planet_size > 11 
						planet_size < 26 
						is_moon = no
						is_homeworld = no 
						solar_system = { any_system_planet = { is_planet_class = pc_black_hole } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_rogue_barren 
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_rogue }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_lanthanide }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_karst }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_geothermal }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 25 
						planet_size < 31
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_superhabitable }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_salt }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_molten 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_primal }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_society_5 
					add_modifier = { modifier = pdterra_aquatic }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_glacial 
							is_planet_class = pc_arctic 
							is_planet_class = pc_frozen_desert
							is_planet_class = pc_aeolian 
							is_planet_class = pc_antarctic 
						}
						is_homeworld = no  
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_glacial
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_storm }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tundra 
							is_planet_class = pc_mushroom 
							is_planet_class = pc_mud
							is_planet_class = pc_swamp
							is_planet_class = pc_basalt 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tundra
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_lichen }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_alpine 
							is_planet_class = pc_boreal 
							is_planet_class = pc_highland
							is_planet_class = pc_duneforest
							is_planet_class = pc_snow 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_alpine
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_glacio }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_continental 
							is_planet_class = pc_forest 
							is_planet_class = pc_retinal
							is_planet_class = pc_tepid
							is_planet_class = pc_lake 
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_forest
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_megaflora }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tropical 
							is_planet_class = pc_mangrove 
							is_planet_class = pc_hajungle
							is_planet_class = pc_cenote
							is_planet_class = pc_desertislands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tropical
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_biolumen }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_ocean 
							is_planet_class = pc_fog 
							is_planet_class = pc_cascadian
							is_planet_class = pc_subarctic
							is_planet_class = pc_wetswamp
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							has_planet_flag = living_planet
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_reef
						}
					}
					change_pc = pc_ocean
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_reef }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_sandsea 
							is_planet_class = pc_desert 
							is_planet_class = pc_oasis
							is_planet_class = pc_outback
							is_planet_class = pc_coastal
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_aquifer
						}
					}
					change_pc = pc_sandsea
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_aquifer }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_arid 
							is_planet_class = pc_mesa
							is_planet_class = pc_med
							is_planet_class = pc_hadesert
							is_planet_class = pc_badlands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_coral
						}
					}
					change_pc = pc_arid
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_coral }
				}
			}
			while = {
				count = 1
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_savannah 
							is_planet_class = pc_semiarid 
							is_planet_class = pc_steppe
							is_planet_class = pc_prairie
							is_planet_class = pc_veld
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_supercon
						}
					}
					change_pc = pc_savannah
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_supercon }
				}
			}
		}
		IF = { 
			limit = { 
				OR = {
					galaxy_size = small
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 11 
						planet_size < 26 
						is_moon = no 
						is_homeworld = no
						solar_system = { any_system_planet = { is_planet_class = pc_m_star } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_tidallylocked_barren 
					clear_planet_modifiers = yes 
					remove_modifier = terraforming_candidate
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_tidallocked }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_barren_cold 
							is_planet_class = pc_broken
						}
						planet_size > 11 
						planet_size < 26 
						is_moon = no
						is_homeworld = no 
						solar_system = { any_system_planet = { is_planet_class = pc_black_hole } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_rogue_barren 
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_rogue }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_lanthanide }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_karst }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_geothermal }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 25 
						planet_size < 31
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_superhabitable }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_salt }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_molten 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_primal }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_society_5 
					add_modifier = { modifier = pdterra_aquatic }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_glacial 
							is_planet_class = pc_arctic 
							is_planet_class = pc_frozen_desert
							is_planet_class = pc_aeolian 
							is_planet_class = pc_antarctic 
						}
						is_homeworld = no  
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_glacial
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_storm }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tundra 
							is_planet_class = pc_mushroom 
							is_planet_class = pc_mud
							is_planet_class = pc_swamp
							is_planet_class = pc_basalt 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tundra
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_lichen }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_alpine 
							is_planet_class = pc_boreal 
							is_planet_class = pc_highland
							is_planet_class = pc_duneforest
							is_planet_class = pc_snow 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_alpine
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_glacio }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_continental 
							is_planet_class = pc_forest 
							is_planet_class = pc_retinal
							is_planet_class = pc_tepid
							is_planet_class = pc_lake 
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_forest
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_megaflora }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tropical 
							is_planet_class = pc_mangrove 
							is_planet_class = pc_hajungle
							is_planet_class = pc_cenote
							is_planet_class = pc_desertislands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tropical
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_biolumen }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_ocean 
							is_planet_class = pc_fog 
							is_planet_class = pc_cascadian
							is_planet_class = pc_subarctic
							is_planet_class = pc_wetswamp
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							has_planet_flag = living_planet
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_reef
						}
					}
					change_pc = pc_ocean
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_reef }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_sandsea 
							is_planet_class = pc_desert 
							is_planet_class = pc_oasis
							is_planet_class = pc_outback
							is_planet_class = pc_coastal
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_aquifer
						}
					}
					change_pc = pc_sandsea
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_aquifer }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_arid 
							is_planet_class = pc_mesa
							is_planet_class = pc_med
							is_planet_class = pc_hadesert
							is_planet_class = pc_badlands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_coral
						}
					}
					change_pc = pc_arid
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_coral }
				}
			}
			while = {
				count = 2
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_savannah 
							is_planet_class = pc_semiarid 
							is_planet_class = pc_steppe
							is_planet_class = pc_prairie
							is_planet_class = pc_veld
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_supercon
						}
					}
					change_pc = pc_savannah
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_supercon }
				}
			}
		}
		IF = { 
			limit = { 
				OR = {
					galaxy_size = medium
				}
			}
			while = {
				count = 6
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 11 
						planet_size < 26 
						is_moon = no 
						is_homeworld = no
						solar_system = { any_system_planet = { is_planet_class = pc_m_star } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_tidallylocked_barren 
					clear_planet_modifiers = yes 
					remove_modifier = terraforming_candidate
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_tidallocked }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_barren_cold 
							is_planet_class = pc_broken
						}
						planet_size > 11 
						planet_size < 26 
						is_moon = no
						is_homeworld = no 
						solar_system = { any_system_planet = { is_planet_class = pc_black_hole } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_rogue_barren 
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_rogue }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_lanthanide }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_karst }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_geothermal }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 25 
						planet_size < 31
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_superhabitable }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_salt }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_molten 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_primal }
				}
			}
			while = {
				count = 6
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_society_5 
					add_modifier = { modifier = pdterra_aquatic }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_glacial 
							is_planet_class = pc_arctic 
							is_planet_class = pc_frozen_desert
							is_planet_class = pc_aeolian 
							is_planet_class = pc_antarctic 
						}
						is_homeworld = no  
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_glacial
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_storm }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tundra 
							is_planet_class = pc_mushroom 
							is_planet_class = pc_mud
							is_planet_class = pc_swamp
							is_planet_class = pc_basalt 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tundra
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_lichen }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_alpine 
							is_planet_class = pc_boreal 
							is_planet_class = pc_highland
							is_planet_class = pc_duneforest
							is_planet_class = pc_snow 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_alpine
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_glacio }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_continental 
							is_planet_class = pc_forest 
							is_planet_class = pc_retinal
							is_planet_class = pc_tepid
							is_planet_class = pc_lake 
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_forest
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_megaflora }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tropical 
							is_planet_class = pc_mangrove 
							is_planet_class = pc_hajungle
							is_planet_class = pc_cenote
							is_planet_class = pc_desertislands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tropical
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_biolumen }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_ocean 
							is_planet_class = pc_fog 
							is_planet_class = pc_cascadian
							is_planet_class = pc_subarctic
							is_planet_class = pc_wetswamp
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							has_planet_flag = living_planet
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_reef
						}
					}
					change_pc = pc_ocean
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_reef }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_sandsea 
							is_planet_class = pc_desert 
							is_planet_class = pc_oasis
							is_planet_class = pc_outback
							is_planet_class = pc_coastal
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_aquifer
						}
					}
					change_pc = pc_sandsea
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_aquifer }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_arid 
							is_planet_class = pc_mesa
							is_planet_class = pc_med
							is_planet_class = pc_hadesert
							is_planet_class = pc_badlands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_coral
						}
					}
					change_pc = pc_arid
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_coral }
				}
			}
			while = {
				count = 3
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_savannah 
							is_planet_class = pc_semiarid 
							is_planet_class = pc_steppe
							is_planet_class = pc_prairie
							is_planet_class = pc_veld
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_supercon
						}
					}
					change_pc = pc_savannah
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_supercon }
				}
			}
		}
		IF = { 
			limit = { 
				OR = {
					galaxy_size = large
				}
			}
			while = {
				count = 8
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 11 
						planet_size < 26 
						is_moon = no 
						is_homeworld = no
						solar_system = { any_system_planet = { is_planet_class = pc_m_star } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_tidallylocked_barren 
					clear_planet_modifiers = yes 
					remove_modifier = terraforming_candidate
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_tidallocked }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_barren_cold 
							is_planet_class = pc_broken
						}
						planet_size > 11 
						planet_size < 26 
						is_moon = no
						is_homeworld = no 
						solar_system = { any_system_planet = { is_planet_class = pc_black_hole } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_rogue_barren 
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_rogue }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_lanthanide }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_karst }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_geothermal }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 25 
						planet_size < 31
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_superhabitable }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_salt }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_molten 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_primal }
				}
			}
			while = {
				count = 8
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_society_5 
					add_modifier = { modifier = pdterra_aquatic }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_glacial 
							is_planet_class = pc_arctic 
							is_planet_class = pc_frozen_desert
							is_planet_class = pc_aeolian 
							is_planet_class = pc_antarctic 
						}
						is_homeworld = no  
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_glacial
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_storm }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tundra 
							is_planet_class = pc_mushroom 
							is_planet_class = pc_mud
							is_planet_class = pc_swamp
							is_planet_class = pc_basalt 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tundra
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_lichen }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_alpine 
							is_planet_class = pc_boreal 
							is_planet_class = pc_highland
							is_planet_class = pc_duneforest
							is_planet_class = pc_snow 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_alpine
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_glacio }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_continental 
							is_planet_class = pc_forest 
							is_planet_class = pc_retinal
							is_planet_class = pc_tepid
							is_planet_class = pc_lake 
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_forest
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_megaflora }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tropical 
							is_planet_class = pc_mangrove 
							is_planet_class = pc_hajungle
							is_planet_class = pc_cenote
							is_planet_class = pc_desertislands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tropical
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_biolumen }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_ocean 
							is_planet_class = pc_fog 
							is_planet_class = pc_cascadian
							is_planet_class = pc_subarctic
							is_planet_class = pc_wetswamp
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							has_planet_flag = living_planet
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_reef
						}
					}
					change_pc = pc_ocean
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_reef }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_sandsea 
							is_planet_class = pc_desert 
							is_planet_class = pc_oasis
							is_planet_class = pc_outback
							is_planet_class = pc_coastal
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_aquifer
						}
					}
					change_pc = pc_sandsea
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_aquifer }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_arid 
							is_planet_class = pc_mesa
							is_planet_class = pc_med
							is_planet_class = pc_hadesert
							is_planet_class = pc_badlands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_coral
						}
					}
					change_pc = pc_arid
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_coral }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_savannah 
							is_planet_class = pc_semiarid 
							is_planet_class = pc_steppe
							is_planet_class = pc_prairie
							is_planet_class = pc_veld
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_supercon
						}
					}
					change_pc = pc_savannah
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_supercon }
				}
			}
		}
		IF = { 
			limit = { 
				OR = {
					galaxy_size = huge
				}
			}
			while = {
				count = 10
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 11 
						planet_size < 26 
						is_moon = no 
						is_homeworld = no
						solar_system = { any_system_planet = { is_planet_class = pc_m_star } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_tidallylocked_barren 
					clear_planet_modifiers = yes 
					remove_modifier = terraforming_candidate
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_tidallocked }
				}
			}
			while = {
				count = 4
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_barren_cold 
							is_planet_class = pc_broken
						}
						planet_size > 11 
						planet_size < 26 
						is_moon = no
						is_homeworld = no 
						solar_system = { any_system_planet = { is_planet_class = pc_black_hole } } 
						NOR = { 
							has_moon = yes  
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
					}
					change_pc = pc_rogue_barren 
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_physics_5 
					add_modifier = { modifier = pdterra_rogue }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_lanthanide }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren_cold 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_karst }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 11 
						planet_size < 26 
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_geothermal }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 25 
						planet_size < 31
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_superhabitable }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_barren 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_minerals_5 
					add_modifier = { modifier = pdterra_salt }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_molten 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_alloys_5 
					add_modifier = { modifier = pdterra_primal }
				}
			}
			while = {
				count = 10
				random_galaxy_planet = { 		
					limit = { 
						is_planet_class = pc_frozen 
						planet_size > 10 
						planet_size < 26
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } } 
						}
					clear_planet_modifiers = yes 
					clear_deposits = yes  
					add_deposit = d_society_5 
					add_modifier = { modifier = pdterra_aquatic }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_glacial 
							is_planet_class = pc_arctic 
							is_planet_class = pc_frozen_desert
							is_planet_class = pc_aeolian 
							is_planet_class = pc_antarctic 
						}
						is_homeworld = no  
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_glacial
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_storm }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tundra 
							is_planet_class = pc_mushroom 
							is_planet_class = pc_mud
							is_planet_class = pc_swamp
							is_planet_class = pc_basalt 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tundra
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_lichen }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_alpine 
							is_planet_class = pc_boreal 
							is_planet_class = pc_highland
							is_planet_class = pc_duneforest
							is_planet_class = pc_snow 
						}
						is_homeworld = no 
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_alpine
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_glacio }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_continental 
							is_planet_class = pc_forest 
							is_planet_class = pc_retinal
							is_planet_class = pc_tepid
							is_planet_class = pc_lake 
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_forest
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_megaflora }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_tropical 
							is_planet_class = pc_mangrove 
							is_planet_class = pc_hajungle
							is_planet_class = pc_cenote
							is_planet_class = pc_desertislands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_storm
						}
					}
					change_pc = pc_tropical
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_biolumen }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_ocean 
							is_planet_class = pc_fog 
							is_planet_class = pc_cascadian
							is_planet_class = pc_subarctic
							is_planet_class = pc_wetswamp
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = living_planet
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_reef
						}
					}
					change_pc = pc_ocean
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_reef }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_sandsea 
							is_planet_class = pc_desert 
							is_planet_class = pc_oasis
							is_planet_class = pc_outback
							is_planet_class = pc_coastal
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_aquifer
						}
					}
					change_pc = pc_sandsea
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_aquifer }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_arid 
							is_planet_class = pc_mesa
							is_planet_class = pc_med
							is_planet_class = pc_hadesert
							is_planet_class = pc_badlands
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_coral
						}
					}
					change_pc = pc_arid
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_coral }
				}
			}
			while = {
				count = 5
				random_galaxy_planet = { 		
					limit = { 
						OR = {
							is_planet_class = pc_savannah 
							is_planet_class = pc_semiarid 
							is_planet_class = pc_steppe
							is_planet_class = pc_prairie
							is_planet_class = pc_veld
						}
						is_homeworld = no
						NOR = { 
							has_planet_flag = pd_ignore 
							solar_system = { has_star_flag = empire_cluster } 
							has_modifier = pdterra_supercon
						}
					}
					change_pc = pc_savannah
					set_planet_flag = pd_ignore
					clear_planet_modifiers = yes 
					add_modifier = { modifier = pdterra_supercon }
				}
			}
		}
	}	
}

## Aquatic Paradise Origin

# Initial setup
country_event = {
	id = pdengine.69
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		every_playable_country = {
			limit = { has_origin = origin_aquatic_paradise }
			country_event = { id = pdengine.70 }
		}
	}
}

# Change starting colonisables into Frozen Worlds and nearby asteroids into Ice Asteroids
country_event = {
	id = pdengine.70
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		has_origin = origin_aquatic_paradise
	}

	immediate = {
		capital_scope.solar_system = {
			closest_system = {
				limit = { has_star_flag = neighbor_t1_first_colony }
				max_steps = 3
				random_system_planet = {
					limit = {
						is_colonizable = yes
						is_colony = no
						has_planet_flag = prescripted_ideal
					}
					change_pc = pc_frozen
				}
				random_system_planet = {
					limit = {
						is_asteroid = yes
					}
					change_pc = pc_ice_asteroid
				}
			}
			closest_system = {
				limit = { has_star_flag = neighbor_t2_second_colony }
				max_steps = 6
				random_system_planet = {
					limit = {
						is_colonizable = yes
						is_colony = no
						has_planet_flag = prescripted_ideal
					}
					change_pc = pc_frozen
				}
				random_system_planet = {
					limit = {
						is_asteroid = yes
					}
					change_pc = pc_ice_asteroid
				}
			}
		}
	}
}

planet_event = {
	id = pdengine.71
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_floating_world }
			owner = { has_origin = origin_crystal_world }
			owner = { has_origin = origin_graveyard_world }
			owner = { has_origin = origin_pd_ammonia_breathers }
			owner = { has_origin = origin_pd_ash_tectonic_drillers }
			owner = { has_origin = origin_pd_methane_cryogenics }
			owner = { has_origin = origin_pd_sulfur_springs }
		}	
	}
	immediate = { pd_generate_start_pops = yes }
}

# Check Planet Class for Deposits + Modifiers
planet_event = {
	id = pdengine.72
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = { 
		limit = { is_capital = no }
			remove_deposit = d_pd_capital_arc
			remove_deposit = d_pd_palace_arc
			remove_deposit = d_pd_boardroom_arc
			remove_deposit = d_pd_biohivecap_arc
			remove_deposit = d_pd_machinecap_arc
			pd_remove_special_arc_deposits = yes
		}
		if = { 
		limit = { 
			has_deposit = d_pd_necro_arc
			owner = { 
				OR = {
					NOT = { has_civic = civic_memorialist }
					NOT = { has_civic = civic_death_cult }
					NOT = { has_civic = civic_death_cult_corporate }
					NOT = { has_civic = civic_hive_memorialist }
					NOT = { has_civic = civic_machine_memorialist }
					NOT = { has_civic = civic_death_cult_corporate }
					NOT = { has_origin = origin_necrophage }
				}
			}
		}
			remove_deposit = d_pd_necro_arc
			remove_deposit = d_pd_necro_arc_spot
			pd_remove_special_arc_deposits = yes
		}
		if = { 
		limit = { 
			has_deposit = d_pd_shroud_arc
			OR = {
				NOT = { owner = { has_ascension_perk = ap_transcendence } }
				NOT = { owner = { has_origin =  origin_pd_shroud } }
			}
		}
			remove_deposit = d_pd_shroud_arc
			remove_deposit = d_pd_shroud_arc_spot
			pd_remove_special_arc_deposits = yes
		}
	}
}

# Different Earth Entities on Game Start
country_event = {
	id = pdengine.73
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_galaxy_planet = {
			has_planet_flag = planet_earth
		}
	}

	immediate = {
			every_galaxy_planet = {
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_gaia
				}
				set_planet_entity = {
					entity = "gaia_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_pdshroud
				}
				set_planet_entity = {
					entity = "pdshroud_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_dry = yes
					NOT = { is_planet_class = pc_relic }
				}
				set_planet_entity = {
					entity = "dry_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_cold = yes
				}
				set_planet_entity = {
					entity = "cold_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_wet = yes
				}
				set_planet_entity = {
					entity = "continental_planet_earth_entity"
				}
			}	
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_nuked
				}
				set_planet_entity = {
					entity = "nuked_planet_earth_entity"
				}
			}		
		}
	}
}