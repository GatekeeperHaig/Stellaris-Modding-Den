namespace = sd_test
country_event = {
	id = sd_test.0
	is_triggered_only = yes
	immediate = {
		set_variable = { which = sd_count value = 0 }
		every_country = {
			limit = { has_communications = prev }
			prev = {
				set_variable = { which = sd_check value = sd_orig }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_0
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_1
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_2
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_3
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_4
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_5
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_6
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_7
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_8
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			if = {
				limit = {
					prev = {
						check_variable = { which = sd_count value = sd_check }
					}
				}
				save_global_event_target_as = sd_test_target_9
			}
			prev = {
				change_variable = { which = sd_check value = 1 }
			}
			prev = {
				change_variable = { which = sd_count value = 1 }
			}
		}
		set_variable = { which = sd_orig_0 value = sd_orig }
		change_variable = { which = sd_orig_0 value = 0 }
		set_variable = { which = sd_orig_1 value = sd_orig }
		change_variable = { which = sd_orig_1 value = 1 }
		set_variable = { which = sd_orig_2 value = sd_orig }
		change_variable = { which = sd_orig_2 value = 2 }
		set_variable = { which = sd_orig_3 value = sd_orig }
		change_variable = { which = sd_orig_3 value = 3 }
		set_variable = { which = sd_orig_4 value = sd_orig }
		change_variable = { which = sd_orig_4 value = 4 }
		set_variable = { which = sd_orig_5 value = sd_orig }
		change_variable = { which = sd_orig_5 value = 5 }
		set_variable = { which = sd_orig_6 value = sd_orig }
		change_variable = { which = sd_orig_6 value = 6 }
		set_variable = { which = sd_orig_7 value = sd_orig }
		change_variable = { which = sd_orig_7 value = 7 }
		set_variable = { which = sd_orig_8 value = sd_orig }
		change_variable = { which = sd_orig_8 value = 8 }
		set_variable = { which = sd_orig_9 value = sd_orig }
		change_variable = { which = sd_orig_9 value = 9 }
		set_variable = { which = sd_orig_10 value = sd_orig }
		change_variable = { which = sd_orig_10 value = 10 }
	}
	option = {
		name = sd_UP
		hidden_effect = {
			change_variable = { which = sd_orig value = -10 }
			country_event = { id = sd_test.0 }
		}
		trigger = {
			check_variable = { which = sd_orig value > 0 }
		}
	}
	option = {
		name = sd_option_0
		trigger = {
			check_variable = { which = sd_count value > sd_orig_0 }
		}
	}
	option = {
		name = sd_option_1
		trigger = {
			check_variable = { which = sd_count value > sd_orig_1 }
		}
	}
	option = {
		name = sd_option_2
		trigger = {
			check_variable = { which = sd_count value > sd_orig_2 }
		}
	}
	option = {
		name = sd_option_3
		trigger = {
			check_variable = { which = sd_count value > sd_orig_3 }
		}
	}
	option = {
		name = sd_option_4
		trigger = {
			check_variable = { which = sd_count value > sd_orig_4 }
		}
	}
	option = {
		name = sd_option_5
		trigger = {
			check_variable = { which = sd_count value > sd_orig_5 }
		}
	}
	option = {
		name = sd_option_6
		trigger = {
			check_variable = { which = sd_count value > sd_orig_6 }
		}
	}
	option = {
		name = sd_option_7
		trigger = {
			check_variable = { which = sd_count value > sd_orig_7 }
		}
	}
	option = {
		name = sd_option_8
		trigger = {
			check_variable = { which = sd_count value > sd_orig_8 }
		}
	}
	option = {
		name = sd_option_9
		trigger = {
			check_variable = { which = sd_count value > sd_orig_9 }
		}
	}
	option = {
		name = sd_DOWN
		hidden_effect = {
			change_variable = { which = sd_orig value = 10 }
			country_event = { id = sd_test.0 }
		}
		trigger = {
			check_variable = { which = sd_count value > sd_orig_10 }
		}
	}
}
