namespace = pdengine



# Ecumenopolis complete
planet_event = {
	id = pdengine.09
	title = pdengine.09.name
	desc = pdengine.09.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_ecocity
	}

	option = {
		name = pdengine.09.a
	}
}

# Machine Factory complete
planet_event = {
	id = pdengine.10
	title = pdengine.10.name
	desc = pdengine.10.desc
	picture = GFX_evt_ai_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_machine_factory
	}

	option = {
		name = pdengine.10.a
	}
}

# Bio-Forge complete
planet_event = {
	id = pdengine.11
	title = pdengine.11.name
	desc = pdengine.11.desc
	picture = GFX_evt_hive_mind
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_bioforge
	}

	option = {
		name = pdengine.11.a
	}
}



# City Worlds Remove EE Levels
planet_event = {
	id = pdengine.13
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				OR = {
					is_planet_class = pc_machine
					is_planet_class = pc_gaia
					is_planet_class = pc_hive
				}
			}
		remove_modifier = engineered_environment	
		remove_modifier = engineered_environment2
		remove_modifier = engineered_environment3
		remove_modifier = engineered_environment4
		}
	}
}

# Rare Worlds get Deposits
planet_event = {
	id = pdengine.14
	hide_window = yes
	is_triggered_only = yes

	immediate = { 
		if = { 
		limit = { is_planet_class = pc_geothermal not = { has_deposit = d_geothermal_slurry_site }}
		add_deposit = d_geothermal_slurry_site
		add_modifier = { modifier = "geothermal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_superhabitable not = { has_deposit = d_ancient_motes }}
		add_deposit = d_ancient_motes
		add_modifier = { modifier = "superhabitable" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_biolumen not = { has_deposit = d_biolumen_nature_preserve }}
		add_deposit = d_biolumen_nature_preserve
		add_modifier = { modifier = "biolumen" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_tidallylocked not = { has_deposit = d_nightside_mining_operations }}
		add_deposit = d_nightside_mining_operations
		add_modifier = { modifier = "tidal_locked2" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_karst not = { has_deposit = d_karst_cave }}
		add_deposit = d_karst_cave
		add_modifier = { modifier = "karst" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_primal not = { has_deposit = d_lava_lakes }}
		add_deposit = d_lava_lakes
		add_modifier = { modifier = "primal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_ammonia not = { has_deposit = d_ammonia_sea }}
		add_deposit = d_lava_lakes
		add_modifier = { modifier = "ammonia" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_methane not = { has_deposit = d_frozen_gas_mountain }}
		add_deposit = d_lava_lakes
		add_modifier = { modifier = "methane" days = -1 }
		}
	}
}

country_event = {
	id = pdengine.15
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Radiotrophic
	immediate = {
		every_planet = { 
			limit = {  
				is_planet_class = pc_nuked
				solar_system = { not = { has_star_flag = ratling_system } }
				not = { has_owner = yes }
			}	
			random_list = {
				30 = { 
					change_pc = pc_irradiated	
					add_modifier = {
						modifier = "radiotrophic"
						days = -1
						}	
					add_deposit = d_rad_blooms	
		 			}
				70 = { }	
			}
		}
	}
}