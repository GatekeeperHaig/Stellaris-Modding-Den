@lots = 10
@lotsandlots = 20

@infcosthigh = 100
@infcostmed = 50
@infcostlow = 25

@engcostcheap = 50
@engcostlow = 75
@engcostmed = 150
@engcosthigh = 300

@mincostcheap = 25
@mincostlow = 50
@mincostmed = 125
@mincosthigh = 250

@srlow = 1
@srmed = 2
@srhigh = 4

@buildquick = 90
@buildnormal = 180
@buildlong = 360
@buildhuge = 720

@weightnormal = 1
@weightuseful = 2
@weightimportant = 10
@weightcritical = 25

@b0effect = 1
@b1effect = 1.5
@b2effect = 2
@b3effect = 3
@b4effect = 4
@b5effect = 5

@b1upkeep = 1
@b2upkeep = 1.5
@b3upkeep = 2
@b4upkeep = 3
@b5upkeep = 5

building_colony_control_pre = {
	base_buildtime = 30
	planet_unique = yes
	
	cost = {
		energy = 10
	}
	
	required_resources = {
		energy = 1
	}
	
	produced_resources = {
		food = @b0effect
		minerals = @b0effect
	}

	adjacency_bonus = {
		tile_building_resource_food_add = 1
	}
	
	planet_modifier = {
		planet_building_build_speed_mult = 0.1
		planet_migration_all_pull = 0.05
	}
	
	potential = {
		planet = {
			NOT = { has_modifier = "capital" }
			owner = {
				exists = owner
				not = { has_technology = tech_alpha_colony_control }
				not = { has_ethic = ethic_gestalt_consciousness }
			}
		}	
	}
	
	destroy_if = {
		exists = owner
		owner = { has_authority = auth_machine_intelligence }
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_colonyship"
			tile = {
				any_neighboring_tile = {
					OR = {
						has_building = "building_colony_shelter"
						has_building = "building_capital_1"
						has_building = "building_capital_2"
						has_building = "building_exo_ops"
						has_building = "building_hab_capital"
					}
				}
			}
		}		
	}
	

	
	ai_allow = { has_food_or_minerals_deposit = yes }
	ai_replace = no	
	ai_weight = { weight = 250 }

	upgrades = { building_colony_control }
}

building_colony_control = {
	base_buildtime = 90
	planet_unique = yes
	
	cost = {
		minerals = @mincostlow
		energy = @engcostcheap
	}
	
	required_resources = {
		energy = 1
	}
	
	produced_resources = {
		unity = 1
		food = @b1effect
		minerals = @b0effect
	}

	adjacency_bonus = {
		tile_building_resource_food_add = 1
		tile_building_resource_minerals_add = 1
	}
	
	planet_modifier = {
		planet_building_build_speed_mult = 0.2
		planet_migration_all_pull = 0.05
	}
	
	potential = {
		planet = {
			NOT = { has_modifier = "capital" }
			owner = {
				exists = owner
				not = { has_ethic = ethic_gestalt_consciousness }
			}
		}	
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_adjacent_colonyship"
			tile = {
				any_neighboring_tile = {
					OR = {
						has_building = "building_colony_shelter"
						has_building = "building_capital_1"
						has_building = "building_capital_2"
						has_building = "building_exo_ops"
						has_building = "building_hab_capital"
					}
				}
			}
		}		
	}
	
	destroy_if = {
		exists = owner
		owner = { has_authority = auth_machine_intelligence }
	}
	
	ai_allow = {
		or = {
			has_resource = no
			has_food_or_minerals_deposit = yes
		}
	}
	
	prerequisites = { "tech_alpha_colony_control" }
	ai_replace = no	
	ai_weight = { weight = 100 }
	
	upgrades = {
		building_libraryofadministration
		building_chamberofexecutives
		building_hallofwarriors
		building_governerspalace
		building_templeofrule
		building_councilhall
		building_colony_control2
	}
}

building_colony_control2 = {
	base_buildtime = 180
	planet_unique = yes
	is_listed = no
	
	cost = {
		minerals = @mincostmed
		energy = @engcostlow
	}
	
	required_resources = {
		energy = 1.5
	}
	
	produced_resources = {
		unity = 2
		food = @b2effect
		minerals = @b1effect
	}

	adjacency_bonus = {
		tile_building_resource_food_add = 1
		tile_building_resource_minerals_add = 1
	}
	
	planet_modifier = {
		planet_building_build_speed_mult = 0.25
		planet_migration_all_pull = 0.1
		planet_unrest_mult = -0.1
	}
	
	potential = {
		planet = {
			OR = {
				has_building = "building_capital_1"
				has_building = "building_capital_2"
				has_building = "building_exo_ops"
				has_building = "building_hab_capital"
			}
			exists = owner
			owner = {
				or = {
					has_technology = tech_colonial_administrations_alpha
					has_technology = tech_colonial_corporations_alpha
					has_technology = tech_colonial_warlords_alpha
					has_technology = tech_colonial_dictatorship_alpha
					has_technology = tech_colonial_spiritualleaders_alpha
					has_technology = tech_colonial_councils_alpha
				}
			}
		}
	}
	
	destroy_if = {
		exists = owner
		owner = { has_authority = auth_machine_intelligence }
	}

	ai_replace = no
	ai_weight = { weight = 0 }
}