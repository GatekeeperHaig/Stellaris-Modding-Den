#This file was created by script!
#Instead of editing it, you should change the origin files or the script and rerun the script!
#Python files that can be directly used for a rerun (storing all parameters from the last run) should be in the main directory
 #### Power Plant Buildings
building_power_plant_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NAND = {
			owner = { has_technology = "tech_power_plant_2" }
			requires_capital_1 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_power_plant_2 }
	 #resource output and modifiers
	produced_resources = { energy = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = energy amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = energy amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = energy amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = energy amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = energy amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = energy amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_power_plant_2_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_power_plant_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_power_plant_3" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_power_plant_3 }
	 #resource output and modifiers
	produced_resources = { energy = 3 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_power_plant_2
}
building_power_plant_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_power_plant_3 }
	 #resource output and modifiers
	produced_resources = { energy = 3 }
	 #ai restrictions and weights
}
building_power_plant_3_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_power_plant_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_power_plant_4" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_power_plant_4 }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_power_plant_3
}
building_power_plant_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_power_plant_4 }
	 #resource output and modifiers
	produced_resources = { energy = 4 }
	 #ai restrictions and weights
}
building_power_plant_4_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_power_plant_4 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_power_plant_4" }
			standard_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_power_plant_5 }
	 #resource output and modifiers
	produced_resources = { energy = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_power_plant_4
}
building_power_plant_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_power_plant_5 }
	 #resource output and modifiers
	produced_resources = { energy = 5 }
	 #ai restrictions and weights
}
building_power_plant_5_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_capital_conditions = yes
		NOT = { has_building = building_power_plant_5 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_power_plant_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { energy = 8 }
	triggered_planet_modifier = {
		key = "power_plant_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_energy_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "power_plant_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_energy_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_power_plant_5
}
building_power_plant_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_power_plant_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { energy = 8 }
	triggered_planet_modifier = {
		key = "power_plant_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_energy_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "power_plant_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_energy_mult = 0.015 }
	}
	 #ai restrictions and weights
}
 #### Mining Network Buildings
building_mining_network_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NAND = {
			owner = { has_technology = "tech_mining_network_2" }
			requires_capital_1 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
			NOT = { tile = { has_building = building_primitive_factory } }
		}
	}
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_network_2 }
	 #resource output and modifiers
	produced_resources = { minerals = 2 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = minerals amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = minerals amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = minerals amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = minerals amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = minerals amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = minerals amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_mining_network_2_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	required_resources = { energy = 1.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_mining_network_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_mining_network_3" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_network_3 }
	 #resource output and modifiers
	produced_resources = { minerals = 3 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_mining_network_2
}
building_mining_network_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_network_3 }
	 #resource output and modifiers
	produced_resources = { minerals = 3 }
	 #ai restrictions and weights
}
building_mining_network_3_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_mining_network_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_mining_network_4" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_network_4 }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_mining_network_3
}
building_mining_network_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_network_4 }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	 #ai restrictions and weights
}
building_mining_network_4_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	required_resources = { energy = 2.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_mining_network_4 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_mining_network_4" }
			standard_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_network_5 }
	 #resource output and modifiers
	produced_resources = { minerals = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_mining_network_4
}
building_mining_network_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_network_5 }
	 #resource output and modifiers
	produced_resources = { minerals = 5 }
	 #ai restrictions and weights
}
building_mining_network_5_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_capital_conditions = yes
		NOT = { has_building = building_mining_network_5 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_mining_network_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { minerals = 7 }
	triggered_planet_modifier = {
		key = "mining_network_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_minerals_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "mining_network_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_minerals_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_mining_network_5
}
building_mining_network_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_mining_network_4" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { minerals = 7 }
	triggered_planet_modifier = {
		key = "mining_network_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_minerals_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "mining_network_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_minerals_mult = 0.015 }
	}
	 #ai restrictions and weights
}
 #### Hydrophonic Farm Buildings
building_hydroponics_farm_1 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_food_conditions = yes
		NAND = {
			owner = { has_technology = "tech_hydroponics" }
			requires_capital_1 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
			NOT = { tile = { has_building = building_primitive_farm } }
		}
	}
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_hydroponics_farm_2 }
	 #resource output and modifiers
	produced_resources = { food = 2 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
building_hydroponics_farm_2_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	required_resources = { energy = 1.5 }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_food_conditions = yes
		NOT = { has_building = building_hydroponics_farm_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_gene_crops" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_hydroponics_farm_3 }
	 #resource output and modifiers
	produced_resources = { food = 3 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_hydroponics_farm_2
}
building_hydroponics_farm_2 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_hydroponics_farm_3 }
	 #resource output and modifiers
	produced_resources = { food = 3 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = { food_buildings_ai_allow = yes }
}
building_hydroponics_farm_3_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	required_resources = { energy = 2 }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_food_conditions = yes
		NOT = { has_building = building_hydroponics_farm_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_nano_vitality_crops" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_hydroponics_farm_4 }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_hydroponics_farm_3
}
building_hydroponics_farm_3 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_hydroponics_farm_4 }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = { food_buildings_ai_allow = yes }
}
building_hydroponics_farm_4_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	required_resources = { energy = 2.5 }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_food_conditions = yes
		NOT = { has_building = building_hydroponics_farm_4 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_nano_vitality_crops" }
			standard_food_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_hydroponics_farm_5 }
	 #resource output and modifiers
	produced_resources = { food = 5 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_hydroponics_farm_4
}
building_hydroponics_farm_4 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_hydroponics_farm_5 }
	 #resource output and modifiers
	produced_resources = { food = 5 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = { food_buildings_ai_allow = yes }
}
building_hydroponics_farm_5_direct_build = {
	 #building defines
	tags = { standard_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	required_resources = { energy = 3 }
	destroy_if = {
		OR = { food_buildings_destroy_conditions = yes planet_is_capital = no }
	}
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_food_capital_conditions = yes
		NOT = { has_building = building_hydroponics_farm_5 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	 #resource output and modifiers
	produced_resources = { food = 7 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_food_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_food_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_hydroponics_farm_5
}
building_hydroponics_farm_5 = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { food_tech_potential = yes new_building_content_enabled = no }
	destroy_if = {
		OR = { food_buildings_destroy_conditions = yes planet_is_capital = no }
	}
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_food_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	 #resource output and modifiers
	produced_resources = { food = 7 }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_food_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "hydroponics_farm_5_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_food_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = { food_buildings_ai_allow = yes }
}
 ### Research Labs
building_basic_science_lab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = 210
	cost = { minerals = @standard_resource_cost_tier_1 }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NAND = {
			owner = { has_technology = "tech_engineering_lab_1" }
			requires_capital_1 = yes
			owner = { has_technology = "tech_physics_lab_1" }
			owner = { has_technology = "tech_biolab_1" }
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = {
		building_engineering_facility_1
		building_physics_lab_1
		building_biolab_1
	}
	 #resource output and modifiers
	produced_resources = {
		engineering_research = 1
		physics_research = 1
		society_research = 1
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = society_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = society_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = society_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = society_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = society_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = society_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = physics_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = physics_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = physics_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = physics_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = physics_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = engineering_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = engineering_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = engineering_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = engineering_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = engineering_research amount > 5 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
 # Engineering Labs
building_engineering_facility_1_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	required_resources = { energy = 1.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_engineering_facility_1 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_engineering_lab_2" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_facility_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
	show_tech_unlock_if = { always = no }
	icon = building_engineering_facility_1
}
building_engineering_facility_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_facility_2 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		engineering_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
	}
}
building_engineering_facility_2_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_engineering_facility_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_engineering_lab_3" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_facility_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_engineering_facility_2
}
building_engineering_facility_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_facility_3 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
}
building_engineering_facility_3_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	required_resources = { energy = 2.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_engineering_facility_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_engineering_lab_3" }
			standard_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_facility_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_engineering_facility_3
}
building_engineering_facility_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_facility_4 }
	 #resource output and modifiers
	produced_resources = { engineering_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
}
building_engineering_facility_4_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_capital_conditions = yes
		NOT = { has_building = building_engineering_facility_4 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { engineering_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_engineering_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_engineering_research_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_engineering_facility_4
}
building_engineering_facility_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { engineering_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { physics_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { physics_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_engineering_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "engineering_facility_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_engineering_research_mult = 0.015 }
	}
	 #ai restrictions and weights
}
 # Physics Labs
building_physics_lab_1_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	required_resources = { energy = 1.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_physics_lab_1 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_physics_lab_2" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
	show_tech_unlock_if = { always = no }
	icon = building_physics_lab_1
}
building_physics_lab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_2 }
	 #resource output and modifiers
	produced_resources = { physics_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		physics_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
	}
}
building_physics_lab_2_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_physics_lab_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_physics_lab_3" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_physics_lab_2
}
building_physics_lab_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_3 }
	 #resource output and modifiers
	produced_resources = { physics_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
}
building_physics_lab_3_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	required_resources = { energy = 2.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_physics_lab_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_physics_lab_3" }
			standard_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_physics_lab_3
}
building_physics_lab_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_4 }
	 #resource output and modifiers
	produced_resources = { physics_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	 #ai restrictions and weights
}
building_physics_lab_4_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_capital_conditions = yes
		NOT = { has_building = building_physics_lab_4 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_physics_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { physics_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_physics_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_physics_research_mult = 0.015 }
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_physics_lab_4
}
building_physics_lab_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_physics_lab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { physics_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 society_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 society_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_physics_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "physics_lab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_physics_research_mult = 0.015 }
	}
	 #ai restrictions and weights
}
 #Biolabs
building_biolab_1_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 345
	cost = { minerals = 150 }
	required_resources = { energy = 1.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_biolab_1 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_biolab_2" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_biolab_2 }
	 #resource output and modifiers
	produced_resources = { society_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = society_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
	show_tech_unlock_if = { always = no }
	icon = building_biolab_1
}
building_biolab_1 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_2 }
	required_resources = { energy = 1.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_biolab_2 }
	 #resource output and modifiers
	produced_resources = { society_research = 2 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		society_research_buildings_ai_allow = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = society_research amount > 0 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
	}
}
building_biolab_2_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 480
	cost = { minerals = 270 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_biolab_2 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_biolab_3" }
			requires_capital_2 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_biolab_3 }
	 #resource output and modifiers
	produced_resources = { society_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_biolab_2
}
building_biolab_2 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_3 }
	required_resources = { energy = 2 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_biolab_3 }
	 #resource output and modifiers
	produced_resources = { society_research = 3 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	 #ai restrictions and weights
}
building_biolab_3_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 615
	cost = { minerals = 420 }
	required_resources = { energy = 2.5 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_conditions = yes
		NOT = { has_building = building_biolab_3 }
		direct_build_enabled = yes
		NAND = {
			owner = { has_technology = "tech_biolab_3" }
			standard_capital_conditions = yes
			requires_capital_3 = yes
			NOT = { owner = { has_country_flag = display_low_tier_flag } }
			has_global_flag = direct_build_enabled
		}
	}
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_biolab_4 }
	 #resource output and modifiers
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_biolab_3
}
building_biolab_3 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 2.5 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_conditions = yes }
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_biolab_4 }
	 #resource output and modifiers
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
}
building_biolab_4_direct_build = {
	 #building defines
	tags = { research_resource_building }
	base_buildtime = 750
	cost = { minerals = 570 }
	required_resources = { energy = 3 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		standard_capital_conditions = yes
		NOT = { has_building = building_biolab_4 }
		direct_build_enabled = yes
	}
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_biolab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { society_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "biolab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_society_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "biolab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_society_research_mult = 0.015 }
	}
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	show_tech_unlock_if = { always = no }
	icon = building_biolab_4
}
building_biolab_4 = {
	 #building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = 180
	cost = { minerals = @standard_resource_cost_tier_4 }
	required_resources = { energy = 3 }
	show_tech_unlock_if = { new_building_content_enabled = no }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes standard_capital_conditions = yes }
	allow = { requires_capital_3 = yes }
	prerequisites = { "tech_biolab_3" }
	destroy_if = { planet_is_capital = no }
	 #resource output and modifiers
	produced_resources = { society_research = 6 }
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { engineering_research = 1 physics_research = 1 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { engineering_research = 1 physics_research = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "biolab_4_regular_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = no }
		modifier = { tile_resource_society_research_mult = 0.01 }
	}
	triggered_planet_modifier = {
		key = "biolab_4_ringworld_capital_modifier"
		potential = { overhauled_building_stats_enabled = yes is_ringworld = yes }
		modifier = { tile_resource_society_research_mult = 0.015 }
	}
}
 ### Habitat Resource Buildings
building_hab_astro_mining_facility = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_1 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes habitat_conditions = yes }
	 #resource output and modifiers
	produced_resources = { minerals = 4 }
	produced_resource_trigger = {
		modifier = {
			overhauled_building_stats_enabled = yes
			resources = { minerals = 1 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		minerals_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = minerals amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = minerals amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = minerals amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = minerals amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = minerals amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = minerals amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = minerals value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = minerals value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = minerals value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = minerals value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = minerals value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = minerals value < 250 }
			}
		}
	}
}
building_hab_solar_power_processor = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_2 }
	 #requirements and upgrade
	potential = {
		planet_is_not_virtual = yes
		habitat_conditions = yes
		has_black_hole_or_dyson_sphere = no
	}
	destroy_if = { has_black_hole_or_dyson_sphere = yes }
	 #resource output and modifiers
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = { energy = 6 }
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = { energy = 6 }
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		energy_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			weight = 5
			has_resource = { type = energy amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = energy amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = energy amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = energy amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = energy amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = energy amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = energy value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = energy value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = energy value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = energy value < 50 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = energy value < 100 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = energy value < 250 }
			}
		}
	}
}
building_hab_agri_bay = {
	 # buildings for habitats
	tags = { standard_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_1 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes agri_bay_conditions = yes }
	destroy_if = { food_buildings_destroy_conditions = yes }
	 #resource output and modifiers
	produced_resources = { food = 4 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
building_hab_laboratory_module = {
	 # buildings for habitats
	tags = { research_resource_building }
	base_buildtime = 360
	cost = { minerals = @habitat_resource_cost_2 }
	required_resources = { energy = 2 }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes habitat_conditions = yes }
	 #resource output and modifiers
	produced_resource_trigger = {
		modifier = {
			 #this is the base building output using vanilla stats
			overhauled_building_stats_enabled = no
			resources = {
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}
		modifier = {
			 #this is the base building output using overhauled stats
			overhauled_building_stats_enabled = yes
			resources = {
				engineering_research = 2
				physics_research = 2
				society_research = 2
			}
		}
	}
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		general_research_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		weight = 2
		modifier = {
			weight = 5
			has_resource = { type = society_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = society_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = society_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = society_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = society_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = society_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = physics_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = physics_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = physics_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = physics_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = physics_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = physics_research amount > 5 }
		}
		modifier = {
			weight = 5
			has_resource = { type = engineering_research amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = engineering_research amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = engineering_research amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = engineering_research amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = engineering_research amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = engineering_research amount > 5 }
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = society_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = society_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = society_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = physics_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = physics_research value < 100 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 10 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 50 }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				has_monthly_income = { resource = engineering_research value < 100 }
			}
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 10 }
					}
					has_monthly_income = { resource = energy value < 25 }
					has_monthly_income = { resource = minerals value < 25 }
				}
			}
		}
		modifier = {
			factor = 0.5
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 25 }
					}
					has_monthly_income = { resource = energy value < 50 }
					has_monthly_income = { resource = minerals value < 50 }
				}
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				OR = {
					AND = {
						OR = { is_machine_empire = no is_servitor = yes }
						has_monthly_income = { resource = food value < 50 }
					}
					has_monthly_income = { resource = energy value < 100 }
					has_monthly_income = { resource = minerals value < 100 }
				}
			}
		}
	}
}
 ### Servitor Unique Resource Buildings
building_nutrient_paste_facility = {
	 #building defines
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = 180
	cost = { minerals = @nutrient_paste_facility_cost }
	required_resources = { energy = 1 }
	show_tech_unlock_if = { is_servitor = yes }
	 #requirements and upgrade
	potential = { planet_is_not_virtual = yes owner_is_servitor = yes }
	destroy_if = { owner_is_servitor = no }
	 #resource output and modifiers
	produced_resources = { food = 5 }
	 #ai restrictions and weights
	ai_allow = {
		NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } }
		food_buildings_ai_allow = yes
		planet_unique_prerequisite = yes
	}
	ai_weight = {
		modifier = {
			weight = 5
			has_resource = { type = food amount = 1 }
		}
		modifier = {
			weight = 10
			has_resource = { type = food amount = 2 }
		}
		modifier = {
			weight = 15
			has_resource = { type = food amount = 3 }
		}
		modifier = {
			weight = 20
			has_resource = { type = food amount = 4 }
		}
		modifier = {
			weight = 25
			has_resource = { type = food amount = 5 }
		}
		modifier = {
			weight = 30
			has_resource = { type = food amount > 5 }
		}
		modifier = {
			factor = 1000
			from.owner = {
				has_monthly_income = { resource = food value < 1 }
			}
		}
		modifier = {
			factor = 100
			from.owner = {
				has_monthly_income = { resource = food value < 5 }
			}
		}
		modifier = {
			factor = 10
			from.owner = {
				has_monthly_income = { resource = food value < 10 }
			}
		}
		modifier = {
			factor = 5
			from.owner = {
				has_monthly_income = { resource = food value < 25 }
			}
		}
		modifier = {
			factor = 2.5
			from.owner = {
				has_monthly_income = { resource = food value < 50 }
			}
		}
	}
}
