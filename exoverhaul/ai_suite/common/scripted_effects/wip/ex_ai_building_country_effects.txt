check_deficities = {
	#the checks below determine whether the country in question is currently starving - that is if one of the starvation modifier is applied. Note that the food deficit modifier is applied per planet by the vanilla engine!
	
	if = {
		limit = {
			has_modifier = mineral_deficit
			has_monthly_income = {
				resource = minerals  value < 1
			}
		}
		change_variable = {
			which = minerals_mult
			value = 10
		}
	}
	
	if = {
		limit = {
			has_modifier = energy_deficit
			has_monthly_income = {
				resource = energy  value < 1
			}
		}
		change_variable = {
			which = energy_mult
			value = 10
		}
	}
	
	if = {
		limit = {
			any_owned_planet = {
				has_modifier = starvation
			}#this checks for planets starving
			has_monthly_income = {
				resource = food  value < 1
			}
		}
		change_variable = {
			which = food_mult
			value = 10
		}
	}
}

check_income_level = {
	#the checks below determine whether there is a negative income of a specific resource.
	
	if = {
		limit = {
			has_monthly_income = {
				resource = energy  value < 5
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = energy  value < 5
				}
			}
			change_variable = {
				which = energy_mult
				value = 3
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = energy  value < -10
				}
			}
			change_variable = {
				which = energy_mult
				value = 4
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = energy  value < -20
				}
			}
			change_variable = {
				which = energy_mult
				value = 5
			}
		}
	}
	
	if = {
		limit = {
			has_monthly_income = {
				resource = minerals  value < 10
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = minerals  value < 10
				}
			}
			change_variable = {
				which = minerals_mult
				value = 3
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = minerals  value <0
				}
			}
			change_variable = {
				which = minerals_mult
				value = 4
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = minerals  value < -10
				}
			}
			change_variable = {
				which = minerals_mult
				value = 5
			}
		}
	}
	
	if = {
		limit = {
			has_monthly_income = {
				resource = food  value < 1
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = food  value < 1
				}
			}
			change_variable = {
				which = food_mult
				value = 3
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = food  value < -10
				}
			}
			change_variable = {
				which = food_mult
				value = 4
			}
		}
		if = {
			limit = {
				has_monthly_income = {
					resource = food  value < -20
				}
			}
			change_variable = {
				which = food_mult
				value = 5
			}
		}
	}
}
