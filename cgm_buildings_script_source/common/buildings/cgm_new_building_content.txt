#### Structure of this file
# 1. planet unique buildings and unity
# 2. non-restricted resource buildings
# 3. tile restricted resource buildings

### variables

#tile restricted resource building variables
@tile_restricted_t1_1_output = 1 #+tile resource = 2
@tile_restricted_t2_1_output = 2 #+tile resource = 3
@tile_restricted_t3_1_output = 3 #+tile resource = 4
@tile_restricted_t4_1_output = 4 #+tile resource = 5
@tile_restricted_t5_1_output = 5 #+tile resource = 6
@tile_restricted_t1_2_output = 2 #+tile resource = 4
@tile_restricted_t2_2_output = 3 #+tile resource = 5
@tile_restricted_t3_2_output = 4 #+tile resource = 6
@tile_restricted_t4_2_output = 5 #+tile resource = 7
@tile_restricted_t5_2_output = 6 #+tile resource = 8
@tile_restricted_t1_3_output = 3 #+tile resource = 6
@tile_restricted_t2_3_output = 4 #+tile resource = 7
@tile_restricted_t3_3_output = 5 #+tile resource = 8
@tile_restricted_t4_3_output = 6 #+tile resource = 9
@tile_restricted_t5_3_output = 7 #+tile resource = 10
@tile_restricted_t1_4_output = 5 #+tile resource = 8
@tile_restricted_t2_4_output = 6 #+tile resource = 9
@tile_restricted_t3_4_output = 7 #+tile resource = 10
@tile_restricted_t4_4_output = 8 #+tile resource = 11
@tile_restricted_t5_4_output = 9 #+tile resource = 12
@tile_restricted_t1_5_output = 6 #+tile resource = 10
@tile_restricted_t2_5_output = 7 #+tile resource = 11
@tile_restricted_t3_5_output = 8 #+tile resource = 12
@tile_restricted_t4_5_output = 9 #+tile resource = 13
@tile_restricted_t5_5_output = 10 #+tile resource = 14
@tile_restricted_t1_adjacency_bonus = 0
@tile_restricted_t2_adjacency_bonus = 0.25
@tile_restricted_t3_adjacency_bonus = 0.5
@tile_restricted_t4_adjacency_bonus = 0.75
@tile_restricted_t5_adjacency_bonus = 1
@tile_restricted_t5_triggered_planet_modifier = 0.03
@tile_restricted_t1_time = 210
@tile_restricted_t2_time = 180
@tile_restricted_t3_time = 180
@tile_restricted_t4_time = 180
@tile_restricted_t5_time = 180
@tile_restricted_t1_cost = 30
@tile_restricted_t2_cost = 60
@tile_restricted_t3_cost = 90
@tile_restricted_t4_cost = 120
@tile_restricted_t5_cost = 150
@tile_restricted_t1_upkeep = 1
@tile_restricted_t2_upkeep = 1.5
@tile_restricted_t3_upkeep = 2
@tile_restricted_t4_upkeep = 2.5
@tile_restricted_t5_upkeep = 3
#megastructure restricted buildings
@megastructure_unique_t1_time = 180
@megastructure_unique_t2_time = 180
@megastructure_unique_t3_time = 180
@megastructure_unique_t1_cost = 60
@megastructure_unique_t2_cost = 120
@megastructure_unique_t3_cost = 180
@megastructure_unique_t1_upkeep = 1.5
@megastructure_unique_t2_upkeep = 2.5
@megastructure_unique_t3_upkeep = 3.5
@megastructure_unique_output = 3
@computational_array_output = 1
@megastructure_unique_t1_1_adjacency_bonus = 0.5
@megastructure_unique_t2_1_adjacency_bonus = 1
@megastructure_unique_t3_1_adjacency_bonus = 1.5
@megastructure_unique_t1_2_adjacency_bonus = 1
@megastructure_unique_t2_2_adjacency_bonus = 2
@megastructure_unique_t3_2_adjacency_bonus = 3
@megastructure_unique_t1_3_adjacency_bonus = 1.5
@megastructure_unique_t2_3_adjacency_bonus = 3
@megastructure_unique_t3_3_adjacency_bonus = 4.5
#non-restricted resource building variables
@non_restricted_t1_output = 1
@non_restricted_t2_output = 2
@non_restricted_t3_output = 3
@non_restricted_t4_output = 4
@non_restricted_t5_output = 5
@non_restricted_t1_static_planet_resource_add = 0
@non_restricted_t2_static_planet_resource_add = 0.5
@non_restricted_t3_static_planet_resource_add = 1
@non_restricted_t4_static_planet_resource_add = 1.5
@non_restricted_t5_static_planet_resource_add = 2
@non_restricted_t5_capital_static_planet_resource_add = 2
@non_restricted_t1_time = 210
@non_restricted_t2_time = 180
@non_restricted_t3_time = 180
@non_restricted_t4_time = 180
@non_restricted_t5_time = 180
@non_restricted_t1_cost = 40
@non_restricted_t2_cost = 80
@non_restricted_t3_cost = 120
@non_restricted_t4_cost = 160
@non_restricted_t5_cost = 200
@economic_district_upkeep_1 = 0.5
@economic_district_upkeep_2 = 1
@economic_district_upkeep_3 = 1.5
@economic_district_upkeep_4 = 2
@economic_district_upkeep_5 = 2.5
@manufacturing_complex_upkeep_1 = 0.5
@manufacturing_complex_upkeep_2 = 1
@manufacturing_complex_upkeep_3 = 1.5
@manufacturing_complex_upkeep_4 = 2
@manufacturing_complex_upkeep_5 = 2.5
@hydrophonic_farm_upkeep_1 = 0.25
@hydrophonic_farm_upkeep_2 = 0.5
@hydrophonic_farm_upkeep_3 = 0.75
@hydrophonic_farm_upkeep_4 = 1
@hydrophonic_farm_upkeep_5 = 1.25
@sociological_campus_upkeep_1 = 0.25
@sociological_campus_upkeep_2 = 0.5
@sociological_campus_upkeep_3 = 0.75
@sociological_campus_upkeep_4 = 1
@sociological_campus_upkeep_5 = 1.25
@physics_campus_upkeep_1 = 0.25
@physics_campus_upkeep_2 = 0.5
@physics_campus_upkeep_3 = 0.75
@physics_campus_upkeep_4 = 1
@physics_campus_upkeep_5 = 1.25
@engineering_campus_upkeep_1 = 0.25
@engineering_campus_upkeep_2 = 0.5
@engineering_campus_upkeep_3 = 0.75
@engineering_campus_upkeep_4 = 1
@engineering_campus_upkeep_5 = 1.25

###planet unique buildings

#resource buildings
building_agricultural_processor_1 = {
	#building defines
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = yes
	base_buildtime = 180	
	cost = { minerals = 150 }	
	required_resources = { energy = 2 }
	destroy_if = { new_building_content_enabled = no }
	#requirements and upgrade
	potential = { 
		conditions_agricultural_processor_1 = yes
		new_building_content_enabled = yes
	} 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_agricultural_processing_1" }
	upgrades = { building_agricultural_processor_2 }
	#resource output and modifiers	
	produced_resources = { food = 2 }
	planet_modifier = { tile_resource_food_mult = 0.10 }
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { 
		has_resource = no
		food_buildings_limitation = no
	}			
	ai_weight = {
		weight = 10
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}	
	}
}

building_agricultural_processor_2 = {
	#building defines	
	tags = { planet_unique_building }
	planet_unique = yes
	is_listed = no
	base_buildtime = 180	
	cost = { minerals = 200 }		
	required_resources = { energy = 3 }
	destroy_if = { new_building_content_enabled = no }
	#requirements and upgrade
	potential = { 
		conditions_agricultural_processor_2 = yes
		new_building_content_enabled = yes
	} 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_agricultural_processing_2" }
	#resource output and modifiers	
	produced_resources = { food = 4 }
	planet_modifier = { tile_resource_food_mult = 0.20 }
}

### Non-restricted Resource Buildings

building_economic_district_1 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { minerals = @economic_district_upkeep_1 }
	#requirements and upgrade
	potential = { conditions_economic_district_1 = yes } 
	show_tech_unlock_if = { new_building_content_enabled = yes }
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry_1" }
	upgrades = { building_economic_district_2 }
	#resource output and modifiers	
	produced_resources = { energy = @non_restricted_t1_output }
	planet_modifier = { static_planet_resource_energy_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { has_resource = no }		
	ai_weight = { 
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}	
	}
}
building_economic_district_2 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { minerals = @economic_district_upkeep_2 }	
	#requirements and upgrade
	potential = { conditions_economic_district_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_applied_economics_1" }
	upgrades = { building_economic_district_3 }
	#resource output and modifiers	
	produced_resources = { energy = @non_restricted_t2_output }
	planet_modifier = { static_planet_resource_energy_add = @non_restricted_t2_static_planet_resource_add }
}
building_economic_district_3 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { minerals = @economic_district_upkeep_3 }		
	#requirements and upgrade
	potential = { conditions_economic_district_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_applied_economics_2" }
	upgrades = { building_economic_district_4 }
	#resource output and modifiers	
	produced_resources = { energy = @non_restricted_t3_output }
	planet_modifier = { static_planet_resource_energy_add = @non_restricted_t3_static_planet_resource_add }
}
building_economic_district_4 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { minerals = @economic_district_upkeep_4 }		
	#requirements and upgrade
	potential = { conditions_economic_district_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_applied_economics_3" }
	upgrades = { building_economic_district_5 }
	#resource output and modifiers	
	produced_resources = { energy = @non_restricted_t4_output }
	planet_modifier = { static_planet_resource_energy_add = @non_restricted_t4_static_planet_resource_add }

}
building_economic_district_5 = { 
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { minerals = @economic_district_upkeep_5 }		
	#requirements and upgrade
	potential = { conditions_economic_district_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_applied_economics_3" }
	#resource output and modifiers
	produced_resources = { energy = @non_restricted_t5_output }
	planet_modifier = { static_planet_resource_energy_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_energy_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
}
building_manufacturing_complex_1 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { energy = @manufacturing_complex_upkeep_1 }
	#requirements and upgrade
	potential = { conditions_manufacturing_complex_1 = yes } 
	show_tech_unlock_if = { new_building_content_enabled = yes }
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry_1" }
	upgrades = { building_manufacturing_complex_2 }
	#resource output and modifiers	
	produced_resources = { minerals = @non_restricted_t1_output }
	planet_modifier = { static_planet_resource_minerals_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { has_resource = no }		
	ai_weight = { 
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}	
	}
}
building_manufacturing_complex_2 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { energy = @manufacturing_complex_upkeep_2 }	
	#requirements and upgrade
	potential = { conditions_manufacturing_complex_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_advanced_industry_1" }
	upgrades = { building_manufacturing_complex_3 }
	#resource output and modifiers	
	produced_resources = { minerals = @non_restricted_t2_output }
	planet_modifier = { static_planet_resource_minerals_add = @non_restricted_t2_static_planet_resource_add }
}
building_manufacturing_complex_3 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { energy = @manufacturing_complex_upkeep_3 }		
	#requirements and upgrade
	potential = { conditions_manufacturing_complex_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_advanced_industry_2" }
	upgrades = { building_manufacturing_complex_4 }
	#resource output and modifiers	
	produced_resources = { minerals = @non_restricted_t3_output }
	planet_modifier = { static_planet_resource_minerals_add = @non_restricted_t3_static_planet_resource_add }
}
building_manufacturing_complex_4 = {
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { energy = @manufacturing_complex_upkeep_4 }		
	#requirements and upgrade
	potential = { conditions_manufacturing_complex_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_advanced_industry_3" }
	upgrades = { building_manufacturing_complex_5 }
	#resource output and modifiers	
	produced_resources = { minerals = @non_restricted_t4_output }
	planet_modifier = { static_planet_resource_minerals_add = @non_restricted_t4_static_planet_resource_add }
}
building_manufacturing_complex_5 = { 
	#building defines
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { energy = @manufacturing_complex_upkeep_5 }		
	destroy_if = { planet_is_capital = no }
	#requirements and upgrade
	potential = { conditions_manufacturing_complex_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_advanced_industry_3" }
	#resource output and modifiers
	produced_resources = { minerals = @non_restricted_t5_output }
	planet_modifier = { static_planet_resource_minerals_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_minerals_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
}
building_hydrophonic_farm_1 = {
	#building defines
	icon = "building_hydroponics_farm_1"
	tags = { standard_resource_building }
	is_listed = no	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { 
		energy = @hydrophonic_farm_upkeep_1
		minerals = @hydrophonic_farm_upkeep_1
	}	
	show_tech_unlock_if = { 
		new_building_content_enabled = yes
		is_machine_empire = no
	}
	destroy_if = { owner_is_machine_empire = yes }		
	#requirements and upgrade
	potential = { conditions_hydrophonic_farm_1 = yes } 
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_hydrophonic_farm_2 }
	#resource output and modifiers	
	produced_resources = { food = @non_restricted_t1_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1	}
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}		
	planet_modifier = { static_planet_resource_food_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { 
		has_resource = no
		food_buildings_limitation = no
	}			
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_hydrophonic_farm_2 = {
	#building defines
	icon = "building_hydroponics_farm_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { 
		energy = @hydrophonic_farm_upkeep_2
		minerals = @hydrophonic_farm_upkeep_2
	}		
	show_tech_unlock_if = { 
		new_building_content_enabled = yes
		is_machine_empire = no
	}
	destroy_if = { owner_is_machine_empire = yes }		
	#requirements and upgrade
	potential = { conditions_hydrophonic_farm_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_hydroponics" }
	upgrades = { building_hydrophonic_farm_3 }
	#resource output and modifiers	
	produced_resources = { food = @non_restricted_t2_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1	}
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}		
	planet_modifier = { static_planet_resource_food_add = @non_restricted_t2_static_planet_resource_add }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}	
building_hydrophonic_farm_3 = {
	#building defines
	icon = "building_hydroponics_farm_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { 
		energy = @hydrophonic_farm_upkeep_3
		minerals = @hydrophonic_farm_upkeep_3
	}	
	show_tech_unlock_if = { 
		new_building_content_enabled = yes
		is_machine_empire = no
	}
	destroy_if = { owner_is_machine_empire = yes }		
	#requirements and upgrade
	potential = { conditions_hydrophonic_farm_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_gene_crops" }
	upgrades = { building_hydrophonic_farm_4 }
	#resource output and modifiers	
	produced_resources = { food = @non_restricted_t3_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1	}
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}		
	planet_modifier = { static_planet_resource_food_add = @non_restricted_t3_static_planet_resource_add }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}	
building_hydrophonic_farm_4 = {
	#building defines
	icon = "building_hydroponics_farm_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { 
		energy = @hydrophonic_farm_upkeep_4
		minerals = @hydrophonic_farm_upkeep_4
	}	
	show_tech_unlock_if = { 
		new_building_content_enabled = yes
		is_machine_empire = no
	}
	destroy_if = { owner_is_machine_empire = yes }		
	#requirements and upgrade
	potential = { conditions_hydrophonic_farm_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_nano_vitality_crops" }
	upgrades = { building_hydrophonic_farm_5 }
	#resource output and modifiers	
	produced_resources = { food = @non_restricted_t4_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1	}
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}		
	planet_modifier = { static_planet_resource_food_add = @non_restricted_t4_static_planet_resource_add }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}	
building_hydrophonic_farm_5 = { 
	#building defines
	icon = "building_hydroponics_farm_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { 
		energy = @hydrophonic_farm_upkeep_5
		minerals = @hydrophonic_farm_upkeep_5
	}	
	show_tech_unlock_if = { 
		new_building_content_enabled = yes
		is_machine_empire = no
	}
	destroy_if = { owner_is_machine_empire = yes }		
	#requirements and upgrade
	potential = { conditions_hydrophonic_farm_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_nano_vitality_crops" }	
	#resource output and modifiers
	produced_resources = { food = @non_restricted_t5_output }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1	}
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}		
	planet_modifier = { static_planet_resource_food_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_food_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}	
building_sociological_campus_1 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no	
	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { 
		energy = @sociological_campus_upkeep_1 
		minerals = @sociological_campus_upkeep_1
	}
	#requirements and upgrade
	potential = { conditions_sociological_campus_1 = yes } 
	show_tech_unlock_if = { new_building_content_enabled = yes }	
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_sociological_campus_2 }
	#resource output and modifiers	
	produced_resources = { society_research = @non_restricted_t1_output }
	planet_modifier = { static_planet_resource_society_research_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { has_resource = no }		
	ai_weight = { 
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}	
	}
}
building_sociological_campus_2 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { 
		energy = @sociological_campus_upkeep_2 
		minerals = @sociological_campus_upkeep_2
	}
	#requirements and upgrade
	potential = { conditions_sociological_campus_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_cultural_dynamics_1" }
	upgrades = { building_sociological_campus_3 }
	#resource output and modifiers	
	produced_resources = { society_research = @non_restricted_t2_output }
	planet_modifier = { static_planet_resource_society_research_add = @non_restricted_t2_static_planet_resource_add }
}
building_sociological_campus_3 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { 
		energy = @sociological_campus_upkeep_3 
		minerals = @sociological_campus_upkeep_3
	}	
	#requirements and upgrade
	potential = { conditions_sociological_campus_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_cultural_dynamics_2" }
	upgrades = { building_sociological_campus_4 }
	#resource output and modifiers	
	produced_resources = { society_research = @non_restricted_t3_output }
	planet_modifier = { static_planet_resource_society_research_add = @non_restricted_t3_static_planet_resource_add }
}
building_sociological_campus_4 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { 
		energy = @sociological_campus_upkeep_4 
		minerals = @sociological_campus_upkeep_4
	}	
	#requirements and upgrade
	potential = { conditions_sociological_campus_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_cultural_dynamics_3" }
	upgrades = { building_sociological_campus_5 }
	#resource output and modifiers	
	produced_resources = { society_research = @non_restricted_t4_output }
	planet_modifier = { static_planet_resource_society_research_add = @non_restricted_t4_static_planet_resource_add }
}
building_sociological_campus_5 = { 
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { 
		energy = @sociological_campus_upkeep_5 
		minerals = @sociological_campus_upkeep_5
	}	
	destroy_if = { planet_is_capital = no }
	#requirements and upgrade
	potential = { conditions_sociological_campus_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_cultural_dynamics_3" }
	#resource output and modifiers
	produced_resources = { society_research = @non_restricted_t5_output }
	planet_modifier = { static_planet_resource_society_research_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_society_research_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
}
building_physics_campus_1 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no	
	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { 
		energy = @physics_campus_upkeep_1 
		minerals = @physics_campus_upkeep_1
	}
	#requirements and upgrade
	potential = { conditions_physics_campus_1 = yes } 
	show_tech_unlock_if = { new_building_content_enabled = yes }	
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_campus_2 }
	#resource output and modifiers	
	produced_resources = { physics_research = @non_restricted_t1_output }
	planet_modifier = { static_planet_resource_physics_research_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { has_resource = no }		
	ai_weight = { 
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}	
	}
}
building_physics_campus_2 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { 
		energy = @physics_campus_upkeep_2 
		minerals = @physics_campus_upkeep_2
	}
	#requirements and upgrade
	potential = { conditions_physics_campus_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_cosmology_1" }
	upgrades = { building_physics_campus_3 }
	#resource output and modifiers	
	produced_resources = { physics_research = @non_restricted_t2_output }
	planet_modifier = { static_planet_resource_physics_research_add = @non_restricted_t2_static_planet_resource_add }
}
building_physics_campus_3 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { 
		energy = @physics_campus_upkeep_3 
		minerals = @physics_campus_upkeep_3
	}	
	#requirements and upgrade
	potential = { conditions_physics_campus_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_cosmology_2" }
	upgrades = { building_physics_campus_4 }
	#resource output and modifiers	
	produced_resources = { physics_research = @non_restricted_t3_output }
	planet_modifier = { static_planet_resource_physics_research_add = @non_restricted_t3_static_planet_resource_add }
}
building_physics_campus_4 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { 
		energy = @physics_campus_upkeep_4 
		minerals = @physics_campus_upkeep_4
	}	
	#requirements and upgrade
	potential = { conditions_physics_campus_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_cosmology_3" }
	upgrades = { building_physics_campus_5 }
	#resource output and modifiers	
	produced_resources = { physics_research = @non_restricted_t4_output }
	planet_modifier = { static_planet_resource_physics_research_add = @non_restricted_t4_static_planet_resource_add }
}
building_physics_campus_5 = { 
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { 
		energy = @physics_campus_upkeep_5 
		minerals = @physics_campus_upkeep_5
	}	
	destroy_if = { planet_is_capital = no }
	#requirements and upgrade
	potential = { conditions_physics_campus_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_cosmology_3" }
	#resource output and modifiers
	produced_resources = { physics_research = @non_restricted_t5_output }
	planet_modifier = { static_planet_resource_physics_research_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_physics_research_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
}
building_engineering_campus_1 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no	
	base_buildtime = @non_restricted_t1_time	
	cost = { minerals = @non_restricted_t1_cost }	
	required_resources = { 
		energy = @engineering_campus_upkeep_1 
		minerals = @engineering_campus_upkeep_1
	}
	#requirements and upgrade
	potential = { conditions_engineering_campus_1 = yes } 
	show_tech_unlock_if = { new_building_content_enabled = yes }	
	allow = { requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_campus_2 }
	#resource output and modifiers	
	produced_resources = { engineering_research = @non_restricted_t1_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @non_restricted_t1_static_planet_resource_add }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }		
	#ai restrictions and weights	
	ai_allow = { has_resource = no }		
	ai_weight = { 
		modifier = { 
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = { 
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}	
	}
}
building_engineering_campus_2 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t2_time	
	cost = { minerals = @non_restricted_t2_cost }
	required_resources = { 
		energy = @engineering_campus_upkeep_2 
		minerals = @engineering_campus_upkeep_2
	}
	#requirements and upgrade
	potential = { conditions_engineering_campus_2 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_design_paradigms_1" }
	upgrades = { building_engineering_campus_3 }
	#resource output and modifiers	
	produced_resources = { engineering_research = @non_restricted_t2_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @non_restricted_t2_static_planet_resource_add }
}
building_engineering_campus_3 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t3_time	
	cost = { minerals = @non_restricted_t3_cost }	
	required_resources = { 
		energy = @engineering_campus_upkeep_3 
		minerals = @engineering_campus_upkeep_3
	}	
	#requirements and upgrade
	potential = { conditions_engineering_campus_3 = yes } 
	allow = { requires_capital_1 = yes }
	prerequisites = { "tech_design_paradigms_2" }
	upgrades = { building_engineering_campus_4 }
	#resource output and modifiers	
	produced_resources = { engineering_research = @non_restricted_t3_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @non_restricted_t3_static_planet_resource_add }
}
building_engineering_campus_4 = {
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t4_time	
	cost = { minerals = @non_restricted_t4_cost }	
	required_resources = { 
		energy = @engineering_campus_upkeep_4 
		minerals = @engineering_campus_upkeep_4
	}	
	#requirements and upgrade
	potential = { conditions_engineering_campus_4 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_design_paradigms_3" }
	upgrades = { building_engineering_campus_5 }
	#resource output and modifiers	
	produced_resources = { engineering_research = @non_restricted_t4_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @non_restricted_t4_static_planet_resource_add }
}
building_engineering_campus_5 = { 
	#building defines
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @non_restricted_t5_time	
	cost = { minerals = @non_restricted_t5_cost }	
	required_resources = { 
		energy = @engineering_campus_upkeep_5 
		minerals = @engineering_campus_upkeep_5
	}	
	destroy_if = { planet_is_capital = no }
	#requirements and upgrade
	potential = { conditions_engineering_campus_5 = yes } 
	allow = { requires_capital_2 = yes }
	prerequisites = { "tech_design_paradigms_3" }
	#resource output and modifiers
	produced_resources = { engineering_research = @non_restricted_t5_output }
	planet_modifier = { static_planet_resource_engineering_research_add = @non_restricted_t5_static_planet_resource_add }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = { planet = { has_capital_3 = yes } }
		modifier = { tile_resource_engineering_research_mult = @non_restricted_t5_capital_static_planet_resource_add }
	}
}

### Tile Restricted Resource Buildings
building_mining_complex_1_1 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_1_1 = yes }
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_1 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_2_1 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_2_1 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_1 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_3_1 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_3_1 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_1 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_4_1 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_4_1 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_1 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_5_1 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_5_1 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_minerals_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_1_2 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_1_2 = yes }
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_2 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_2_2 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_2_2 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_2 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_3_2 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_3_2 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_2 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_4_2 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_4_2 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_2 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_5_2 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_5_2 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_minerals_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_1_3 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_1_3 = yes }
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_3 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_2_3 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_2_3 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_3 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_3_3 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_3_3 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_3 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_4_3 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_4_3 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_3 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_5_3 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_5_3 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_minerals_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_1_4 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_1_4 = yes }
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_4 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_2_4 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_2_4 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_4 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_3_4 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_3_4 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_4 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_4_4 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_4_4 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_4 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_5_4 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_5_4 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_minerals_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_1_5 = {
	icon = "building_mining_network_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_1_5 = yes }
	allow = { requires_minerals_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_industry" }
	upgrades = { building_mining_complex_2_5 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_2_5 = {
	icon = "building_mining_network_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_2_5 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_2" }
	upgrades = { building_mining_complex_3_5 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_3_5 = {
	icon = "building_mining_network_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_3_5 = yes }
	allow = { requires_minerals_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_mining_network_3" }
	upgrades = { building_mining_complex_4_5 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_4_5 = {
	icon = "building_mining_network_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_4_5 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_4" }
	upgrades = { building_mining_complex_5_5 }
	#resource output and modifiers
	produced_resources = { minerals = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_mining_complex_5_5 = {
	icon = "building_mining_network_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_mining_complex_5_5 = yes }
	allow = { requires_minerals_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_mining_network_5" }
	produced_resources = { minerals = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_minerals_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = minerals_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_farming_complex_1_1 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_1_1 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_1 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t1_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_2_1 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_2_1 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_2" }
	upgrades = { building_farming_complex_3_1 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t2_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_3_1 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_3_1 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_3" }
	upgrades = { building_farming_complex_4_1 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t3_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_4_1 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_4_1 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_4" }
	upgrades = { building_farming_complex_5_1 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t4_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_5_1 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_5_1 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_5" }
	produced_resources = { food = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t5_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_food_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_1_2 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_1_2 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_2 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t1_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_2_2 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_2_2 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_2" }
	upgrades = { building_farming_complex_3_2 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t2_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_3_2 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_3_2 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_3" }
	upgrades = { building_farming_complex_4_2 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t3_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_4_2 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_4_2 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_4" }
	upgrades = { building_farming_complex_5_2 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t4_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_5_2 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_5_2 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_5" }
	produced_resources = { food = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t5_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_food_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_1_3 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_1_3 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_3 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t1_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_2_3 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_2_3 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_2" }
	upgrades = { building_farming_complex_3_3 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t2_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_3_3 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_3_3 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_3" }
	upgrades = { building_farming_complex_4_3 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t3_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_4_3 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_4_3 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_4" }
	upgrades = { building_farming_complex_5_3 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t4_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_5_3 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_5_3 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_5" }
	produced_resources = { food = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t5_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_food_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_1_4 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_1_4 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_4 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t1_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_2_4 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_2_4 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_2" }
	upgrades = { building_farming_complex_3_4 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t2_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_3_4 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_3_4 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_3" }
	upgrades = { building_farming_complex_4_4 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t3_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_4_4 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_4_4 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_4" }
	upgrades = { building_farming_complex_5_4 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t4_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_5_4 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_5_4 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_5" }
	produced_resources = { food = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t5_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_food_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_1_5 = {
	icon = "building_farming_complex_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_1_5 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_eco_simulation" }
	upgrades = { building_farming_complex_2_5 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t1_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_2_5 = {
	icon = "building_farming_complex_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_2_5 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_2" }
	upgrades = { building_farming_complex_3_5 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t2_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_3_5 = {
	icon = "building_farming_complex_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_3_5 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_farming_complex_3" }
	upgrades = { building_farming_complex_4_5 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t3_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_4_5 = {
	icon = "building_farming_complex_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_4_5 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_4" }
	upgrades = { building_farming_complex_5_5 }
	#resource output and modifiers
	produced_resources = { food = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t4_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_farming_complex_5_5 = {
	icon = "building_farming_complex_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	destroy_if = { owner_is_machine_empire = yes }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes is_machine_empire = no }
	#requirements and upgrade
	potential = { conditions_farming_complex_5_5 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_farming_complex_5" }
	produced_resources = { food = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_food_add = @tile_restricted_t5_adjacency_bonus }
	produced_resource_trigger = {
		modifier = {
			has_valid_civic = civic_agrarian_idyll
			resources = { unity = 1 }
		}
		modifier = {
			has_swapped_tradition = tr_adaptability_finish
			resources = { minerals = 1 }
		}
	}
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_food_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_isotope_refinery_1_1 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_1_1 = yes }
	allow = { requires_energy_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_2_1 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_2_1 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_3_1 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_3_1 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_4_1 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_4_1 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_5_1 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_5_1 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_1_2 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_1_2 = yes }
	allow = { requires_energy_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_2_2 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_2_2 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_3_2 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_3_2 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_4_2 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_4_2 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_5_2 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_5_2 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_1_3 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_1_3 = yes }
	allow = { requires_energy_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_2_3 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_2_3 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_3_3 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_3_3 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_4_3 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_4_3 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_5_3 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_5_3 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_1_4 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_1_4 = yes }
	allow = { requires_energy_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_2_4 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_2_4 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_3_4 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_3_4 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_4_4 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_4_4 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_5_4 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_5_4 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_1_5 = {
	icon = "building_power_plant_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_1_5 = yes }
	allow = { requires_energy_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_power_plant_1" }
	upgrades = { building_isotope_refinery_2_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_2_5 = {
	icon = "building_power_plant_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_2_5 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_2" }
	upgrades = { building_isotope_refinery_3_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_3_5 = {
	icon = "building_power_plant_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_3_5 = yes }
	allow = { requires_energy_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_power_plant_3" }
	upgrades = { building_isotope_refinery_4_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_4_5 = {
	icon = "building_power_plant_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_4_5 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_4" }
	upgrades = { building_isotope_refinery_5_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_isotope_refinery_5_5 = {
	icon = "building_power_plant_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_isotope_refinery_5_5 = yes }
	allow = { requires_energy_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_power_plant_5" }
	produced_resources = { energy = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = energy_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_biofuel_refinery_1_1 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_1_1 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_2_1 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_2_1 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_3_1 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_3_1 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_4_1 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_4_1 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_1 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_5_1 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_5_1 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_1_2 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_1_2 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_2_2 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_2_2 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_3_2 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_3_2 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_4_2 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_4_2 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_2 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_5_2 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_5_2 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_1_3 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_1_3 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_2_3 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_2_3 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_3_3 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_3_3 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_4_3 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_4_3 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_3 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_5_3 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_5_3 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_1_4 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_1_4 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_2_4 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_2_4 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_3_4 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_3_4 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_4_4 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_4_4 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_4 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_5_4 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_5_4 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_1_5 = {
	icon = "building_biofuel_refinery_1"
	tags = { standard_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	#required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_1_5 = yes }
	allow = { requires_food_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_biofuel_refining_1" }
	upgrades = { building_biofuel_refinery_2_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_2_5 = {
	icon = "building_biofuel_refinery_2"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	#required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_2_5 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_2" }
	upgrades = { building_biofuel_refinery_3_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_3_5 = {
	icon = "building_biofuel_refinery_3"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	#required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_3_5 = yes }
	allow = { requires_food_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biofuel_refining_3" }
	upgrades = { building_biofuel_refinery_4_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_4_5 = {
	icon = "building_biofuel_refinery_4"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	#required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_4_5 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_4" }
	upgrades = { building_biofuel_refinery_5_5 }
	#resource output and modifiers
	produced_resources = { energy = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_biofuel_refinery_5_5 = {
	icon = "building_biofuel_refinery_5"
	tags = { standard_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	#required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_biofuel_refinery_5_5 = yes }
	allow = { requires_food_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biofuel_refining_5" }
	produced_resources = { energy = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_energy_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_energy_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			from.owner = { has_country_flag = food_delimited }
		}
	}
}
building_society_lab_1_1 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_1_1 = yes }
	allow = { requires_society_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_1 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_2_1 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_2_1 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_1 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_3_1 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_3_1 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_1 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_4_1 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_4_1 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_1 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_5_1 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_5_1 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_society_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_1_2 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_1_2 = yes }
	allow = { requires_society_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_2 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_2_2 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_2_2 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_2 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_3_2 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_3_2 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_2 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_4_2 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_4_2 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_2 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_5_2 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_5_2 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_society_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_1_3 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_1_3 = yes }
	allow = { requires_society_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_3 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_2_3 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_2_3 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_3 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_3_3 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_3_3 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_3 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_4_3 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_4_3 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_3 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_5_3 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_5_3 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_society_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_1_4 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_1_4 = yes }
	allow = { requires_society_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_4 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_2_4 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_2_4 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_4 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_3_4 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_3_4 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_4 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_4_4 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_4_4 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_4 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_5_4 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_5_4 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_society_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_1_5 = {
	icon = "building_biolab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_1_5 = yes }
	allow = { requires_society_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_society_lab_2_5 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_society_research_buildings = yes }
	on_unqueued = { subtract_society_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_2_5 = {
	icon = "building_biolab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_2_5 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_1" }
	upgrades = { building_society_lab_3_5 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_3_5 = {
	icon = "building_biolab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_3_5 = yes }
	allow = { requires_society_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_biolab_2" }
	upgrades = { building_society_lab_4_5 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_4_5 = {
	icon = "building_biolab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_4_5 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_3" }
	upgrades = { building_society_lab_5_5 }
	#resource output and modifiers
	produced_resources = { society_research = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_society_lab_5_5 = {
	icon = "building_biolab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_society_lab_5_5 = yes }
	allow = { requires_society_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_biolab_4" }
	produced_resources = { society_research = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_society_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_society_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = society_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = society_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = society_research_focus_factor_2 }
		}
	}
}
building_physics_lab_1_1 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_1_1 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_1 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_2_1 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_2_1 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_1 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_3_1 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_3_1 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_1 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_4_1 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_4_1 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_1 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_5_1 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_5_1 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_physics_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_1_2 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_1_2 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_2 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_2_2 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_2_2 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_2 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_3_2 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_3_2 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_2 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_4_2 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_4_2 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_2 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_5_2 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_5_2 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_physics_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_1_3 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_1_3 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_3 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_2_3 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_2_3 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_3 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_3_3 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_3_3 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_3 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_4_3 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_4_3 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_3 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_5_3 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_5_3 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_physics_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_1_4 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_1_4 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_4 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_2_4 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_2_4 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_4 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_3_4 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_3_4 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_4 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_4_4 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_4_4 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_4 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_5_4 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_5_4 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_physics_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_1_5 = {
	icon = "building_physics_lab_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_1_5 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_physics_lab_2_5 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_physics_research_buildings = yes }
	on_unqueued = { subtract_physics_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_2_5 = {
	icon = "building_physics_lab_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_2_5 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_1" }
	upgrades = { building_physics_lab_3_5 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_3_5 = {
	icon = "building_physics_lab_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_3_5 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_physics_lab_2" }
	upgrades = { building_physics_lab_4_5 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_4_5 = {
	icon = "building_physics_lab_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_4_5 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_3" }
	upgrades = { building_physics_lab_5_5 }
	#resource output and modifiers
	produced_resources = { physics_research = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_physics_lab_5_5 = {
	icon = "building_physics_lab_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_physics_lab_5_5 = yes }
	allow = { requires_physics_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_physics_lab_4" }
	produced_resources = { physics_research = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_physics_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_physics_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = physics_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = physics_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = physics_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_1_1 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_1_1 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_1 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_1_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_2_1 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_2_1 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_1 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_1_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_3_1 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_3_1 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_1 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_1_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_4_1 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_4_1 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_1 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_1_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_5_1 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_5_1 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_1_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_engineering_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_1_2 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_1_2 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_2 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_2_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_2_2 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_2_2 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_2 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_2_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_3_2 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_3_2 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_2 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_2_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_4_2 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_4_2 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_2 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_2_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_5_2 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_5_2 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_2_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_engineering_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_1_3 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_1_3 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_3 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_3_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_2_3 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_2_3 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_3 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_3_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_3_3 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_3_3 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_3 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_3_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_4_3 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_4_3 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_3 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_3_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_5_3 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_5_3 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_3_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_engineering_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_1_4 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_1_4 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_4 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_4_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_2_4 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_2_4 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_4 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_4_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_3_4 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_3_4 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_4 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_4_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_4_4 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_4_4 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_4 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_4_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_5_4 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_5_4 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_4_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_engineering_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_1_5 = {
	icon = "building_engineering_facility_1"
	tags = { research_resource_building }
	is_listed = yes
	base_buildtime = @tile_restricted_t1_time
	cost = { minerals = @tile_restricted_t1_cost }
	required_resources = { energy = @tile_restricted_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_1_5 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_0 = yes }
	prerequisites = { "tech_basic_science_lab_1" }
	upgrades = { building_engineering_lab_2_5 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t1_5_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t1_adjacency_bonus }
	#construction effects
	on_queued = { check_engineering_research_buildings = yes }
	on_unqueued = { subtract_engineering_research_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_2_5 = {
	icon = "building_engineering_facility_2"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t2_time
	cost = { minerals = @tile_restricted_t2_cost }
	required_resources = { energy = @tile_restricted_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_2_5 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_1" }
	upgrades = { building_engineering_lab_3_5 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t2_5_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t2_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_3_5 = {
	icon = "building_engineering_facility_3"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t3_time
	cost = { minerals = @tile_restricted_t3_cost }
	required_resources = { energy = @tile_restricted_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_3_5 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_1 = yes }
	prerequisites = { "tech_engineering_lab_2" }
	upgrades = { building_engineering_lab_4_5 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t3_5_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t3_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_4_5 = {
	icon = "building_engineering_facility_4"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t4_time
	cost = { minerals = @tile_restricted_t4_cost }
	required_resources = { energy = @tile_restricted_t4_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_4_5 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_3" }
	upgrades = { building_engineering_lab_5_5 }
	#resource output and modifiers
	produced_resources = { engineering_research = @tile_restricted_t4_5_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t4_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}
building_engineering_lab_5_5 = {
	icon = "building_engineering_facility_5"
	tags = { research_resource_building }
	is_listed = no
	base_buildtime = @tile_restricted_t5_time
	cost = { minerals = @tile_restricted_t5_cost }
	required_resources = { energy = @tile_restricted_t5_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_engineering_lab_5_5 = yes }
	allow = { requires_engineering_research_tile = yes requires_capital_2 = yes }
	prerequisites = { "tech_engineering_lab_4" }
	produced_resources = { engineering_research = @tile_restricted_t5_5_output }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @tile_restricted_t5_adjacency_bonus }
	triggered_planet_modifier = {
		key = "capital_3_resource_bonus_modifier"
		potential = {
			planet = { has_capital_3 = yes }
		}
		modifier = { tile_resource_engineering_research_mult = @tile_restricted_t5_triggered_planet_modifier }
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		modifier = {
			weight = 0
			NOT = { has_deposit = engineering_research_building_tile }
		}
		modifier = {
			factor = 5
			from.owner = { has_country_flag = engineering_research_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = engineering_research_focus_factor_2 }
		}
	}
}

### Megastructure Tile-Restricted Buildings

building_energy_matter_converter_1_1 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_1_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_2_1 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_2_1 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_2_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_3_1 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_3_1 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_3_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_1_2 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_1_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_2_2 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_2_2 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_2_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_3_2 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_3_2 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_3_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_1_3 = {
	icon = "building_energy_matter_converter_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_1_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_2_3 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_minerals_buildings = yes }
	on_unqueued = { subtract_minerals_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_2_3 = {
	icon = "building_energy_matter_converter_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_2_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_matter_converter_3_3 }
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_matter_converter_3_3 = {
	icon = "building_energy_matter_converter_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_matter_converter_3_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_minerals_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = minerals_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = minerals_focus_factor_2 }
		}
	}
}
building_energy_conduit_1_1 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	#required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_1_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_2_1 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_2_1 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	#required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_2_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_3_1 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_3_1 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	#required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_3_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_1_2 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	#required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_1_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_2_2 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_2_2 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	#required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_2_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_3_2 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_3_2 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	#required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_3_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_1_3 = {
	icon = "building_energy_conduit_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	#required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_1_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_2_3 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_energy_buildings = yes }
	on_unqueued = { subtract_energy_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_2_3 = {
	icon = "building_energy_conduit_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	#required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_2_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_energy_conduit_3_3 }
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_energy_conduit_3_3 = {
	icon = "building_energy_conduit_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	#required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_energy_conduit_3_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { energy = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_energy_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = energy_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = energy_focus_factor_2 }
		}
	}
}
building_food_replicator_1_1 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_1_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_2_1 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_2_1 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_2_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_3_1 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_3_1 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_3_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_1_2 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_1_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_2_2 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_2_2 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_2_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_3_2 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_3_2 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_3_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_1_3 = {
	icon = "building_food_replicator_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_1_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_2_3 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t1_1_adjacency_bonus }
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_2_3 = {
	icon = "building_food_replicator_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_2_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_food_replicator_3_3 }
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t2_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_food_replicator_3_3 = {
	icon = "building_food_replicator_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	#requirements and upgrade
	potential = { conditions_food_replicator_3_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { food = @megastructure_unique_output }
	adjacency_bonus = { tile_building_resource_food_add = @megastructure_unique_t3_1_adjacency_bonus }
	#construction effects
	#ai restrictions and weights
	ai_allow = { food_buildings_limitation = no }
	ai_weight = {
		weight = 15
		modifier = {
			factor = 5
			from.owner = { has_country_flag = food_focus_factor_1 }
		}
		modifier = {
			factor = 10
			from.owner = { has_country_flag = food_focus_factor_2 }
		}
		modifier = {
			factor = 15
			from.owner = { has_country_flag = food_focus_factor_3 }
		}
		modifier = {
			factor = 20
			from.owner = { has_country_flag = food_focus_factor_4 }
		}
	}
}
building_computational_array_1_1 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_1_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_2_1 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t1_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_1_adjacency_bonus
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_2_1 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_2_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_3_1 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t2_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_1_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_3_1 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_3_1 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t3_1_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_1_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_1_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_1_2 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_1_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_2_2 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t1_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_2_adjacency_bonus
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_2_2 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_2_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_3_2 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t2_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_2_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_3_2 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_3_2 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t3_2_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_2_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_2_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_1_3 = {
	icon = "building_computational_array_1"
	tags = { special_resource_building }
	is_listed = yes
	base_buildtime = @megastructure_unique_t1_time
	cost = { minerals = @megastructure_unique_t1_cost }
	required_resources = { energy = @megastructure_unique_t1_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_1_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_2_3 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t1_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t1_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t1_3_adjacency_bonus
	}
	#construction effects
	on_queued = { check_food_buildings = yes }
	on_unqueued = { subtract_food_buildings = yes }
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_2_3 = {
	icon = "building_computational_array_2"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t2_time
	cost = { minerals = @megastructure_unique_t2_cost }
	required_resources = { energy = @megastructure_unique_t2_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_2_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	upgrades = { building_computational_array_3_3 }
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t2_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t2_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t2_3_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}
building_computational_array_3_3 = {
	icon = "building_computational_array_3"
	tags = { special_resource_building }
	is_listed = no
	base_buildtime = @megastructure_unique_t3_time
	cost = { minerals = @megastructure_unique_t3_cost }
	required_resources = { energy = @megastructure_unique_t3_upkeep }
	show_tech_unlock_if = { new_building_content_enabled = yes }
	#requirements and upgrade
	potential = { conditions_computational_array_3_3 = yes }
	allow = { 
		requires_megastructure_node_tile = yes 
		requires_building_capital_1_or_hab = yes
	}
	#resource output and modifiers
	produced_resources = { 
		society_research = @computational_array_output
		physics_research = @computational_array_output
		engineering_research = @computational_array_output
	}
	adjacency_bonus = { 
		tile_building_resource_society_research_add = @megastructure_unique_t3_3_adjacency_bonus
		tile_building_resource_physics_research_add = @megastructure_unique_t3_3_adjacency_bonus
		tile_building_resource_engineering_research_add = @megastructure_unique_t3_3_adjacency_bonus
	}
	#construction effects
	#ai restrictions and weights
	ai_weight = {
		weight = 15
		modifier = { 
			factor = 5
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_1
					has_country_flag = physics_research_focus_factor_1
					has_country_flag = engineering_research_focus_factor_1
				}
			}	
		}
		modifier = { 
			factor = 10
			from.owner = { 
				OR = {
					has_country_flag = society_research_focus_factor_2
					has_country_flag = physics_research_focus_factor_2
					has_country_flag = engineering_research_focus_factor_2
				}
			}	
		}	
	}
}