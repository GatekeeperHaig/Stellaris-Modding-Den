set_colonization_value = { 
	set_variable = { which = colonization_value value = planet_size_var }
	multiply_variable = { which = colonization_value value = 2 }
	set_variable = { which = energy_mult_planet_base value = 0 }
	set_variable = { which = minerals_mult_planet_base value = 0 }
	set_variable = { which = food_mult_planet_base value = 0 }
	set_variable = { which = unity_mult_planet_base value = 0 }
	set_variable = { which = society_research_mult_planet_base value = 0 }
	set_variable = { which = physics_research_mult_planet_base value = 0 }
	set_variable = { which = engineering_research_mult_planet_base value = 0 }	
	check_planet_modifiers_alphamod = yes
	check_planet_modifiers_se = yes
	check_planet_modifiers_gse = yes
	check_planet_modifiers_legw = yes
	check_planet_modifiers_co = yes
	check_planet_modifiers_esap = yes
	check_planet_modifiers_est = yes
	check_planet_modifiers_gwen = yes
	check_planet_modifiers_ut = yes
	check_planet_modifiers_dpe = yes
	check_planet_modifiers_mon = yes
	if = {
		limit = { gpm_enabled = no }
		check_vanilla_planet_modifiers = yes
	}
	else = { check_planet_modifiers_gpm = yes }
	check_planet_modifiers_pd = yes
	check_planet_modifiers_mem = yes
	check_planet_modifiers_expstr = yes
	check_planet_modifiers_cgm_planets = yes	
	set_variable = { which = minerals_weight value = 0 } 
	set_variable = { which = energy_weight value = 0 }
	set_variable = { which = food_weight value = 0 }
	set_variable = { which = unity_weight value = 0 }
	set_variable = { which = society_research_weight value = 0 }
	set_variable = { which = society_research_weight value = 0 }
	every_tile = { 
		limit = { has_deposit = yes }	
		if = {   
			limit = { has_resource = { type = minerals amount > 0 } }  
			if = {  
				limit = { has_resource = { type = minerals amount = 1 } }
				prev = { change_variable = { which = minerals_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 2 } }
				prev = { change_variable = { which = minerals_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 3 } }
				prev = { change_variable = { which = minerals_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 4 } }
				prev = { change_variable = { which = minerals_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 5 } }
				prev = { change_variable = { which = minerals_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 6 } }
				prev = { change_variable = { which = minerals_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 7 } }
				prev = { change_variable = { which = minerals_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 8 } }
				prev = { change_variable = { which = minerals_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 9 } }
				prev = { change_variable = { which = minerals_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount = 10 } }
				prev = { change_variable = { which = minerals_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = minerals amount > 10 } }
				prev = { change_variable = { which = minerals_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = energy amount > 0 } }  
			if = {  
				limit = { has_resource = { type = energy amount = 1 } }
				prev = { change_variable = { which = energy_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 2 } }
				prev = { change_variable = { which = energy_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 3 } }
				prev = { change_variable = { which = energy_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 4 } }
				prev = { change_variable = { which = energy_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 5 } }
				prev = { change_variable = { which = energy_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 6 } }
				prev = { change_variable = { which = energy_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 7 } }
				prev = { change_variable = { which = energy_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 8 } }
				prev = { change_variable = { which = energy_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 9 } }
				prev = { change_variable = { which = energy_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount = 10 } }
				prev = { change_variable = { which = energy_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = energy amount > 10 } }
				prev = { change_variable = { which = energy_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = food amount > 0 } }  
			if = {  
				limit = { has_resource = { type = food amount = 1 } }
				prev = { change_variable = { which = food_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 2 } }
				prev = { change_variable = { which = food_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 3 } }
				prev = { change_variable = { which = food_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 4 } }
				prev = { change_variable = { which = food_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 5 } }
				prev = { change_variable = { which = food_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 6 } }
				prev = { change_variable = { which = food_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 7 } }
				prev = { change_variable = { which = food_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 8 } }
				prev = { change_variable = { which = food_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 9 } }
				prev = { change_variable = { which = food_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount = 10 } }
				prev = { change_variable = { which = food_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = food amount > 10 } }
				prev = { change_variable = { which = food_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = unity amount > 0 } }  
			if = {  
				limit = { has_resource = { type = unity amount = 1 } }
				prev = { change_variable = { which = unity_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 2 } }
				prev = { change_variable = { which = unity_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 3 } }
				prev = { change_variable = { which = unity_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 4 } }
				prev = { change_variable = { which = unity_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 5 } }
				prev = { change_variable = { which = unity_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 6 } }
				prev = { change_variable = { which = unity_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 7 } }
				prev = { change_variable = { which = unity_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 8 } }
				prev = { change_variable = { which = unity_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 9 } }
				prev = { change_variable = { which = unity_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount = 10 } }
				prev = { change_variable = { which = unity_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = unity amount > 10 } }
				prev = { change_variable = { which = unity_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = society_research amount > 0 } }  
			if = {  
				limit = { has_resource = { type = society_research amount = 1 } }
				prev = { change_variable = { which = society_research_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 2 } }
				prev = { change_variable = { which = society_research_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 3 } }
				prev = { change_variable = { which = society_research_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 4 } }
				prev = { change_variable = { which = society_research_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 5 } }
				prev = { change_variable = { which = society_research_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 6 } }
				prev = { change_variable = { which = society_research_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 7 } }
				prev = { change_variable = { which = society_research_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 8 } }
				prev = { change_variable = { which = society_research_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 9 } }
				prev = { change_variable = { which = society_research_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount = 10 } }
				prev = { change_variable = { which = society_research_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = society_research amount > 10 } }
				prev = { change_variable = { which = society_research_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = physics_research amount > 0 } }  
			if = {  
				limit = { has_resource = { type = physics_research amount = 1 } }
				prev = { change_variable = { which = physics_research_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 2 } }
				prev = { change_variable = { which = physics_research_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 3 } }
				prev = { change_variable = { which = physics_research_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 4 } }
				prev = { change_variable = { which = physics_research_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 5 } }
				prev = { change_variable = { which = physics_research_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 6 } }
				prev = { change_variable = { which = physics_research_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 7 } }
				prev = { change_variable = { which = physics_research_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 8 } }
				prev = { change_variable = { which = physics_research_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 9 } }
				prev = { change_variable = { which = physics_research_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount = 10 } }
				prev = { change_variable = { which = physics_research_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = physics_research amount > 10 } }
				prev = { change_variable = { which = physics_research_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_resource = { type = engineering_research amount > 0 } }  
			if = {  
				limit = { has_resource = { type = engineering_research amount = 1 } }
				prev = { change_variable = { which = engineering_research_weight value = 1 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 2 } }
				prev = { change_variable = { which = engineering_research_weight value = 2 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 3 } }
				prev = { change_variable = { which = engineering_research_weight value = 3 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 4 } }
				prev = { change_variable = { which = engineering_research_weight value = 4 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 5 } }
				prev = { change_variable = { which = engineering_research_weight value = 5 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 6 } }
				prev = { change_variable = { which = engineering_research_weight value = 6 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 7 } }
				prev = { change_variable = { which = engineering_research_weight value = 7 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 8 } }
				prev = { change_variable = { which = engineering_research_weight value = 8 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 9 } }
				prev = { change_variable = { which = engineering_research_weight value = 9 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount = 10 } }
				prev = { change_variable = { which = engineering_research_weight value = 10 } }
			}  
			else_if = {  
				limit = { has_resource = { type = engineering_research amount > 10 } }
				prev = { change_variable = { which = engineering_research_weight value = 10 } }
			}  
		}  
		if = {   
			limit = { has_any_tile_strategic_resource = yes }  
			prev = { change_variable = { which = colonization_value value = 5 }} 
		}  
	}
}	