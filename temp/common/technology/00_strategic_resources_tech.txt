@tier1cost1 = 500
@tier1cost2 = 750
@tier1cost3 = 1000
@tier2cost1 = 1500
@tier2cost2 = 2000
@tier2cost3 = 2500
@tier3cost1 = 4000
@tier3cost2 = 5000
@tier3cost3 = 6000
@tier4cost1 = 8000
@tier4cost2 = 10000
@tier4cost3 = 12000
@tier5cost1 = 15000
@tier5cost2 = 17500
@tier5cost3 = 20000
@tier1weight1 = 100
@tier1weight2 = 95
@tier1weight3 = 90
@tier2weight1 = 85
@tier2weight2 = 75
@tier2weight3 = 70
@tier3weight1 = 65
@tier3weight2 = 60
@tier3weight3 = 50
@tier4weight1 = 45
@tier4weight2 = 40
@tier4weight3 = 35
@tier5weight1 = 30
@tier5weight2 = 25
@tier5weight3 = 20

### Debugged vanilla techs (there are many bugs in the vanilla file!)

tech_mine_garanthium = {
	cost = @tier2cost1
	area = engineering
	tier = 2
	category = { materials }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_0  
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_mine_garanthium"
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
	}
}
tech_lythuric_gas = {
	cost = @tier2cost1
	area = physics
	tier = 2
	category = { field_manipulation }
	prerequisites = { "tech_sensors_2" }
	weight = @tier2weight1
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = physics has_trait = "leader_trait_expertise_field_manipulation" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_1  
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_lythuric_gas"
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = physics has_trait = "leader_trait_expertise_field_manipulation" }
		}
	}
}
tech_mine_teldar = {
	cost = @tier2cost1
	area = engineering
	tier = 2
	category = { materials }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_3
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_mine_teldar"
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
	}
}
tech_mine_yuranic = {
	cost = @tier2cost1
	area = engineering
	tier = 2
	category = { materials }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_4
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_mine_yuranic" 
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
	}
}
tech_mine_orillium = {
	cost = @tier2cost1
	area = engineering
	tier = 2
	category = { materials }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_5  #Orillium cluster
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_mine_orillium" }
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
	}
}
tech_mine_neutronium = {
	cost = @tier4cost1
	area = physics
	tier = 4
	category = { particles }
	prerequisites = { "tech_sensors_4" }
	weight = @tier4weight1
	weight_modifier = {
		factor = 2 
		modifier = {
			factor = 1.5
			research_leader = { area = physics has_trait = "leader_trait_expertise_particles" }
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = physics has_trait = "leader_trait_expertise_particles" }
		}
	}
}
tech_mine_living_metal = {
	cost = @tier5cost1
	area = engineering
	tier = 5
	category = { materials }
	prerequisites = { "tech_space_construction" }
	weight = @tier5weight1
	weight_modifier = { factor = 0 }
}
tech_mine_zro = {
	cost = @tier4cost1
	area = society
	tier = 4
	category = { psionics }
	is_rare = yes
	prerequisites = { "tech_sensors_3" "tech_psionic_theory" }
	weight = @tier4weight1
	weight_modifier = {
		modifier = {
			factor = 0.10
			NOR = {
				research_leader = { area = society has_trait = "leader_trait_expertise_psionics" }
				research_leader = { area = society has_trait = "leader_trait_curator" }
			}
		}
		modifier = {
			factor = 10
			research_leader = { area = society has_trait = "leader_trait_expertise_psionics" }
		}
	}
	ai_weight = {
		factor = 3  #very rare tech
		modifier = {
			factor = 1.25
			research_leader = { area = society has_trait = "leader_trait_expertise_psionics" }
		}
	}
}
tech_mine_dark_matter = {
	cost = @tier4cost2
	area = physics
	tier = 4
	category = { field_manipulation }
	prerequisites = { "tech_sensors_4" }
	weight = @tier4weight2
	weight_modifier = {
		modifier = {
			factor = 1.5
			research_leader = { area = physics has_trait = "leader_trait_expertise_materials" }
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = physics has_trait = "leader_trait_expertise_materials" }
		}
	}
}

#changed techs

tech_engos_vapor = {
	cost = @tier2cost1
	area = society
	tier = 2
	category = { biology }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	potential = { NOT = { has_global_flag = planets_enhanced_active } }
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = society has_trait = "leader_trait_expertise_biology" }
		}
		modifier = {
			factor = 0
			NOR = {
				any_system_within_border = {
					is_in_cluster = resource_cluster_2  
				}
				any_relation = {
					is_country_type = default
					has_communications = root has_technology = "tech_engos_vapor"
				}
			}
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = society has_trait = "leader_trait_expertise_biology" }
		}
	}
}
tech_mine_satramene = {
	cost = @tier2cost2
	area = physics
	tier = 2
	category = { particles }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight2
	potential = { NOT = { has_global_flag = planets_enhanced_active } }
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 2
			research_leader = { area = physics has_trait = "leader_trait_expertise_particles" }
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = physics has_trait = "leader_trait_expertise_particles" }
		}
	}
}
tech_pitharan_dust = {
	cost = @tier2cost1
	area = society
	tier = 2
	category = { biology }
	prerequisites = { "tech_mineral_processing_1" }
	weight = @tier2weight1
	potential = { NOT = { has_global_flag = planets_enhanced_active } }
	weight_modifier = {
		factor = 2  
		modifier = {
			factor = 1.5
			research_leader = { area = society has_trait = "leader_trait_expertise_biology" }
		}
	}
	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = society has_trait = "leader_trait_expertise_biology" }
		}
	}
}

### Planetary 

tech_mine_betharian = {
	cost = @tier1cost3
	area = engineering
	tier = 1
	category = { materials }
	weight = @tier1weight3
	weight_modifier = {
		factor = 2
		modifier = {
			factor = 2
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet = {
					any_tile = {
						has_resource = { type = sr_betharian amount > 0 }
					}
				}
			}
		}
	}
	ai_weight = {
		factor = 4  
		modifier = {
			factor = 1.25
			research_leader = { area = engineering has_trait = "leader_trait_expertise_materials" }
		}
	}
}
tech_alien_life_studies = {
	cost = @tier1cost3
	area = society
	tier = 1
	category = { new_worlds }
	weight = @tier1weight3
	
	weight_modifier = {
		factor = 2 
		modifier = {
			factor = 1.5
			research_leader = { area = society has_trait = "leader_trait_expertise_new_worlds" }
		}	
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet = {
					any_tile = {
						has_resource = {
							type = sr_alien_pets
							amount > 0
						}
					}
				}
			}
		}		
	}	

	ai_weight = {
		factor = 5  
		modifier = {
			factor = 1.25
			research_leader = { area = society has_trait = "leader_trait_expertise_new_worlds" }
		}	
		modifier = {
			factor = 0
			NOT = { has_country_flag = first_alien_life }
		}
	}
}
