check_cgm_planets_buildings_adjacency = {
	every_neighboring_tile = {
		if = {
			limit = { has_building = building_archaeological_compound }
			prevprev = {
				change_variable = { which = society_research_weight value = 1 }
			}
			else = {
				if = {
					limit = { has_building = building_iron_wood_mill }
					prevprev = {
						change_variable = { which = minerals_weight value = 1 }
					}
					else = {
						if = {
							limit = { has_building = building_zinorine_computer }
							prevprev = {
								change_variable = { which = physics_research_weight value = 1 }
							}
							else = {
								if = {
									limit = { has_building = building_blooming_ore_refinery }
									prevprev = {
										change_variable = { which = engineering_research_weight value = 1 }
									}
									else = {
										if = {
											limit = { has_building = building_helium_3_power_hub }
											prevprev = {
												change_variable = { which = energy_weight value = 1 }
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			NAND = { exists = owner owner_is_gestalt_consciousness = yes }
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_hivaron_farm }
				prevprev = {
					change_variable = { which = food_weight value = 1 }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_aurantiacum_x_stabilization" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_aurantiacum_x_stabilizer }
				prevprev = {
					change_variable = { which = physics_research_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_elder_compounds_extraction" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_elder_compounds_extractor }
				prevprev = {
					change_variable = { which = minerals_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_precursor_data_protocols" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_precursor_data_link }
				prevprev = {
					change_variable = { which = unity_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_gigalife_processing" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_gigalife_preserve }
				prevprev = {
					change_variable = { which = society_research_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						NOT = { has_technology = "tech_gigalife_processing" }
						is_gestalt_consciousness = yes
					}
				}
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_lifetap }
				prevprev = {
					change_variable = { which = society_research_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						NOT = { has_technology = "tech_gigalife_processing" }
						is_gestalt_consciousness = no
					}
				}
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_lifetap_gestalt }
				prevprev = {
					change_variable = { which = society_research_weight value = @unique_resource_building_half_adjacency }
					change_variable = { which = energy_weight value = @unique_resource_building_half_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_thybidium_refining" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_thybidium_refinery }
				prevprev = {
					change_variable = { which = energy_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_euratite_transmutation" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_euratite_transmuter }
				prevprev = {
					change_variable = { which = physics_research_weight value = @unique_resource_building_half_adjacency }
					change_variable = { which = energy_weight value = @unique_resource_building_half_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_gravitronic_manipulation" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_gravitronic_engine }
				prevprev = {
					change_variable = { which = engineering_research_weight value = @unique_resource_building_full_adjacency }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_precursor_nanonics" } }
			}
		}
		every_neighboring_tile = {
			if = {
				limit = { has_building = building_nanite_treatment_facility }
				prevprev = {
					change_variable = { which = engineering_research_weight value = @unique_resource_building_half_adjacency }
					change_variable = { which = society_research_weight value = @unique_resource_building_half_adjacency }
				}
			}
		}
	}
}
check_cgm_planets_buildings = {
	if = {
		limit = { owner_is_hive_mind_empire = yes }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_iron_wood_mill }
				prev = {
					change_variable = { which = unity_mult_planet_building value = 0.2 }
				}
			}
		}
	}
	if = {
		limit = { owner_is_pacifist = no }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_hivaron_farm }
				prev = {
					change_variable = { which = food_mult_planet_building value = 0.15 }
				}
			}
		}
	}
	if = {
		limit = { owner_is_pacifist = yes }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_hivaron_farm }
				prev = {
					change_variable = { which = food_mult_planet_building value = 0.1 }
					change_variable = { which = unity_mult_planet_building value = 0.1 }
				}
			}
		}
	}
	if = {
		limit = { owner_is_materialist = no }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_zinorine_computer }
				prev = {
					change_variable = { which = physics_research_mult_planet_building value = 0.15 }
				}
			}
		}
	}
	if = {
		limit = { owner_is_materialist = yes }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_zinorine_computer }
				prev = {
					change_variable = { which = physics_research_mult_planet_building value = 0.1 }
				}
			}
		}
	}
	if = {
		limit = { owner_is_machine_empire = yes }
		 #NON_UNIQUE
		every_tile = {
			if = {
				limit = { has_building = building_blooming_ore_refinery }
				prev = {
					change_variable = { which = unity_mult_planet_building value = 0.2 }
				}
			}
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_aurantiacum_x_stabilization" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_aurantiacum_x_stabilizer }
			change_variable = { which = physics_research_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_elder_compounds_extraction" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_elder_compounds_extractor }
			change_variable = { which = minerals_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_precursor_data_protocols" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_precursor_data_link }
			change_variable = { which = unity_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_gigalife_processing" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_gigalife_preserve }
			change_variable = { which = society_research_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = {
					OR = {
						NOT = { has_technology = "tech_gigalife_processing" }
						is_gestalt_consciousness = no
					}
				}
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_lifetap_gestalt }
			change_variable = { which = society_research_mult_planet_building value = 0.2 }
			change_variable = { which = energy_mult_planet_building value = 0.2 }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_thybidium_refining" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_thybidium_refinery }
			change_variable = { which = energy_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_euratite_transmutation" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_euratite_transmuter }
			change_variable = { which = physics_research_mult_planet_building value = 0.2 }
			change_variable = { which = energy_mult_planet_building value = 0.15 }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_gravitronic_manipulation" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_gravitronic_engine }
			change_variable = { which = engineering_research_mult_planet_building value = @unique_resource_building_tile_resource_planet_modifier }
		}
	}
	if = {
		limit = {
			NAND = {
				exists = owner
				owner = { NOT = { has_technology = "tech_precursor_nanonics" } }
			}
		}
		 #UNIQUE
		if = {
			limit = { has_building = building_nanite_treatment_facility }
			change_variable = { which = engineering_research_mult_planet_building value = 0.2 }
			change_variable = { which = society_research_mult_planet_building value = 0.15 }
		}
	}
	 #UNIQUE
	if = {
		limit = { has_building = building_helium_3_power_hub }
		change_variable = { which = energy_mult_planet_building value = 0.35 }
	}
}
