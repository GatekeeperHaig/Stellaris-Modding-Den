
namespace = gpm_anomaly

@tier1influencecontact = 7
@tier1influencecontactxenophile = 8
@tier1influencecontactmin = 20
@tier1influencecontactmax = 80

@tier2influencecontact = 10
@tier2influencecontactxenophile = 12
@tier2influencecontactmin = 40
@tier2influencecontactmax = 100

@tier1materialreward = 6
@tier1materialmin = 100
@tier1materialmax = 500
@tier2materialreward = 12
@tier2materialmin = 150
@tier2materialmax = 1000
@tier3materialreward = 18
@tier3materialmin = 250
@tier3materialmax = 1500
@tier4materialreward = 24
@tier4materialmin = 350
@tier4materialmax = 2000
@tier5materialreward = 48
@tier5materialmin = 700
@tier5materialmax = 4000

@tier1influencereward = 6
@tier1influencemin = 40
@tier1influencemax = 100
@tier2influencereward = 12
@tier2influencemin = 80
@tier2influencemax = 175
@tier3influencereward = 18
@tier3influencemin = 125
@tier3influencemax = 250
@tier4influencereward = 24
@tier4influencemin = 150
@tier4influencemax = 300
@tier5influencereward = 36
@tier5influencemin = 250
@tier5influencemax = 500
@tier6influencereward = 48
@tier6influencemin = 300
@tier6influencemax = 600

@tier1researchreward = 6
@tier1researchmin = 60
@tier1researchmax = 150
@tier2researchreward = 12
@tier2researchmin = 90
@tier2researchmax = 250
@tier3researchreward = 18
@tier3researchmin = 120
@tier3researchmax = 350
@tier4researchreward = 24
@tier4researchmin = 150
@tier4researchmax = 500
@tier5researchreward = 48
@tier5researchmin = 300
@tier5researchmax = 1000

# ROOT = ship scope
# FROM = planet scope

### Black Hole Inspirational
ship_event = {
	id = gpm_anomaly.78877
	title = "gpm_anomaly.78877.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = gpm_anomaly.78877.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = gpm_anomaly.78877.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = gpm_anomaly.78877.desc.mach
	}
	picture = GFX_evt_gpm_black_hole
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_anomaly.78877 ----"
		log = "---- Black Hole gpm_anomaly ----"
		from = { orbital_deposit_tile = { clear_deposits = yes } }
		owner = { country_event = { id = story.2 days = 30 } }
	}
	
	option = {
		trigger = { owner = { NOR = {
			has_authority = auth_hive_mind
			has_authority = auth_machine_intelligence 
			} } }
		name = MARVELOUS
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Inspirational"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Inspirational
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_dark_matter
				progress = 0.25
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_hive_mind } }
		name = INTRIGUING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Inspirational"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Inspirational
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_dark_matter
				progress = 0.25
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_machine_intelligence } }
		name = syndaw.502.a
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Inspirational"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Inspirational
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_dark_matter
				progress = 0.25
			}
		}
	}
}

### Star Very Bright
ship_event = {
	id = gpm_anomaly.78878
	title = "gpm_anomaly.78878.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = gpm_anomaly.78878.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = gpm_anomaly.78878.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = gpm_anomaly.78878.desc.mach
	}
	picture = GFX_evt_gpm_bright_sun
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_anomaly.78878 ----"
		log = "---- Star Very Bright gpm_anomaly ----"
		from = { orbital_deposit_tile = { clear_deposits = yes } }
		owner = { country_event = { id = story.2 days = 30 } }
	}
	
	option = {
		trigger = { owner = { NOR = {
			has_authority = auth_hive_mind
			has_authority = auth_machine_intelligence 
			} } }
		name = FASCINATING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Unusual_Bright_Sun"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_sun_energy_deposit
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_hive_mind } }
		name = EXCELLENT
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Unusual_Bright_Sun"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_sun_energy_deposit
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_machine_intelligence } }
		name = GOOD
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Unusual_Bright_Sun"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_sun_energy_deposit
			}
		}
	}
}

### Time-Displaced
ship_event = {
	id = gpm_anomaly.78879
	title = "gpm_anomaly.78879.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = gpm_anomaly.78879.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = gpm_anomaly.78879.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = gpm_anomaly.78879.desc.mach
	}
	picture = GFX_evt_gpm_time_displaced
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_anomaly.78879 ----"
		log = "---- Time Displaced gpm_anomaly ----"
		from = { orbital_deposit_tile = { clear_deposits = yes } }
		owner = { country_event = { id = story.2 days = 30 } }
	}
	
	option = {
		trigger = { owner = { NOR = {
			has_authority = auth_hive_mind
			has_authority = auth_machine_intelligence 
			} } }
		name = ASTOUNDING
		hidden_effect = {
			FROM = {
				add_modifier = { modifier = "Time_Displaced_Planet" days = -1 }
				if = {
					limit = { 
						NOR = { 
							has_modifier = terraforming_candidate 
							has_modifier = terraforming_candidate_precursor
							gpm_is_planet_habitable = yes
						}
					}
					add_modifier = { modifier = terraforming_candidate_precursor days = -1 }
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Time_Displaced_Planet
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_hive_mind } }
		name = INTRIGUING
		hidden_effect = {
			FROM = {
				add_modifier = { modifier = "Time_Displaced_Planet" days = -1 }
				if = {
					limit = { 
						NOR = { 
							has_modifier = terraforming_candidate 
							has_modifier = terraforming_candidate_precursor
							gpm_is_planet_habitable = yes
						}
					}
					add_modifier = { modifier = terraforming_candidate_precursor days = -1 }
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Time_Displaced_Planet
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_machine_intelligence } }
		name = syndaw.501.b.tooltip
		hidden_effect = {
			FROM = {
				add_modifier = { modifier = "Time_Displaced_Planet" days = -1 }
				if = {
					limit = { 
						NOR = { 
							has_modifier = terraforming_candidate 
							has_modifier = terraforming_candidate_precursor
							gpm_is_planet_habitable = yes
						}
					}
					add_modifier = { modifier = terraforming_candidate_precursor days = -1 }
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Time_Displaced_Planet
			}
		}
	}
}

### protomolecule
ship_event = {
	id = gpm_anomaly.78880
	title = "gpm_anomaly.78880.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = gpm_anomaly.78880.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = gpm_anomaly.78880.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = gpm_anomaly.78880.desc.mach
	}
	picture = GFX_evt_gpm_proto_molecule
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_anomaly.78880 ----"
		log = "---- protomolecule gpm_anomaly ----"
		from = { orbital_deposit_tile = { clear_deposits = yes } }
		owner = { country_event = { id = story.2 days = 30 } }
	}
	
	option = {
		trigger = { owner = { NOR = {
			has_authority = auth_hive_mind
			has_authority = auth_machine_intelligence 
			} } }
		name = WORRYING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Protomolecule_Infected_Station"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_proto_molecule_deposit
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_hive_mind } }
		name = FASCINATING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Protomolecule_Infected_Station"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_proto_molecule_deposit
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_machine_intelligence } }
		name = syndaw.501.b
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Protomolecule_Infected_Station"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_proto_molecule_deposit
			}
		}
	}
}

### Pulsar Clock
ship_event = {
	id = gpm_anomaly.78881
	title = "gpm_anomaly.78881.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = gpm_anomaly.78881.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = gpm_anomaly.78881.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = gpm_anomaly.78881.desc.mach
	}
	picture = GFX_evt_gpm_pulsar_clock
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_anomaly.78881 ----"
		log = "---- pulsar gpm_anomaly ----"
		from = { orbital_deposit_tile = { clear_deposits = yes } }
		owner = { country_event = { id = story.2 days = 30 } }
	}
	
	option = {
		trigger = { owner = { NOR = {
			has_authority = auth_hive_mind
			has_authority = auth_machine_intelligence 
			} } }
		name = FASCINATING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Pulsar_clock"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Pulsar_clock
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_neutronium
				progress = 0.25
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_hive_mind } }
		name = AMAZING
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Pulsar_clock"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Pulsar_clock
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_neutronium
				progress = 0.25
			}
		}
	}
	option = {
		trigger = { owner = { has_authority = auth_machine_intelligence } }
		name = story.215.b.mater
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = "Pulsar_clock"
					days = -1
				}
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = gpm_Pulsar_clock
			}
		}
		owner = {
			add_tech_progress = {
				tech = tech_mine_neutronium
				progress = 0.25
			}
		}
	}
}