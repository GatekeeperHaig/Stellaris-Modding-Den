remove_regular_planet_modifiers = {
	if = {
		limit = { has_modifier = hazardous_weather }
		remove_modifier = hazardous_weather
	}
	if = {
		limit = { has_modifier = dangerous_wildlife }
		remove_modifier = dangerous_wildlife
	}
	if = {
		limit = { has_modifier = weak_magnetic_field }
		#remove_modifier = weak_magnetic_field
	}
	if = {
		limit = { has_modifier = strong_magnetic_field }
		#remove_modifier = strong_magnetic_field
	}
	if = {
		limit = { has_modifier = unstable_tectonics }
		remove_modifier = unstable_tectonics
	}
	if = {
		limit = { has_modifier = tidal_locked }
		#remove_modifier = tidal_locked
	}
	if = {
		limit = { has_modifier = chthonian_planet }
		#remove_modifier = chthonian_planet
	}
	if = {
		limit = { has_modifier = asteroid_impacts }
		remove_modifier = asteroid_impacts
	}
	if = {
		limit = { has_modifier = extensive_moon_system }
		#remove_modifier = extensive_moon_system
	}
	if = {
		limit = { has_modifier = carbon_world }
		#remove_modifier = carbon_world
	}
	if = {
		limit = { has_modifier = wild_storms }
		remove_modifier = wild_storms
	}
	if = {
		limit = { has_modifier = low_gravity }
		#remove_modifier = low_gravity
	}
	if = {
		limit = { has_modifier = high_gravity }
		#remove_modifier = high_gravity
	}
	if = {
		limit = { has_modifier = mineral_rich }
		remove_modifier = mineral_rich
	}
	if = {
		limit = { has_modifier = ultra_rich }
		remove_modifier = ultra_rich
	}
	if = {
		limit = { has_modifier = mineral_poor }
		remove_modifier = mineral_poor
	}
	if = {
		limit = { has_modifier = titanic_life }
		remove_modifier = titanic_life
	}
	if = {
		limit = { has_modifier = asteroid_belt }
		#remove_modifier = asteroid_belt
	}
	if = {
		limit = { has_modifier = natural_beauty }
		remove_modifier = natural_beauty
	}
	if = {
		limit = { has_modifier = atmospheric_aphrodisiac }
		remove_modifier = atmospheric_aphrodisiac
	}
	if = {
		limit = { has_modifier = atmospheric_hallucinogen }
		remove_modifier = atmospheric_hallucinogen
	}
	if = {
		limit = { has_modifier = lush_planet }
		remove_modifier = lush_planet
	}
	if = {
		limit = { has_modifier = bleak_planet }
		remove_modifier = bleak_planet
	}
	if = {
		limit = { has_modifier = irradiated_planet }
		#remove_modifier = irradiated_planet
	}
}

small_biome_modifier_spawn = {
	set_variable = { which = pm_positive value = 1 } # We only want 1 pm spawning from below list
	while = {
		limit = { check_variable = { which = "pm_positive" value > 0 } }
		random_list = {
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = mineral_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = ultra_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = titanic_life }
				add_modifier = { modifier = titanic_life days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = natural_beauty }
				add_modifier = { modifier = natural_beauty days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = atmospheric_aphrodisiac }
				add_modifier = { modifier = atmospheric_aphrodisiac days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = bleak_planet }
				modifier = { factor = 0 has_modifier = lush_planet }
				add_modifier = { modifier = lush_planet days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				# no modifier on this roll
				change_variable = { which = "pm_positive" value = -1 }
			}
		}
	}
}

average_biome_modifier_spawn = {
	set_variable = { which = pm_positive value = 1 } # We only want 1 pm spawning from below list
	while = {
		limit = { check_variable = { which = "pm_positive" value > 0 } }
		random_list = {
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = mineral_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = ultra_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = titanic_life }
				add_modifier = { modifier = titanic_life days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = natural_beauty }
				add_modifier = { modifier = natural_beauty days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = atmospheric_aphrodisiac }
				add_modifier = { modifier = atmospheric_aphrodisiac days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = bleak_planet }
				modifier = { factor = 0 has_modifier = lush_planet }
				add_modifier = { modifier = lush_planet days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				# no modifier on this roll
				change_variable = { which = "pm_positive" value = -1 }
			}
		}
	}
	set_variable = { which = pm_negative value = 1 } # We only want 1 pm spawning from below list
	while = {
		limit = { check_variable = { which = "pm_negative" value > 0 } }
		random_list = {
			1 = {
				modifier = { factor = 0 has_modifier = hazardous_weather }
				add_modifier = { modifier = hazardous_weather days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = dangerous_wildlife }
				add_modifier = { modifier = dangerous_wildlife days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = unstable_tectonics }
				add_modifier = { modifier = unstable_tectonics days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = wild_storms }
				add_modifier = { modifier = wild_storms days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = atmospheric_hallucinogen }
				add_modifier = { modifier = atmospheric_hallucinogen days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = mineral_poor days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = bleak_planet }
				modifier = { factor = 0 has_modifier = lush_planet }
				add_modifier = { modifier = bleak_planet days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				# no modifier on this roll
				change_variable = { which = "pm_negative" value = -1 }
			}
		}
	}
}

large_biome_modifier_spawn = {
	set_variable = { which = pm_positive value = 2 } # We only want at most 2 pm spawning from below list
	while = {
		limit = { check_variable = { which = "pm_positive" value > 0 } }
		random_list = {
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = mineral_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = ultra_rich days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = titanic_life }
				add_modifier = { modifier = titanic_life days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = natural_beauty }
				add_modifier = { modifier = natural_beauty days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = atmospheric_aphrodisiac }
				add_modifier = { modifier = atmospheric_aphrodisiac days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = bleak_planet }
				modifier = { factor = 0 has_modifier = lush_planet }
				add_modifier = { modifier = lush_planet days = -1 }
				change_variable = { which = "pm_positive" value = -1 }
			}
			1 = {
				# no modifier on this roll
				change_variable = { which = "pm_positive" value = -1 }
			}
		}
	}
	set_variable = { which = pm_negative value = 2 } # We only want at most 2 pm spawning from below list
	while = {
		limit = { check_variable = { which = "pm_negative" value > 0 } }
		random_list = {
			1 = {
				modifier = { factor = 0 has_modifier = hazardous_weather }
				add_modifier = { modifier = hazardous_weather days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = dangerous_wildlife }
				add_modifier = { modifier = dangerous_wildlife days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = unstable_tectonics }
				add_modifier = { modifier = unstable_tectonics days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = wild_storms }
				add_modifier = { modifier = wild_storms days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = atmospheric_hallucinogen }
				add_modifier = { modifier = atmospheric_hallucinogen days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = ultra_rich }
				modifier = { factor = 0 has_modifier = mineral_rich }
				modifier = { factor = 0 has_modifier = mineral_poor }
				add_modifier = { modifier = mineral_poor days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				modifier = { factor = 0 has_modifier = bleak_planet }
				modifier = { factor = 0 has_modifier = lush_planet }
				add_modifier = { modifier = bleak_planet days = -1 }
				change_variable = { which = "pm_negative" value = -1 }
			}
			1 = {
				# no modifier on this roll
				change_variable = { which = "pm_negative" value = -1 }
			}
		}
	}
}