namespace = custom_difficulty

#main menu
country_event = {
  id = custom_difficulty.0
  is_triggered_only = yes
  title = custom_difficulty.0.name
  desc = {
    trigger = {
      success_text = {
        text = custom_difficulty.0.desc
        not = { has_global_flag = custom_difficulty_locked }
      }
      success_text = {
        text = custom_difficulty.0.locked.desc
        has_global_flag = custom_difficulty_locked
      }
    }
  }

  option = {
    name = custom_difficulty_ai.name
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.1000 }
    }
  }
  option = {
    name = custom_difficulty_fe.name
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.2000 }
    }
  }
  option = {
    name = custom_difficulty_leviathan.name
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.3000 }
    }
  }
  option = {
    name = custom_difficulty_player.name
    trigger = {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.4000 }
    }
  }
  option = {
    name = custom_difficulty.0.lock.name
    desc = custom_difficulty.0.lock.desc
    trigger = 
    {
      not = { has_global_flag = custom_difficulty_locked }
    }
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
      country_event = { id = custom_difficulty.1 }
    }
  }
  option = {
    name = custom_difficulty.0.unlock.name
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
      remove_global_flag = custom_difficulty_locked
    }
  }
  option = {
    name = close_custom_difficulty.name
    hidden_effect = {
      country_event = { id = custom_difficulty.9999 }
    }
  }
  #immediate = { 
  #  set_variable = { which = custom_difficulty_ai_mineral value = 1 }
  # }


}

#lock confirmation
country_event = {
  id = custom_difficulty.1
  is_triggered_only = yes
  title = custom_difficulty.0.lock.name
  desc = custom_difficulty.0.lock.desc
  option = {
    name = OK
    hidden_effect = {
      set_global_flag = custom_difficulty_locked
    }
  }
  option = {
    name = custom_difficulty.cancel
    hidden_effect = {
      country_event = { id = custom_difficulty.0 }
    }
  }
}

country_event = {
  id = custom_difficulty.9999
  is_triggered_only = yes
  hide_window = yes
}