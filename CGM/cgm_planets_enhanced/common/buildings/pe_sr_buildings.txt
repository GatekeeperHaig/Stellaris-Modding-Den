@strategic_resource_building_buildtime = 240
@strategic_resource_building_cost = 150
@strategic_resource_building_upkeep = 2
@unique_strategic_resource_building_buildtime = 720
@unique_strategic_resource_building_cost = 500
@unique_strategic_resource_building_upkeep = 5
@unique_strategic_resource_building_half_output = 12
@unique_strategic_resource_building_full_output = 24
@unique_resource_building_tile_resource_planet_modifier = 0.35
@unique_resource_building_country_research_bonus_modifier = 0.2
@unique_resource_building_half_adjacency = 1.5
@unique_resource_building_full_adjacency = 3

building_lithium_processor = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_lithium = yes } }
	#prerequisites = { }
	allow = { 
		requires_capital_1 = yes
		requires_lithium = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = 8 }
	produced_resource_trigger = {
		modifier = { 
			OR = { 
				allows_robots = no
				is_machine_empire = no
			}	
			resources = { minerals = 2 }
		}
	}	
	triggered_planet_modifier = { 
		key = "building_lithium_processor"
		potential = { 
			OR = { 
				owner_allows_robots = yes
				owner_is_machine_empire = yes
			}			
		}
		modifier = { 
			pop_robot_upkeep_mult = -0.2
		}
	}			
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_precious_metal_foundry = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_precious_metals = yes } }
	#prerequisites = { }
	allow = { 
		requires_capital_1 = yes
		requires_precious_metals = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 4 minerals = 4 }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_chromium_foundry = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_chromium = yes } }
	#prerequisites = { }
	allow = { 
		requires_capital_1 = yes
		requires_chromium = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = 8 }
	produced_resource_trigger = {
		modifier = { 			
			OR = { 
				allows_robots = no
				is_machine_empire = no
			}	
			resources = { minerals = 2 }
		}
	}	
	triggered_planet_modifier = { 
		key = "building_chromium_foundry"
		potential = { 
			OR = { 
				owner_allows_robots = yes
				owner_is_machine_empire = yes
			}
		}
		modifier = { 
			pop_robot_build_cost_mult = -0.20
		}
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_spice_emporium = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_exotic_spices = yes } }
	#prerequisites = { }
	allow = { 
		requires_capital_1 = yes
		requires_exotic_spices = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 5 }
	produced_resource_trigger = {
		modifier = { 
			is_gestalt_consciousness = no	
			is_synth_empire = no
			resources = { food = 3 }
		}		
		modifier = { 
			is_hive_mind_empire = yes
			resources = { food = 5 }
		}			
		modifier = { 
			OR = { 
				is_machine_empire = yes
				is_synth_empire = yes
			}	
			resources = { energy = 5 }
		}							
	}	
	triggered_planet_modifier = { 
		key = "building_spice_emporium"
		potential = { 
			owner_is_gestalt_consciousness = no	
			owner_is_synth_empire = no
		}
		modifier = { 
			pop_consumer_goods_add = -0.1
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_archaeological_compound = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_archeological_remains = yes } }
	prerequisites = { "tech_xeno_archaeology" }
	allow = { 
		requires_capital_1 = yes
		requires_archeological_remains = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = 6 }
	produced_resource_trigger = {
		modifier = { 
			is_machine_empire = no
			resources = { society_research = 4 }
		}		
		modifier = { 
			is_machine_empire = yes
			resources = { minerals = 4 }
		}							
	}	
	adjacency_bonus = {
		tile_building_resource_society_research_add = 1
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_bandersnatchi_compound = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_bandersnatchi = yes } } 
	prerequisites = { "tech_bandersnatchi_herding" }
	allow = { 
		requires_capital_1 = yes
		requires_bandersnatchi = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_gestalt_consciousness = no
			is_xenophile = no
			resources = { society_research = 4 }
		}	
		modifier = { 
			is_xenophile = yes
			resources = { unity = 4 }
		}			
		modifier = { 
			is_hive_mind_empire = yes
			resources = { society_research = 1 food = 5 }
		}			
		modifier = { 
			is_machine_empire = yes
			resources = { society_research = 6 }
		}					
	}	
	triggered_planet_modifier = { 
		key = "building_bandersnatchi_compound"
		potential = { 
			owner_is_xenophile = no
			owner_is_gestalt_consciousness = no	
		}
		modifier = { 
			planet_migration_all_pull = 0.25 
			pop_happiness = 0.05
		}
	}		
	triggered_planet_modifier = { 
		key = "building_bandersnatchi_compound"
		potential = { 
			owner_is_xenophile = yes 			
		}
		modifier = { 
			planet_migration_xeno_pull = 0.75 
			pop_happiness = 0.1
			pop_ethic_xenophile_attraction_mult = 0.25			
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_bandersnatchi_hypodrome = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	ai_replace = no
	destroy_if = { 
		exists = owner
		OR = {
			owner_is_gestalt_consciousness = yes		 		
			owner_is_xenophile = yes
		}	
	}			
	#requirements and upgrade
	potential = { 
		planet = { has_sr_bandersnatchi = yes } 
		owner_is_gestalt_consciousness = no 
		owner_is_xenophile = no		
	} 
	prerequisites = { "tech_alien_life_studies" }
	allow = { 
		requires_capital_1 = yes
		requires_bandersnatchi = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 2 food = 2 }
	produced_resource_trigger = {
		modifier = { 
			is_xenophobe = no
			resources = { energy = 3 food = 3 }
		}	
		modifier = { 
			is_xenophobe = yes
			resources = { unity = 4 }
		}			
	}	
	triggered_planet_modifier = { 
		key = "building_bandersnatchi_hypodrome"
		potential = { 
			owner_is_xenophobe = no 			
		}
		modifier = { 
			planet_unrest_add = -20 
			pop_happiness = 0.05
		}
	}
	triggered_planet_modifier = { 
		key = "building_bandersnatchi_hypodrome"
		potential = { 
			owner_is_xenophobe = yes 			
		}
		modifier = { 
			pop_happiness = 0.1 
			planet_unrest_add = -20 
			pop_ethic_xenophobe_attraction_mult = 0.25 
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_engos_purifier = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_engos_vapor = yes } }
	prerequisites = { "tech_mine_engos_vapor" }
	allow = { 
		requires_capital_1 = yes
		requires_engos_vapor = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 8 }
	produced_resource_trigger = {
		modifier = { 
			OR = { 
				is_machine_empire = yes
				is_synth_empire = yes
			}	
			resources = { energy = 2 }
		}							
	}	
	triggered_planet_modifier = { 
		key = "building_engos_purifier"
		potential = { 
			owner_is_machine_empire = no			
			owner_is_synth_empire = no
		}
		modifier = { 
			pop_environment_tolerance = 0.1
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_pitharan_harvester = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_pitharan_dust = yes } } 
	prerequisites = { "tech_mine_pitharan_dust" }
	allow = { 
		requires_capital_1 = yes
		requires_pitharan_dust = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_machine_empire = no
			is_synth_empire = no
			resources = { food = 4 }
		}	
		modifier = { 
			OR = { 
				is_machine_empire = yes
				is_synth_empire = yes
			}	
			resources = { minerals = 6 }
		}							
	}	
	triggered_planet_modifier = { 
		key = "building_pitharan_harvester"
		potential = { 
			owner_is_machine_empire = no	
			owner_is_synth_empire = no	
		}
		modifier = { 
			pop_growth_req = -5.0
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_satramene_concentrator = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_satramene_gas = yes } }
	prerequisites = { "tech_mine_satramene_gas" }
	allow = { 
		requires_capital_1 = yes
		requires_satramene_gas = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_machine_empire = no
			is_egalitarian = no
			resources = { society_research = 4 }
		}	
		modifier = { 
			is_egalitarian = yes
			resources = { unity = 4 }
		}			
		modifier = { 
			is_machine_empire = yes
			resources = { society_research = 6 }
		}							
	}	
	triggered_planet_modifier = { 
		key = "building_satramene_concentrator"
		potential = { 
			owner_is_gestalt_consciousness = no
			owner_is_egalitarian = no 			
		}
		modifier = { 
			pop_happiness = 0.05 
			pop_government_ethic_attraction = 0.20
		}
	}
	triggered_planet_modifier = { 
		key = "building_satramene_concentrator"
		potential = { 
			owner_is_egalitarian = yes 			
		}
		modifier = { 
			planet_unrest_add = -20
			pop_happiness = 0.1  
			pop_government_ethic_attraction = 0.25
		}
	}	
	triggered_planet_modifier = { 
		key = "building_satramene_concentrator"
		potential = { 
			owner_is_hive_mind_empire = yes 			
		}
		modifier = { 
			pop_resource_output = 0.05
		}
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_hivaron_dispensary = { 
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	destroy_if = { 
		exists = owner
		OR = { 
			owner = { has_policy_flag = slavery_not_allowed } 
			owner_is_machine_empire = yes
		} 		
	}	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_hivaron = yes }
		owner = { 
			OR = { 
				has_policy_flag = slavery_allowed
				is_hive_mind_empire = yes
			}
		}	
		owner_is_machine_empire = no
	}
	prerequisites = { "tech_hivaron_purification" }
	allow = { 
		requires_capital_1 = yes
		requires_hivaron = yes
	}
	#resource output and modifiers
	produced_resources = { food = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_hive_mind_empire = no
			is_authoritarian = no
			resources = { minerals = 4 }
		}	
		modifier = { 
			is_hive_mind_empire = yes
			resources = { food = 4 }
		}			
		modifier = { 
			is_authoritarian = yes
			resources = { unity = 4 }
		}		
	}	
	triggered_planet_modifier = { 
		key = "building_hivaron_dispensary"
		potential = { 
			owner_is_authoritarian = no
			owner_is_hive_mind_empire = no 	
		}
		modifier = { 
			pop_slave_resource_output = 0.1 
			country_unrest_unhappy_slave_effect_mult = -0.15
		}
	}
	triggered_planet_modifier = { 
		key = "building_hivaron_dispensary"
		potential = { 
			owner_is_authoritarian = yes 
		}
		modifier = { 
			pop_slave_resource_output = 0.15
			country_unrest_unhappy_slave_effect_mult = -0.2
			pop_ethic_authoritarian_attraction_mult = 0.25 
		}
	}	
	triggered_planet_modifier = { 
		key = "building_hivaron_dispensary"
		potential = { 
			owner_is_hive_mind_empire = yes 			
		}
		modifier = { 
			pop_food_add = 2
		}
	}			
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_hivaron_farm = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	destroy_if = { 
		exists = owner
		owner_is_gestalt_consciousness = yes		 		
	}		
	#requirements and upgrade
	potential = { 
		planet = { has_sr_hivaron = yes }
		owner = { has_policy_flag = slavery_not_allowed }	
		owner_is_gestalt_consciousness = no		
	}
	prerequisites = { "tech_hivaron_purification" }
	allow = { 
		requires_capital_1 = yes
		requires_hivaron = yes
	}
	#resource output and modifiers
	produced_resources = { food = 2 }
	produced_resource_trigger = {
		modifier = { 
			is_pacifist = no
			resources = { food = 4 }
		}	
		modifier = { 
			is_pacifist = yes
			resources = { unity = 4 }
		}	
	}	
	triggered_planet_modifier = { 
		key = "building_hivaron_farm"
		potential = { 
			owner_is_pacifist = no 			
		}
		modifier = { 
			tile_resource_food_mult = 0.15
		}
	}
	triggered_planet_modifier = {
		key = "building_hivaron_farm"
		potential = { 
			owner_is_pacifist = yes 			
		}
		modifier = { 
			tile_resource_food_mult = 0.1 
			tile_resource_unity_mult = 0.1 
			pop_ethic_pacifist_attraction_mult = 0.25 
		}
	}	
	adjacency_bonus = {
		tile_building_resource_food_add = 1
	}			
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
} 
building_hivaron_bioreactor = { 
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	ai_replace = no
	#requirements and upgrade
	destroy_if = { 
		exists = owner
		owner_is_machine_empire = no		 		
	}		
	#requirements and upgrade
	potential = { 
		planet = { has_sr_hivaron = yes }
		owner_is_machine_empire = yes
	}
	prerequisites = { "tech_hivaron_purification" }
	allow = { 
		requires_capital_1 = yes
		requires_hivaron = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 8 }
	triggered_planet_modifier = { 
		key = "building_hivaron_bioreactor"
		potential = { 
			owner_is_servitor = no			
		}
		modifier = { 
			pop_energy_add = 2
		}
	}			
	triggered_planet_modifier = { 
		key = "building_hivaron_bioreactor"
		potential = { 
			owner_is_servitor = yes			
		}
		modifier = { 
			static_planet_resource_food_add = 5
		}
	}				
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_iron_wood_mill = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_iron_wood = yes } }
	prerequisites = { "tech_ironwood_tempering" }
	allow = { 
		requires_capital_1 = yes
		requires_iron_wood = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = 2 }
	produced_resource_trigger = {
		modifier = { 
			is_hive_mind_empire = no
			resources = { minerals = 4 }
		}
		modifier = { 
			is_hive_mind_empire = yes
			resources = { unity = 4 }
		}		
	}	
	triggered_planet_modifier = { 
		key = "building_iron_wood_mill"
		potential = { 
			owner_is_hive_mind_empire = no
		}
		modifier = { 
			planet_building_cost_mult = -0.2
		}
	}
	triggered_planet_modifier = { 
		key = "building_iron_wood_mill"
		potential = { 
			owner_is_hive_mind_empire = yes
		}
		modifier = { 
			planet_building_cost_mult = -0.2
			tile_resource_unity_mult = 0.2
		}
	}		
	adjacency_bonus = {
		tile_building_resource_minerals_add = 1
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_terraforming_bacteria_germinator = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_terraforming_bacteria = yes } }
	prerequisites = { "tech_programmed_xna" }
	allow = { 
		requires_capital_1 = yes
		requires_terraforming_bacteria = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = 8 }
	produced_resource_trigger = {
		modifier = { 
			is_machine_empire = yes
			resources = { society_research = 2 }
		}			
	}	
	triggered_planet_modifier = { 
		key = "building_terraforming_bacteria_germinator"
		potential = { 
			owner_is_machine_empire = no
		}
		modifier = { 			
			pop_environment_tolerance = 0.1
		}
	}
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_zinorine_computer = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_zinorine = yes } }
	prerequisites = { "tech_molecular_computing" }
	allow = { 
		requires_capital_1 = yes
		requires_zinorine = yes
	}
	#resource output and modifiers
	produced_resources = { physics_research = 2 }
	produced_resource_trigger = {
		modifier = { 
			is_materialist = no
			resources = { physics_research = 4 }
		}	
		modifier = { 
			is_materialist = yes
			resources = { unity = 4 }
		}			
	}	
	triggered_planet_modifier = { 
		key = "building_zinorine_computer"
		potential = { 
			owner_is_materialist = no 			
		}
		modifier = { 
			tile_resource_physics_research_mult = 0.15
		}
	}
	triggered_planet_modifier = { 
		key = "building_zinorine_computer"
		potential = { 
			owner_is_materialist = yes 			
		}
		modifier = { 
			tile_resource_physics_research_mult = 0.1
			pop_happiness = 0.1  
			pop_ethic_materialist_attraction_mult = 0.25
		}
	}	
	adjacency_bonus = {
		tile_building_resource_physics_research_add = 1
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_ventium_weapons_facility = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_ventium = yes } }
	prerequisites = { "tech_ventium_enrichment" }
	allow = { 
		requires_capital_1 = yes
		requires_ventium = yes
	}
	#resource output and modifiers
	produced_resources = { engineering_research = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_militarist = no
			resources = { engineering_research = 4 }
		}	
		modifier = { 
			is_militarist = yes
			resources = { unity = 4 }
		}			
	}	
	triggered_planet_modifier = { 
		key = "building_ventium_weapons_facility"
		potential = { 
			owner_is_militarist = no 			
		}
		modifier = { 
			planet_army_build_cost_mult = -0.25 
			planet_army_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = { 
		key = "building_ventium_weapons_facility"
		potential = { 
			owner_is_militarist = yes 			
		}
		modifier = { 			
			planet_army_build_speed_mult = 0.33 
			planet_army_build_cost_mult = -0.33  
			pop_ethic_militarist_attraction_mult = 0.25
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_blooming_ore_refinery = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_blooming_ore = yes } }
	prerequisites = { "tech_blooming_ore_refining" }
	allow = { 
		requires_capital_1 = yes
		requires_blooming_ore = yes
	}
	#resource output and modifiers
	produced_resources = { engineering_research = 2 }
	produced_resource_trigger = {
		modifier = { 
			allows_robots = yes			
			resources = { engineering_research = 4 }
		}	
		modifier = { 
			allows_robots = no
			resources = { engineering_research = 8 }
		}			
		modifier = { 
			is_machine_empire = yes
			resources = { unity = 4 }
		}			
	}	
	triggered_planet_modifier = { 
		key = "building_blooming_ore_refinery"
		potential = { 
			owner_allows_robots = yes
		}	
		modifier = { 
			pop_robot_upkeep_mult = -0.15 
			pop_robot_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = { 
		key = "building_blooming_ore_refinery"
		potential = { 
			owner_is_machine_empire = yes
		}
		modifier = { 
			tile_resource_unity_mult = 0.2
			pop_robot_upkeep_mult = -0.2
			pop_robot_build_speed_mult = 0.3
		}
	}	
	adjacency_bonus = {
		tile_building_resource_engineering_research_add = 1
	}		
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_sactajenian_distillery = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	required_resources = { energy = @strategic_resource_building_upkeep }
	ai_replace = no
	#requirements and upgrade
	potential = { planet = { has_sr_sactajenian = yes } }
	prerequisites = { "tech_sactajenian_purification" }
	allow = { 
		requires_capital_1 = yes
		requires_sactajenian = yes
	}
	#resource output and modifiers
	produced_resources = { energy = 4 }
	produced_resource_trigger = {
		modifier = { 
			is_gestalt_consciousness = no
			is_spiritualist = no
			resources = { energy = 4 }
		}	
		modifier = { 
			is_spiritualist = yes
			resources = { unity = 4 }
		}		
		modifier = { 
			is_gestalt_consciousness = yes
			resources = { energy = 6 }
		}	
	}	
	triggered_planet_modifier = {
		key = "building_sactajenian_distillery"
		potential = { 
			owner_is_gestalt_consciousness = no
			owner_is_spiritualist = no 			
		}
		modifier = { 
			pop_happiness = 0.05 
			planet_migration_all_pull = 0.5
		}
	}
	triggered_planet_modifier = { 
		key = "building_sactajenian_distillery"
		potential = { 
			owner_is_spiritualist = yes 			
		}
		modifier = { 
			pop_ethic_spiritualist_attraction_mult = 0.25 
			planet_migration_all_pull = 1
			pop_happiness = 0.1 			
		}
	}	
	planet_modifier_with_pop_trigger = {
		key = "building_sactajenian_distillery"
		potential = { 
			OR = {
				has_trait = trait_latent_psionic
				has_trait = trait_psionic
			}
		}	
		modifier = {
			pop_resource_output = 0.1			
		}
	}	
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}

#### Unique Resource Buildings

building_aurantiacum_x_stabilizer = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { planet = { has_sr_aurantiacum_x = yes } }
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_aurantiacum_x_stabilization" } }
	}	
	prerequisites = { "tech_aurantiacum_x_stabilization" }
	allow = { 
		requires_capital_1 = yes
		requires_aurantiacum_x = yes
	}
	#resource output and modifiers
	produced_resources = { physics_research = @unique_strategic_resource_building_full_output }
	planet_modifier = { tile_resource_physics_research_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { category_particles_research_speed_mult = @unique_resource_building_country_research_bonus_modifier }
	adjacency_bonus = { tile_building_resource_physics_research_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_elder_compounds_extractor = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_elder_compounds = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_elder_compounds_extraction" } }
	}		
	prerequisites = { "tech_elder_compounds_extraction" }
	allow = { 
		requires_capital_1 = yes
		requires_elder_compounds = yes
	}
	#resource output and modifiers
	produced_resources = { minerals = @unique_strategic_resource_building_full_output }
	planet_modifier = { tile_resource_minerals_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { category_materials_research_speed_mult = @unique_resource_building_country_research_bonus_modifier }
	adjacency_bonus = { tile_building_resource_minerals_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_precursor_data_link = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_precursor_data_cache = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_precursor_data_protocols" } }
	}			
	prerequisites = { "tech_precursor_data_protocols" }
	allow = { 
		requires_capital_1 = yes
		requires_precursor_data_cache = yes
	}
	#resource output and modifiers
	produced_resources = { unity = @unique_strategic_resource_building_half_output influence = 0.5 }
	planet_modifier = { tile_resource_unity_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { country_government_civic_points_add = 1 }
	adjacency_bonus = { tile_building_resource_unity_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_gigalife_preserve = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_gigalife = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_gigalife_processing" } }
	}		
	prerequisites = { "tech_gigalife_processing" }
	allow = { 
		requires_capital_1 = yes
		requires_gigalife = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = @unique_strategic_resource_building_full_output }
	planet_modifier = { tile_resource_society_research_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { category_biology_research_speed_mult = @unique_resource_building_country_research_bonus_modifier }
	adjacency_bonus = { tile_building_resource_society_research_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_lifetap = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	show_tech_unlock_if = { is_gestalt_consciousness = no }
	potential = { 
		planet = { has_sr_ever_blossom = yes }
		owner = { 
			is_gestalt_consciousness = no
		}
	}
	destroy_if = {
		exists = owner
		owner = { 
			OR = { 
				NOT = { has_technology = "tech_gigalife_processing" }
				is_gestalt_consciousness = yes
			}
		}	
	}			
	prerequisites = { "tech_lifetap" }
	allow = { 
		requires_capital_1 = yes
		requires_ever_blossom = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = @unique_strategic_resource_building_full_output }
	planet_modifier = { pop_growth_speed = 0.5 pop_happiness = 0.1 }
	country_modifier = { leader_age = 200 country_leader_cap = 2 }
	adjacency_bonus = { tile_building_resource_society_research_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_lifetap_gestalt = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	show_tech_unlock_if = { is_gestalt_consciousness = yes }
	potential = { 
		planet = { has_sr_ever_blossom = yes }
		owner = { is_gestalt_consciousness = yes }
	}
	destroy_if = {
		exists = owner
		owner = { 
			OR = { 
				NOT = { has_technology = "tech_gigalife_processing" }
				is_gestalt_consciousness = no
			}
		}	
	}		
	prerequisites = { "tech_lifetap" }
	allow = { 
		requires_capital_1 = yes
		requires_ever_blossom = yes
	}
	#resource output and modifiers
	produced_resources = { society_research = @unique_strategic_resource_building_half_output energy = @unique_strategic_resource_building_half_output }
	planet_modifier = { tile_resource_society_research_mult = 0.2 tile_resource_energy_mult = 0.2 }
	country_modifier = { country_resource_energy_mult = 0.05 }
	adjacency_bonus = { tile_building_resource_society_research_add = @unique_resource_building_half_adjacency tile_building_resource_energy_add = @unique_resource_building_half_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_thybidium_refinery = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_thybidium = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_thybidium_refining" } }
	}		
	prerequisites = { "tech_thybidium_refining" }
	allow = { 
		requires_capital_1 = yes
		requires_thybidium = yes
	}
	#resource output and modifiers
	produced_resources = { energy = @unique_strategic_resource_building_full_output }
	planet_modifier = { tile_resource_energy_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { country_resource_energy_mult = 0.05 }
	adjacency_bonus = { tile_building_resource_energy_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_euratite_transmuter = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_euratite = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_euratite_transmutation" } }
	}	
	prerequisites = { "tech_euratite_transmutation" }
	allow = { 
		requires_capital_1 = yes
		requires_euratite = yes
	}
	#resource output and modifiers
	produced_resources = { physics_research = @unique_strategic_resource_building_half_output energy = @unique_strategic_resource_building_half_output }
	planet_modifier = { tile_resource_physics_research_mult = 0.2 tile_resource_energy_mult = 0.15 }
	country_modifier = { category_field_manipulation_research_speed_mult = @unique_resource_building_country_research_bonus_modifier }
	adjacency_bonus = { tile_building_resource_physics_research_add = @unique_resource_building_half_adjacency tile_building_resource_energy_add = @unique_resource_building_half_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_gravitronic_engine = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_altair_stone = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_gravitronic_manipulation" } }
	}		
	prerequisites = { "tech_gravitronic_manipulation" }
	allow = { 
		requires_capital_1 = yes
		requires_altair_stone = yes
	}
	#resource output and modifiers
	produced_resources = { engineering_research = @unique_strategic_resource_building_full_output }
	planet_modifier = { tile_resource_engineering_research_mult = @unique_resource_building_tile_resource_planet_modifier }
	country_modifier = { category_industry_research_speed_mult = @unique_resource_building_country_research_bonus_modifier }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @unique_resource_building_full_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_nanite_treatment_facility = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @unique_strategic_resource_building_buildtime
	cost = { minerals = @unique_strategic_resource_building_cost }	
	required_resources = { energy = @unique_strategic_resource_building_upkeep }
	empire_unique = yes
	ai_replace = no	
	#requirements and upgrade
	potential = { 
		planet = { has_sr_precursor_nanites = yes }
	}
	destroy_if = {
		exists = owner
		owner = { NOT = { has_technology = "tech_precursor_nanonics" } }
	}			
	prerequisites = { "tech_precursor_nanonics" }
	allow = { 
		requires_capital_1 = yes
		requires_precursor_nanites = yes
	}
	#resource output and modifiers
	produced_resources = { engineering_research = @unique_strategic_resource_building_half_output society_research = @unique_strategic_resource_building_half_output }
	planet_modifier = { tile_resource_engineering_research_mult = 0.2 tile_resource_society_research_mult = 0.15 }
	country_modifier = { modify_species_cost_mult = -0.25 }
	adjacency_bonus = { tile_building_resource_engineering_research_add = @unique_resource_building_half_adjacency tile_building_resource_society_research_add = @unique_resource_building_half_adjacency }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } }
	ai_weight = { weight = 250 }
}
building_terraformer = { 
	is_listed = no
	ai_replace = no
	can_demolish = no
	event_building = yes
	requires_pop = no
	prerequisites = { "tech_advanced_terraforming" }
	required_resources = { 
		sr_terraform_gases = 0.5
		sr_terraform_liquids = 0.5
		sr_meta_organics = 0.5
	}
	produced_resources = { unity = 1 }
	planet_modifier = { pop_environment_tolerance = 0.2 }
}

building_helium_3_power_hub = {
	#building defines
	tags = { special_resource_building }
	base_buildtime = @strategic_resource_building_buildtime	
	cost = { minerals = @strategic_resource_building_cost }
	is_listed = yes
	planet_unique = yes
	potential = { planet_is_not_virtual = yes owner = { has_country_strategic_resource = { type = sr_helium_3 amount > 0 } } }
	prerequisites = { "tech_helium_power" }
	required_resources = { sr_helium_3 = 1 }
	produced_resources = { energy = 6 }
	produced_resource_trigger = {
		modifier = {
			has_pursuit_of_profit = yes
			resources = { unity = 2 }
		}
	}
	planet_modifier = { tile_resource_energy_mult = 0.35 }
	adjacency_bonus = {	tile_building_resource_energy_add = 1 }
	#ai restrictions and weights
	ai_allow = { NOT = { owner = { has_country_flag = cgm_disable_vanilla_building_AI } } energy_buildings_ai_allow = yes }
	ai_weight = {
		weight = 10 
		modifier = { weight = 250 from = { has_capital_2 = yes } }
		modifier = { factor = 2 from.owner = { has_pursuit_of_profit = yes } }
	}
}