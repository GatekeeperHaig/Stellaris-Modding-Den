nw_special_planet_update = { 
	every_planet = {
		if = { 
			limit = { has_planet_flag = scorched_earth }
			remove_planet_flag = scorched_earth
			if = {
				limit = { is_planet_class = pc_continental }
				change_pc = "pc_nuked"
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_mountain_range"
						set_deposit = d_mineral_deposit
					}
				}	
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_mountain_range"
						set_deposit = d_mineral_deposit
					}
				}	
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_radioactive_wasteland"
						set_deposit = d_rich_energy_deposit
					}
				}	
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_water_mass"
						set_deposit = d_rich_farmland_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_water_mass"
						set_deposit = d_rich_farmland_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_active_volcano"
						set_deposit = d_rich_mineral_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_active_volcano"
						set_deposit = d_energy_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_radioactive_wasteland"
						set_deposit = d_rich_energy_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_city_ruins"
						set_deposit = d_rich_engineering_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_city_ruins"
						set_deposit = d_rich_society_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_radioactive_wasteland"
						set_deposit = d_rich_mineral_deposit
					}
				}	
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }			
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_city_ruins"
						set_deposit = d_mineral_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_radioactive_wasteland"
						set_deposit = d_physics_deposit
					}
				}
				if = { 
					limit = { any_tile = { has_blocker = no has_building = no } }				
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_deposit = d_rich_physics_deposit
					}			
				}
			}	
		}
		if = {
			limit = { has_planet_flag = planet_earth }
			if = {
				limit = { is_planet_class = pc_continental }
				set_planet_entity = { entity = "inv_continental_earth_entity" }
			}
			if = {
				limit = { is_planet_class = pc_lush }
				set_planet_entity = { entity = "inv_lush_earth_entity"	}
			}
		}
		if = { 
			limit = { has_planet_flag = planet_mars	}
			if = {
				limit = { is_planet_class = pc_continental }
				set_planet_entity = { entity = "green_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_lush	}
				set_planet_entity = { entity = "green_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_retinal }
				set_planet_entity = { entity = "retinal_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_geocrystalline }
				set_planet_entity = { entity = "cambrian_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_marginal	}
				set_planet_entity = { entity = "marginal_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_marginal_dry }
				set_planet_entity = { entity = "marginal_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_arid	}
				set_planet_entity = { entity = "marginal_mars_entity" }
			}
			if = {
				limit = { is_planet_class = pc_marginal_cold }
				set_planet_entity = { entity = "frozen_mars_entity"	}
			}
			if = {
				limit = { is_planet_class = pc_arctic }
				set_planet_entity = { entity = "frozen_mars_entity"	}
			}
		}
		if = {
			limit = { has_planet_flag = terraformed_mars }
			if = {
				limit = { is_planet_class = pc_continental }
				change_pc = "pc_geocrystalline"
				set_planet_entity = { entity = "inv_cambrian_mars_entity" }
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_mountain_range"
						set_deposit = d_mineral_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_mountain_range"
						set_deposit = d_mineral_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_crater"
						set_deposit = d_rich_energy_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_water_mass"
						set_deposit = d_rich_farmland_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_active_volcano"
						set_deposit = d_rich_energy_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_active_volcano"
						set_deposit = d_rich_engineering_deposit
					}
				}	
				if = {
					limit = { any_tile = { has_blocker = no has_building = no } }					
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_blocker = "tb_crater"
						set_deposit = d_physics_deposit
					}
				}
			}
		}
	}
}