set_tile_building_weight = { 
	if = {
		limit = { 
			exists = pop
			pop = { has_owner = yes }
		}		
		change_variable = { which = energy_weight value = pop  }
		change_variable = { which = minerals_weight value = pop  }
		change_variable = { which = food_weight value = pop  }
		change_variable = { which = society_research_weight value = pop  }
		change_variable = { which = physics_research_weight value = pop  }
		change_variable = { which = engineering_research_weight value = pop  }
	}	
	set_variable = { which = energy_building_tile value = 0 }
	set_variable = { which = minerals_building_tile value = 0 }
	set_variable = { which = food_building_tile value = 0 }
	set_variable = { which = society_research_building_tile value = 0 }
	set_variable = { which = physics_research_building_tile value = 0 }
	set_variable = { which = engineering_research_building_tile value = 0 }
	if = { 
		limit = { 
			check_variable = { which = "energy_weight" value > "minerals_weight" }
			check_variable = { which = "energy_weight" value > "food_weight" }
			check_variable = { which = "energy_weight" value > "society_research_weight" }
			check_variable = { which = "energy_weight" value > "physics_research_weight" }
			check_variable = { which = "energy_weight" value > "engineering_research_weight" }
		}
		set_variable = { which = energy_building_tile value = 1 }
	}	
	if = { 
		limit = { 
			check_variable = { which = "minerals_weight" value > "energy_weight" }
			check_variable = { which = "minerals_weight" value > "food_weight" }
			check_variable = { which = "minerals_weight" value > "society_research_weight" }
			check_variable = { which = "minerals_weight" value > "physics_research_weight" }
			check_variable = { which = "minerals_weight" value > "engineering_research_weight" }
		}
		set_variable = { which = minerals_building_tile value = 1 }
	}
	if = { 
		limit = { 
			check_variable = { which = "food_weight" value > "energy_weight" }
			check_variable = { which = "food_weight" value > "minerals_weight" }
			check_variable = { which = "food_weight" value > "society_research_weight" }
			check_variable = { which = "food_weight" value > "physics_research_weight" }
			check_variable = { which = "food_weight" value > "engineering_research_weight" }
		}
		set_variable = { which = food_building_tile value = 1 }
	}
	if = { 
		limit = { 
			check_variable = { which = "society_research_weight" value > "energy_weight" }
			check_variable = { which = "society_research_weight" value > "minerals_weight" }
			check_variable = { which = "society_research_weight" value > "food_weight" }
			check_variable = { which = "society_research_weight" value > "physics_research_weight" }
			check_variable = { which = "society_research_weight" value > "engineering_research_weight" }
		}
		set_variable = { which = society_research_building_tile value = 1 }
	}
	if = { 
		limit = { 
			check_variable = { which = "physics_research_weight" value > "energy_weight" }
			check_variable = { which = "physics_research_weight" value > "minerals_weight" }
			check_variable = { which = "physics_research_weight" value > "food_weight" }
			check_variable = { which = "physics_research_weight" value > "society_research_weight" }
			check_variable = { which = "physics_research_weight" value > "engineering_research_weight" }
		}
		set_variable = { which = physics_research_building_tile value = 1 }
	}
	if = { 
		limit = { 
			check_variable = { which = "engineering_research_weight" value > "energy_weight" }
			check_variable = { which = "engineering_research_weight" value > "minerals_weight" }
			check_variable = { which = "engineering_research_weight" value > "food_weight" }
			check_variable = { which = "engineering_research_weight" value > "society_research_weight" }
			check_variable = { which = "engineering_research_weight" value > "physics_research_weight" }
		}
		set_variable = { which = engineering_research_building_tile value = 1 }
	}
}	