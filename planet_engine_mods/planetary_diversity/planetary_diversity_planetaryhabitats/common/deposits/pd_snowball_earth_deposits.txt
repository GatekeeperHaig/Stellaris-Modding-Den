d_frozen_wasteland = {
	time = 520

	is_for_colonizeable = yes
	category = deposit_cat_blockers

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_black_soil
		d_great_river
		d_fertile_lands
		d_nutritious_mudland
		d_boggy_fens
		d_green_hills
		d_forgiving_tundra
		d_rugged_woods
		d_bountiful_plains
		d_mineral_fields
		d_veiny_cliffs
		d_rushing_waterfalls
		d_arid_highlands
	}

	potential = { always = no }


	planet_modifier = {
		planet_max_districts_add = -1
		pop_environment_tolerance = -0.05
	}

	all_blocker_swap_types = yes

	prerequisites = { "tech_massive_glacier" }
	
	on_cleared = {
		hidden_effect = {
			custom_tooltip = frozen_wasteland_clearing_effect
			if = {
				limit = { count_deposits = { type = d_frozen_wasteland count > 3 } }
				set_planet_entity = { entity = snowball_planet_earth_01_entity picture = "pc_antarctic" }
				# Make sure it gets the full snowball entity, but should not be needed.
			}
			if = {
				limit = { count_deposits = { type = d_frozen_wasteland count = 3 } }
				remove_modifier = snowball_frozen_wasteland
				add_modifier = {
					modifier = "snowball_recovering_biosphere"
					days = -1
				}
				set_planet_entity = { entity = "snow_planet_01_entity" picture = "pc_snow" }
			}
			if = {
				limit = { count_deposits = { type = d_frozen_wasteland count = 2 } }
				#set_planet_entity = { entity = "snow_planet_01_entity" picture = "pc_snow" }
				# Do nothing
			}
			if = {
				limit = { count_deposits = { type = d_frozen_wasteland count = 1 } }
				remove_modifier = snowball_recovering_biosphere
				add_modifier = {
					modifier = "snowball_temperate_world"
					days = 3600
				}
				set_planet_entity = { entity = "continental_planet_earth_entity" picture = "pc_continental" }
			}
		}
	}
}