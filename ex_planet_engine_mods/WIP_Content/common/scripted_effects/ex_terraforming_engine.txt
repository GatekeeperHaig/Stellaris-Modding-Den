#the three effects below use timed planet flag to make sure the flags disappear after the operation is complete
#these flags are used in limit fields.

remove_negative_planet_modifiers = {
	if = { limit = { has_modifier = atmospheric_hallucinogen } remove_modifier = atmospheric_hallucinogen }	
	if = { limit = { has_modifier = atmospheric_aphrodisiac }	remove_modifier = atmospheric_aphrodisiac }		
	if = { limit = { has_modifier = bleak_planet } remove_modifier = bleak_planet	}		
	if = { limit = { has_modifier = wild_storms }	remove_modifier = wild_storms }				
	if = { limit = { has_modifier = asteroid_impacts } remove_modifier = asteroid_impacts	}	
	if = { limit = { has_modifier = unstable_tectonics } remove_modifier = unstable_tectonics	}	
	if = { limit = { has_modifier = weak_magnetic_field }	remove_modifier = weak_magnetic_field }	
	if = { limit = { has_modifier = hazardous_weather } remove_modifier = hazardous_weather }	
	if = { limit = { has_modifier = dangerous_wildlife } remove_modifier = dangerous_wildlife }	
	if = { limit = { has_modifier = irradiated_planet } remove_modifier = irradiated_planet }
	if = { limit = { has_modifier = abandoned_terraforming } remove_modifier = abandoned_terraforming owner = { end_event_chain = "abandoned_terraforming_chain" } }
}	

add_positive_planet_modifier = {
	if = { limit = { NOT = { has_modifier = ex_terraformed } } add_modifier = { modifier = "ex_terraformed" days = -1 } }	
	if = { limit = { is_planet_class = pc_gaia NOT = { has_modifier = ex_gaia_world } }	add_modifier = { modifier = "ex_gaia_world" days = -1 } }					
}	

roll_size_increase = {
	set_planet_flag = ex_size_increased
	if = {
		limit = { planet_size < 16 }												
		random_list = {
			20 = { change_planet_size = 3 }		
			30 = { change_planet_size = 2 }		
			50 = { change_planet_size = 1 }	
		}
		break = yes
	}
	if = {
		limit = { 
			planet_size < 21
		}												
		random_list = {
			10 = { change_planet_size = 3 }		
			30 = { change_planet_size = 2 }		
			60 = { change_planet_size = 1 }	
		}	
		break = yes
	}	
	if = {
		limit = { 
			planet_size < 23
		}												
		random_list = {
			30 = { change_planet_size = 2 }		
			70 = { change_planet_size = 1 }	
		}	
		break = yes
	}		
	if = {
		limit = { 
			planet_size < 25
		}												
		random_list = {
			50 = { change_planet_size = 1 }		
			50 = { }	
		}	
	}			
}	