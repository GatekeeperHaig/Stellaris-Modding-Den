namespace = pdengine

country_event = {
	id = pdengine.01
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Continental
	immediate = {

		#Wet Planets
		every_planet = { 				
			limit = { is_planet_class = pc_continental is_homeworld = no not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_continental reroll_planet = yes}
			12 = { change_pc = pc_cascadian reroll_planet = yes }	
			12 = { change_pc = pc_ocean reroll_planet = yes	}	
			12 = { change_pc = pc_desertislands	reroll_planet = yes	}	
			12 = { change_pc = pc_subarctic reroll_planet = yes }	
			12 = { change_pc = pc_tropical reroll_planet = yes }		
			12 = { change_pc = pc_mangrove reroll_planet = yes }	
			12 = { change_pc = pc_hajungle reroll_planet = yes }	
			4 = { change_pc = pc_biolumen reroll_planet = yes }			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_ocean is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_continental reroll_planet = yes }
			12 = { change_pc = pc_cascadian reroll_planet = yes }	
			12 = { change_pc = pc_ocean reroll_planet = yes	}	
			12 = { change_pc = pc_desertislands	reroll_planet = yes	}	
			12 = { change_pc = pc_subarctic reroll_planet = yes }	
			12 = { change_pc = pc_tropical reroll_planet = yes }		
			12 = { change_pc = pc_mangrove reroll_planet = yes }	
			12 = { change_pc = pc_hajungle reroll_planet = yes }	
			4 = { change_pc = pc_biolumen reroll_planet = yes }			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_tropical is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_continental reroll_planet = yes }
			12 = { change_pc = pc_cascadian reroll_planet = yes }	
			12 = { change_pc = pc_ocean reroll_planet = yes	}	
			12 = { change_pc = pc_desertislands	reroll_planet = yes	}	
			12 = { change_pc = pc_subarctic reroll_planet = yes }	
			12 = { change_pc = pc_tropical reroll_planet = yes }		
			12 = { change_pc = pc_mangrove reroll_planet = yes }	
			12 = { change_pc = pc_hajungle reroll_planet = yes }	
			4 = { change_pc = pc_biolumen reroll_planet = yes }			
			}
		}

		#Dry Planets
		every_planet = { 				
			limit = { is_planet_class = pc_desert is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			15 = { change_pc = pc_desert reroll_planet = yes }
			15 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_sandsea  }	
			14 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_oasis  }	
			14 = { change_pc = pc_arid reroll_planet = yes	}	
			14 = { change_pc = pc_arid	reroll_planet = yes	change_pc = pc_mesa  }
			14 = { change_pc = pc_savannah reroll_planet = yes }		
			14 = { change_pc = pc_savannah reroll_planet = yes change_pc = pc_steppe  }			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_arid is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			15 = { change_pc = pc_desert reroll_planet = yes }
			15 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_sandsea  }	
			14 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_oasis  }	
			14 = { change_pc = pc_arid reroll_planet = yes	}	
			14 = { change_pc = pc_arid	reroll_planet = yes	change_pc = pc_mesa  }
			14 = { change_pc = pc_savannah reroll_planet = yes }		
			14 = { change_pc = pc_savannah reroll_planet = yes change_pc = pc_steppe  }			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_savannah is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			15 = { change_pc = pc_desert reroll_planet = yes }
			15 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_sandsea  }	
			14 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_oasis  }	
			14 = { change_pc = pc_arid reroll_planet = yes	}	
			14 = { change_pc = pc_arid	reroll_planet = yes	change_pc = pc_mesa  }
			14 = { change_pc = pc_savannah reroll_planet = yes }		
			14 = { change_pc = pc_savannah reroll_planet = yes change_pc = pc_steppe  }			
			}
		}

		#Cold Planets
		every_planet = { 				
			limit = { is_planet_class = pc_arctic is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_arctic reroll_planet = yes }
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
			12 = { change_pc = pc_alpine reroll_planet = yes }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
			12 = { change_pc = pc_tundra reroll_planet = yes }		
			12 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
			4 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_mushroom 	}			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_alpine is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_arctic reroll_planet = yes }
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
			12 = { change_pc = pc_alpine reroll_planet = yes }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
			12 = { change_pc = pc_tundra reroll_planet = yes }		
			12 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
			4 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_mushroom 	}			
			}
		}
		every_planet = { 				
			limit = { is_planet_class = pc_tundra is_homeworld = no  not = { has_planet_flag = prescripted_ideal } }
			random_list = {
			12 = { change_pc = pc_arctic reroll_planet = yes }
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
			12 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
			12 = { change_pc = pc_alpine reroll_planet = yes }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
			12 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
			12 = { change_pc = pc_tundra reroll_planet = yes }		
			12 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
			4 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_mushroom 	}			
			}
		}

	}
}

country_event = {
	id = pdengine.02
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Hothouse
	immediate = {
			every_planet = { 
				limit = {  
					is_planet_class = pc_toxic
				}	
			random_list = {
			40 = {
				change_pc = pc_hothouse
			}
			60 = {}	
			}
		}
	}
}

#Player Start Homeworld Spawning
country_event = {
	id = pdengine.03
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		immediate = {

		#Cascadian
		every_planet = { limit = { is_planet_class = pc_cascadian is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Atoll
		every_planet = { limit = { is_planet_class = pc_desertislands is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Crag
		every_planet = { limit = { is_planet_class = pc_subarctic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mangrove
		every_planet = { limit = { is_planet_class = pc_mangrove is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tepui
		every_planet = { limit = { is_planet_class = pc_hajungle is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Biolumen
		every_planet = { limit = { is_planet_class = pc_biolumen is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Steppe
		every_planet = { limit = { is_planet_class = pc_steppe is_homeworld = yes }	generate_pd_start_deposits_and_blockers = yes }
		#Dune
		every_planet = { limit = { is_planet_class = pc_sandsea is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Oasis
		every_planet = { limit = { is_planet_class = pc_oasis is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mesa
		every_planet = { limit = { is_planet_class = pc_mesa is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Bog
		every_planet = { limit = { is_planet_class = pc_swamp is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Frigid
		every_planet = { limit = { is_planet_class = pc_frozen_desert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Glacial
		every_planet = { limit = { is_planet_class = pc_glacial is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Atacama
		every_planet = { limit = { is_planet_class = pc_hadesert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Boreal
		every_planet = { limit = { is_planet_class = pc_boreal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mushroom
		every_planet = { limit = { is_planet_class = pc_mushroom is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Floating
		every_planet = { limit = { is_planet_class = pc_floating is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Crystal
		every_planet = { limit = { is_planet_class = pc_crystal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Techno-Organic Player Start
		every_planet = { limit = { is_planet_class = pc_technoorganic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Graveyard
		every_planet = { limit = { is_planet_class = pc_graveyard is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Methane
		every_planet = { limit = { is_planet_class = pc_methane is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Ammonia
		every_planet = { limit = { is_planet_class = pc_ammonia is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Superhabitable
		every_planet = { limit = { is_planet_class = pc_superhabitable is_homeworld = yes } change_planet_size = +9 generate_pd_start_deposits_and_blockers = yes }
		#Geothermal
		every_planet = { limit = { is_planet_class = pc_geothermal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
	}
}


country_event = {
	id = pdengine.04
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Hothouse
	immediate = {
			every_planet = { 
				remove_modifier = "tidal_locked"	
		}
	}
}


#PD Special Worlds Non-Homeworlds
event = {
	id = pdengine.05
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Superhabitable
	immediate = {
			every_planet = { 
				limit = { is_planet_class = pc_superhabitable is_homeworld = no }
				change_pc = pc_gaia
				 
				change_pc = pc_superhabitable
				
				}
			every_planet = { 
				limit = { is_planet_class = pc_geothermal is_homeworld = no }
				change_pc = pc_gaia
				 
				change_pc = pc_geothermal
				
				}
			every_planet = { 
				limit = { is_planet_class = pc_tidallylocked is_homeworld = no }
				change_pc = pc_gaia
				 
				change_pc = pc_tidallylocked
				
				}
			every_planet = { 
				limit = { is_planet_class = pc_methane is_homeworld = no }
				change_pc = pc_gaia
				 
				change_pc = pc_methane
				
				}
			every_planet = { 
				limit = { is_planet_class = pc_ammonia is_homeworld = no }
				change_pc = pc_gaia
				 
				change_pc = pc_ammonia
				
		}
	}
}

#PD Classes Species Start Nearby Planets
country_event = {
	id = pdengine.06
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		immediate = {

		#Cascadian Player Start
		every_planet = {
		limit = { is_planet_class = pc_cascadian  is_homeworld = no }
		 change_pc = pc_continental 
		 reroll_planet = yes 
		 change_pc = pc_cascadian 
		 
		}
		#Atoll Player Start
		every_planet = {
		limit = { is_planet_class = pc_desertislands  is_homeworld = no }
		 change_pc = pc_ocean 
		 reroll_planet = yes 
		 change_pc = pc_desertislands 
		 
		}
		#Crag Player Start
		every_planet = {
		limit = { is_planet_class = pc_subarctic  is_homeworld = no }
		 change_pc = pc_ocean 
		 reroll_planet = yes 
		 change_pc = pc_subarctic 
		 
		}
		#Mangrove Player Start
		every_planet = {
		limit = { is_planet_class = pc_mangrove  is_homeworld = no }
		 change_pc = pc_tropical 
		 reroll_planet = yes 
		 change_pc = pc_mangrove 
		 
		}
		#Tepui Player Start
		every_planet = {
		limit = { is_planet_class = pc_hajungle  is_homeworld = no }
		 change_pc = pc_tropical 
		 reroll_planet = yes 
		 change_pc = pc_hajungle 
		 
		}
		#Biolumen Player Start
		every_planet = { 				
			limit = { is_planet_class = pc_biolumen is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				10 = { change_pc = pc_continental reroll_planet = yes }
				10 = { change_pc = pc_continental reroll_planet = yes change_pc = pc_cascadian  }	
				10 = { change_pc = pc_ocean reroll_planet = yes	}	
				10 = { change_pc = pc_ocean	reroll_planet = yes	change_pc = pc_desertislands  }	
				10 = { change_pc = pc_ocean reroll_planet = yes change_pc = pc_subarctic  }	
				10 = { change_pc = pc_tropical reroll_planet = yes }		
				10 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_mangrove  }	
				10 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_hajungle	 }	
				20 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_biolumen	 }	
			}
		}
		#Steppe Player Start
		every_planet = {
		limit = { is_planet_class = pc_steppe  is_homeworld = no }
		 change_pc = pc_savannah 
		 reroll_planet = yes 
		 change_pc = pc_steppe 
		 
		}
		#Dune Player Start
		every_planet = {
		limit = { is_planet_class = pc_sandsea  is_homeworld = no }
		 change_pc = pc_desert 
		 reroll_planet = yes 
		 change_pc = pc_sandsea 
		 
		}
		#Oasis Player Start
		every_planet = {
		limit = { is_planet_class = pc_oasis  is_homeworld = no }
		 change_pc = pc_desert 
		 reroll_planet = yes 
		 change_pc = pc_oasis 
		 
		}
		#Mesa Player Start
		every_planet = {
		limit = { is_planet_class = pc_mesa  is_homeworld = no }
		 change_pc = pc_arid 
		 reroll_planet = yes 
		 change_pc = pc_mesa 
		 
		}
		#Bog Player Start
		every_planet = {
		limit = { is_planet_class = pc_swamp  is_homeworld = no }
		 change_pc = pc_tundra 
		 reroll_planet = yes 
		 change_pc = pc_swamp 
		 
		}
		#Frigid Player Start
		every_planet = {
		limit = { is_planet_class = pc_frozen_desert  is_homeworld = no }
		 change_pc = pc_arctic 
		 reroll_planet = yes 
		 change_pc = pc_frozen_desert 
		 
		}
		#Glacial Player Start
		every_planet = {
		limit = { is_planet_class = pc_glacial  is_homeworld = no }
		 change_pc = pc_arctic 
		 reroll_planet = yes 
		 change_pc = pc_glacial 
		 
		}
		#Atacama Player Start
		every_planet = {
		limit = { is_planet_class = pc_hadesert  is_homeworld = no }
		 change_pc = pc_alpine 
		 reroll_planet = yes 
		 change_pc = pc_hadesert 
		 
		}
		#Boreal Player Start
		every_planet = {
		limit = { is_planet_class = pc_boreal  is_homeworld = no }
		 change_pc = pc_alpine 
		 reroll_planet = yes 
		 change_pc = pc_boreal 
		 
		}
		#Mushroom Player Start
		every_planet = { 				
			limit = { is_planet_class = pc_mushroom is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {		
				10 = { change_pc = pc_arctic reroll_planet = yes }
				10 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
				10 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
				10 = { change_pc = pc_alpine reroll_planet = yes }	
				10 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
				10 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
				10 = { change_pc = pc_tundra reroll_planet = yes }		
				10 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
				20 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_mushroom  }		
			}
		}
		#Floating Player Start
		every_planet = {
		limit = { is_planet_class = pc_floating  is_homeworld = no }
		 change_pc = pc_continental
		  
		 change_pc = pc_floating 
		 
		}
		#Crystal Player Start
		every_planet = {
		limit = { is_planet_class = pc_crystal  is_homeworld = no }
		 change_pc = pc_continental 
		  
		 change_pc = pc_crystal 
		 
		}
		#Techno-Organic Player Start
		every_planet = {
		limit = { is_planet_class = pc_technoorganic  is_homeworld = no }
		 change_pc = pc_continental 
		  
		 change_pc = pc_technoorganic 
		 
		}
		#Graveyard Player Start
		every_planet = {
		limit = { is_planet_class = pc_graveyard  is_homeworld = no }
		 change_pc = pc_arid 
		  
		 change_pc = pc_graveyard 
		 
		}
		#Tidally-Locked Player Start
		every_planet = {
		limit = { is_planet_class = pc_tidallylocked  is_homeworld = no has_planet_flag = prescripted_ideal }
		random_list = {
			34 = { change_pc = pc_continental reroll_planet = yes }
			33 = { change_pc = pc_desert reroll_planet = yes }
			33 = { change_pc = pc_arctic reroll_planet = yes }
		}
		}
		#Superhabitable Player Start
		every_planet = { 				
			limit = { is_planet_class = pc_superhabitable is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				4.50 = { change_pc = pc_continental reroll_planet = yes }
				4.50 = { change_pc = pc_continental reroll_planet = yes change_pc = pc_cascadian  }	
				4.50 = { change_pc = pc_ocean reroll_planet = yes	}	
				4.50 = { change_pc = pc_ocean	reroll_planet = yes	change_pc = pc_desertislands  }	
				4.50 = { change_pc = pc_ocean reroll_planet = yes change_pc = pc_subarctic  }	
				4.50 = { change_pc = pc_tropical reroll_planet = yes }		
				4.50 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_mangrove  }	
				4.50 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_hajungle	 }	
				4.50 = { change_pc = pc_desert reroll_planet = yes }
				4.25 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_sandsea  }	
				4.25 = { change_pc = pc_desert reroll_planet = yes change_pc = pc_oasis  }	
				4.25 = { change_pc = pc_arid reroll_planet = yes	}	
				4.25 = { change_pc = pc_arid	reroll_planet = yes	change_pc = pc_mesa  }
				4.25 = { change_pc = pc_savannah reroll_planet = yes }		
				4.25 = { change_pc = pc_savannah reroll_planet = yes change_pc = pc_steppe  }
				4.25 = { change_pc = pc_arctic reroll_planet = yes }
				4.25 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
				4.25 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
				4.25 = { change_pc = pc_alpine reroll_planet = yes }	
				4.25 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
				4.25 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
				4.25 = { change_pc = pc_tundra reroll_planet = yes }		
				4.25 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
			}
		}
		#Methane Player Start
		every_planet = {
		limit = { is_planet_class = pc_methane  is_homeworld = no }
		 change_pc = pc_gaia 
		 reroll_planet = yes 
		 change_pc = pc_methane 
		 
		}
		#Ammonia Player Start
		every_planet = {
		limit = { is_planet_class = pc_ammonia  is_homeworld = no }
		 change_pc = pc_gaia 
		 reroll_planet = yes 
		 change_pc = pc_ammonia 
		 
		}
		#Geothermal Player Start
		every_planet = { 				
			limit = { is_planet_class = pc_geothermal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				6 = { change_pc = pc_continental reroll_planet = yes }
				6 = { change_pc = pc_continental reroll_planet = yes change_pc = pc_cascadian  }	
				6 = { change_pc = pc_ocean reroll_planet = yes	}	
				6 = { change_pc = pc_ocean	reroll_planet = yes	change_pc = pc_desertislands  }	
				6 = { change_pc = pc_ocean reroll_planet = yes change_pc = pc_subarctic  }	
				11 = { change_pc = pc_tropical reroll_planet = yes }		
				6 = { change_pc = pc_tropical reroll_planet = yes change_pc = pc_mangrove  }		
				11 = { change_pc = pc_arctic reroll_planet = yes }
				6 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_frozen_desert  }	
				6 = { change_pc = pc_arctic reroll_planet = yes change_pc = pc_glacial  }	
				6 = { change_pc = pc_alpine reroll_planet = yes }	
				6 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_hadesert  }	
				6 = { change_pc = pc_alpine reroll_planet = yes change_pc = pc_boreal  }	
				6 = { change_pc = pc_tundra reroll_planet = yes }		
				6 = { change_pc = pc_tundra reroll_planet = yes change_pc = pc_swamp  }	
			}
		}
	}	
}

planet_event = {
	id = pdengine.07
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	if = {
		limit = { has_modifier = atmospheric_hallucinogen }
		remove_modifier = atmospheric_hallucinogen
	}
	if = {
		limit = { has_modifier = atmospheric_aphrodisiac }
		remove_modifier = atmospheric_aphrodisiac
	}
	if = {
		limit = { has_modifier = bleak_planet }
		remove_modifier = bleak_planet
	}
	if = {
		limit = { has_modifier = wild_storms }
		remove_modifier = wild_storms
	}
	if = {
		limit = { has_modifier = asteroid_impacts }
		remove_modifier = asteroid_impacts
	}
	if = {
		limit = { has_modifier = unstable_tectonics }
		remove_modifier = unstable_tectonics
	}
	if = {
		limit = { has_modifier = weak_magnetic_field }
		remove_modifier = weak_magnetic_field
	}
	if = {
		limit = { has_modifier = hazardous_weather }
		remove_modifier = hazardous_weather
	}
	if = {
		limit = { has_modifier = dangerous_wildlife }
		remove_modifier = dangerous_wildlife
	}
	if = {
		limit = { has_modifier = irradiated_planet }
		remove_modifier = irradiated_planet
	}
	if = {
		limit = { has_modifier = exofungus }
		remove_modifier = exofungus
		}
	if = {
		limit = { has_modifier = terraforming_candidate }
		remove_modifier = terraforming_candidate
		}
	}
}


planet_event = {
	id = pdengine.08
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	if = {
		limit = { is_planet_class = pc_cascadian }
		change_pc = pc_continental
		 
		change_pc = pc_cascadian
		}
	if = {
		limit = { is_planet_class = pc_desertislands }
		change_pc = pc_ocean
		 
		change_pc = pc_desertislands
		}
	if = {
		limit = { is_planet_class = pc_subarctic }
		change_pc = pc_ocean
		 
		change_pc = pc_subarctic
		}
	if = {
		limit = { is_planet_class = pc_mangrove }
		change_pc = pc_tropical
		 
		change_pc = pc_mangrove
		}
	if = {
		limit = { is_planet_class = pc_hajungle }
		change_pc = pc_tropical
		 
		change_pc = pc_hajungle
		}
	if = {
		limit = { is_planet_class = pc_biolumen }
		change_pc = pc_tropical
		 
		change_pc = pc_biolumen
		}
	if = {
		limit = { is_planet_class = pc_steppe }
		change_pc = pc_savannah
		 
		change_pc = pc_steppe
		}
	if = {
		limit = { is_planet_class = pc_sandsea }
		change_pc = pc_desert
		 
		change_pc = pc_sandsea
		}
	if = {
		limit = { is_planet_class = pc_oasis }
		change_pc = pc_desert
		 
		change_pc = pc_oasis
		}
	if = {
		limit = { is_planet_class = pc_mesa }
		change_pc = pc_arid
		 
		change_pc = pc_mesa
		}
	if = {
		limit = { is_planet_class = pc_swamp }
		change_pc = pc_tundra
		 
		change_pc = pc_swamp
		}
	if = {
		limit = { is_planet_class = pc_frozen_desert }
		change_pc = pc_arctic
		 
		change_pc = pc_frozen_desert
		}
	if = {
		limit = { is_planet_class = pc_glacial }
		change_pc = pc_arctic
		 
		change_pc = pc_glacial
		}
	if = {
		limit = { is_planet_class = pc_hadesert }
		change_pc = pc_alpine
		 
		change_pc = pc_hadesert
		}
	if = {
		limit = { is_planet_class = pc_boreal }
		change_pc = pc_alpine
		 
		change_pc = pc_boreal
		}
	if = {
		limit = { is_planet_class = pc_mushroom }
		change_pc = pc_tundra
		 
		change_pc = pc_mushroom
		}
	if = {
		limit = { is_planet_class = pc_methane }
		change_pc = pc_gaia
		 
		change_pc = pc_methane
		}
	if = {
		limit = { is_planet_class = pc_ammonia }
		change_pc = pc_gaia
		 
		change_pc = pc_methane
		}
	}
}

country_event = {
	id = pdengine.09
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		immediate = {
			every_planet = {
				limit = { is_planet_class = pc_tidallylocked  is_homeworld = yes is_moon = no }
 				change_pc = pc_gaia 
 				 
 				change_pc = pc_tidallylocked 
				  
			}	
		}
}

country_event = {
	id = pdengine.10
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		immediate = {
			every_planet = {
				limit = { is_planet_class = pc_tidallylocked  is_homeworld = yes is_moon = yes }
 				ROOT = { set_country_flag = tidallylockedhomeworldmoon }
			}
		}
}

country_event = {
	id = pdengine.11
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		
	trigger	 = { has_country_flag = tidallylockedhomeworldmoon }

		immediate = {
			random_planet_within_border = {
				limit = { is_capital = no is_moon = no is_star = no is_asteroid = no NOT = { is_planet_class = pc_gas_giant } }
				set_planet_size = 20
				change_pc = pc_gaia
				 
				change_pc = pc_tidallylocked
				add_modifier = {
					modifier = "tidal_locked2"
					days = -1
				}
				 
				set_owner = ROOT
				set_planet_flag = tidallylockedhomeworld			
				
				#All other pop types
					create_pop = { 
						species = owner_species
						ethos = random
					}
				set_capital = yes
			}
			every_owned_pop = {
				modify_species = {
					species = this
					ideal_planet_class = pc_tidallylocked
					base = none # makes this replace parent species
				}
			}			
			random_owned_planet = {
				limit = { is_capital = no }
				change_pc = pc_barren
			}
		}
	}
