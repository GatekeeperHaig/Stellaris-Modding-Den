spawn_unique_planets = {
	random_system = {
		limit = { 
			has_owner = no 
			starting_system = no
			NOR = {
				has_star_flag = sol_system
				has_star_flag = sol
				has_star_flag = deneb_system
				has_star_flag = custom_system
			}					
			any_planet = { 
				is_star = no
				is_colonizable = no
				is_moon = no
				AND = { 
					has_moon = yes
					num_moons > 1
					num_moons < 3
				}									
			}	
		}	
		set_star_flag = crystal_system
		random_system_planet = {
			limit = {
				is_star = no
				is_colonizable = no
				is_moon = no
				AND = { 
					has_moon = yes
					num_moons > 1
					num_moons < 3
				}									
			}
			change_pc = pc_crystal
			set_planet_entity = { entity = "crystal_planet_01_entity" }
			set_planet_size = 1
			change_planet_size = 24		
			set_planet_flag = crystal_planet
			prevent_anomaly = yes
			set_ring = no
			if = {
				limit = { any_tile = { has_blocker = yes } }
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}	
			}
			if = {
				limit = { any_tile = { has_deposit = yes } }
				every_tile = {
					limit = { has_deposit = yes }
					clear_deposits = yes
				}	
			}						
			while = {
				count = 3
				random_tile = {
					limit = { NOT = { any_neighboring_tile = { has_deposit = yes } } }
					add_deposit = d_crystal_deposit
					log = "crystal_deposit_set"
				}
			}
			every_tile = {
				limit = { has_deposit = no }
				ex_planetary_diversity_planetary_resource_spawn_table = yes
			}	
		}										
	}	
	random_system = {
		limit = { 
			has_owner = no 
			starting_system = no
			NOR = {
				has_star_flag = sol_system
				has_star_flag = sol
				has_star_flag = deneb_system
				has_star_flag = custom_system
			}					
			any_planet = { 
				is_star = no
				is_colonizable = no
				is_moon = no
				AND = { 
					has_moon = yes
					num_moons > 2
					num_moons < 4
				}									
			}	
		}	
		set_star_flag = floating_system
		random_system_planet = {
			limit = {
				is_star = no
				is_colonizable = no				
				is_moon = no				
				AND = { 
					has_moon = yes
					num_moons > 2
				}									
			}
			change_pc = pc_floating
			set_planet_entity = { entity = "floating_planet_01_entity" }
			set_planet_size = 1
			change_planet_size = 24		
			set_planet_flag = floating_planet
			prevent_anomaly = yes
			set_ring = no
			if = {
				limit = { any_tile = { has_blocker = yes } }
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}	
			}
			if = {
				limit = { any_tile = { has_deposit = yes } }
				every_tile = {
					limit = { has_deposit = yes }
					clear_deposits = yes
				}	
			}						
			while = {
				count = 3
				random_tile = {
					limit = { NOT = { any_neighboring_tile = { has_deposit = yes } } }
					add_deposit = d_eludium_deposit
					log = "eludium_deposit_set"
				}
			}
			every_tile = {
				limit = { has_deposit = no }
				ex_planetary_diversity_planetary_resource_spawn_table = yes
			}	
		}										
	}	
}		
	