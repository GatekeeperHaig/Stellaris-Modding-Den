planet_edict = {
	name = "economic_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_planet_flag = spaceport_automation_economic							
				set_timed_planet_flag = { flag = reset_delay days = 360 }
				planet_event = { id = ex_spaceport_events.100 }				
			}
		}
	}	
	
	potential = { 		
		owner = { has_policy_flag = core_edicts }			
		planet = {
			AND = {			
				NOT = {
					has_planet_flag = spaceport_automation_economic
					has_planet_flag = spaceport_automation_stardock
					has_planet_flag = spaceport_automation_defensive					
				}					
				OR = {
					has_spaceport = yes
					has_spaceport_construction = no
				}		
			}
		}	
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 0.25
			is_capital = yes
		}			
		#modifier = {
		#	factor = 10 
		#	is_slave_robot_or_prole_planet = yes			
		#}		
	}	
}	

planet_edict = {
	name = "stardock_spaceport_specialization"
	influence_cost = 0
	
	effect = {
		planet = {
			hidden_effect = {
				set_planet_flag = spaceport_automation_stardock
				set_timed_planet_flag = { flag = reset_delay days = 360 }	
				planet_event = { id = ex_spaceport_events.100 }				
			}
		}
	}	
		
	potential = { 		
		owner = { has_policy_flag = core_edicts }			
		planet = {
			AND = {			
				NOT = {
					has_planet_flag = spaceport_automation_economic
					has_planet_flag = spaceport_automation_stardock
					has_planet_flag = spaceport_automation_defensive					
				}					
				OR = {
					has_spaceport = yes
					has_spaceport_construction = no
				}		
			}
		}	
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 10
			AND = {
				years_passed < 50
				from = { is_capital = yes }
			}				
		}			
		modifier = {
			factor = 2
			AND = {
				years_passed > 50
				from = { is_capital = no }
			}	
		}				
	}	
}	

planet_edict = {
	name = "defensive_spaceport_specialization"
	influence_cost = 0

	effect = {
		planet = {
			hidden_effect = {
				set_planet_flag = spaceport_automation_defensive							
				set_timed_planet_flag = { flag = reset_delay days = 360 }
				planet_event = { id = ex_spaceport_events.100 }				
			}
		}
	}	
	
	potential = { 		
		owner = { has_policy_flag = core_edicts }			
		planet = {
			AND = {			
				NOT = {
					has_planet_flag = spaceport_automation_economic
					has_planet_flag = spaceport_automation_stardock
					has_planet_flag = spaceport_automation_defensive					
				}					
				OR = {
					has_spaceport = yes
					has_spaceport_construction = no
				}		
			}
		}	
	}
	
	ai_weight = {
		weight = 5
		modifier = {
			factor = 10
			AND = {			
				is_capital = yes
				years_passed > 50
			}	
		}			
		modifier = {
			factor = 4
			AND = {
				years_passed > 50
				count_pops = { 
					limit = { has_citizenship_type = { type = citizenship_full } } 
					count > 16
				} 
			}	
		}			
		#modifier = {
		#	factor = 0.5
		#	from = { is_slave_robot_or_prole_planet = yes }
		#}
	}	
}	

planet_edict = {
	name = "reset_spaceport_specialization"
	influence_cost = 0
	
	potential = { 		
		owner = { has_policy_flag = core_edicts }			
		planet = {
			AND = {			
				OR = {
					has_planet_flag = spaceport_automation_economic
					has_planet_flag = spaceport_automation_stardock
					has_planet_flag = spaceport_automation_defensive					
				}					
				OR = {
					has_spaceport = yes
					has_spaceport_construction = no
				}						
			}
		}	
	}

	allow = { 
		custom_tooltip = {
			fail_text = "reset_delay_in_effect"
			NOT = { has_planet_flag = reset_delay }
		}		
	}
	
	effect = {
		planet = {
			hidden_effect = {
				remove_planet_flag = spaceport_automation_economic
				remove_planet_flag = spaceport_automation_stardock
				remove_planet_flag = spaceport_automation_defensive				remove_planet_flag = game_start_economic_spaceport			
			}
		}

	}
	
	ai_weight = { weight = 0 }	
}	