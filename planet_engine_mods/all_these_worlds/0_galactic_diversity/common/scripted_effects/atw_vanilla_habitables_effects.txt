convert_vanilla_habitable = {
	if = { ## CONTINENTAL - Abundant Water hydrosphere
		limit = { is_planet_class = pc_continental }
		# Must convert to a world with Abundant Water hydrosphere, temperature zone modifier is already spawned, we also know planet size and whether its a moon or not, we use that to influence the remaining modifier spawning

		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too small get oods for continental halved, too large for oceanic
		random_list = {
			1 = {
				add_modifier = {
					modifier = "lithosphere-continental"
					days = -1
				}
				modifier = { add = 5 has_moon = yes }
				modifier = { add = 2 planet_size > 18 }
				modifier = { factor = 0.5 planet_size < 16 }
			}
			1 = {
				add_modifier = {
					modifier = "lithosphere-uniform"
					days = -1
				}
				modifier = { add = 5 is_moon = yes }
			}
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-water_abundant"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		if = {
			limit = { has_modifier = "lithosphere-continental" }
			#Possibles - Chlorogenian;Retinalgenian;Xerosgenian;Pangaian;Geocrystallic;Geometallic
			#There are so many options in this group, we should spawn a random biosphere modifier first, then pick the planet based on that
			#Spawn Biosphere modifier
			random_list = {
				10 = {
					modifier = { factor = 0.50 has_modifier = "temperature-hot" }
					modifier = { factor = 1.50 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.50 has_modifier = "temperature-cold" }					
					add_modifier = {
						modifier = "biosphere-dense"
						days = -1
					}
				}
				10 = {
					modifier = { factor = 0.75 has_modifier = "temperature-hot" }
					modifier = { factor = 1.25 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.75 has_modifier = "temperature-cold" }					
					add_modifier = {
						modifier = "biosphere-diverse"
						days = -1
					}
				}
				10 = {
					modifier = { factor = 1.25 has_modifier = "temperature-hot" }
					modifier = { factor = 1.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.75 has_modifier = "temperature-cold" }					
					add_modifier = {
						modifier = "biosphere-sparse"
						days = -1
					}
				}
				10 = {
					modifier = { factor = 1.50 has_modifier = "temperature-hot" }
					modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
					modifier = { factor = 1.50 has_modifier = "temperature-cold" }					
					add_modifier = {
						modifier = "biosphere-barren"
						days = -1
					}
				}
				10 = {
					modifier = { factor = 0.85 has_modifier = "temperature-hot" }
					modifier = { factor = 1.15 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.85 has_modifier = "temperature-cold" }					
					add_modifier = {
						modifier = "biosphere-primal"
						days = -1
					}
				}
			}
			random_list = {
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-dense" }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_pangaian has_modifier = "biosphere-dense" } } } }
					change_pc = orbit_pangaian
					set_planet_entity = { entity = gd_pangaian_planet_lush_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-sparse" }
					modifier = { factor = 2.00 has_modifier = "temperature-hot" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_pangaian has_modifier = "biosphere-sparse" } } } }
					change_pc = orbit_pangaian
					set_planet_entity = { entity = gd_pangaian_planet_mixed_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-diverse" }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_chlorogenian has_modifier = "biosphere-diverse" } } } }
					change_pc = orbit_chlorogenian
					set_planet_entity = { entity = gd_chlorogenian_planet_mixed_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-sparse" }
					modifier = { factor = 2.00 has_modifier = "temperature-hot" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_chlorogenian has_modifier = "biosphere-sparse" } } } }
					change_pc = orbit_chlorogenian
					set_planet_entity = { entity = gd_chlorogenian_planet_sparse_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-diverse" }
					modifier = { factor = 2.00 has_modifier = "temperature-cold" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_retinalgenian has_modifier = "biosphere-diverse" } } } }
					change_pc = orbit_retinalgenian
					set_planet_entity = { entity = gd_retinalgenian_planet_lush_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-sparse" }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_retinalgenian has_modifier = "biosphere-sparse" } } } }
					change_pc = orbit_retinalgenian
					set_planet_entity = { entity = gd_retinalgenian_planet_mixed_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-sparse" }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_xerosgenian has_modifier = "biosphere-sparse" } } } }
					change_pc = orbit_xerosgenian
					set_planet_entity = { entity = gd_xerosgenian_planet_mixed_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-barren" }
					modifier = { factor = 2.00 has_modifier = "temperature-hot" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_xerosgenian has_modifier = "biosphere-barren" } } } }
					change_pc = orbit_xerosgenian
					set_planet_entity = { entity = gd_xerosgenian_planet_barren_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-barren" }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 2.00 has_modifier = "temperature-cold" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geometallic has_modifier = "biosphere-barren" } } } }
					change_pc = orbit_geometallic
					set_planet_entity = { entity = gd_geometallic_planet_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				0 = {
					modifier = { add = 10 has_modifier = "biosphere-primal" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geocrystallic has_modifier = "biosphere-primal" } } } }
					change_pc = orbit_geocrystallic
					set_planet_entity = { entity = gd_geocrystallic_planet_01_entity }
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
			}
		}
		if = {
			limit = { has_modifier = "lithosphere-uniform" }
			#Possibles - Megafloral;Wetland
			random_list = {
				10 = {
					modifier = { factor = 0.50 planet_size > 17 }
					modifier = { factor = 0.00 planet_size > 20 }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_megafloral } } } }
					change_pc = orbit_megafloral
					set_planet_entity = { entity = gd_megafloral_planet_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-diverse"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					add_modifier = {
						modifier = "low_gravity"
						days = -1
					}
					set_planet_flag = "planet_converted"
				}
				10 = {
					#modifier = { factor = 1.50 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_wetland } } } }
					change_pc = orbit_wetland
					set_planet_entity = { entity = wetland_planet_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-dense"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
			}
		}
	} #End block

	if = { ## OCEAN - Pelagic hydrosphere
		limit = { is_planet_class = pc_ocean }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-oceanic"
			days = -1
		}
		# HYDROSPHERE
		random_list = {
			1 = {
				add_modifier = {
					modifier = "hydrosphere-water_pelagic"
					days = -1
				}
				modifier = { add = 5 has_moon = yes }
				modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
			}
			1 = {
				add_modifier = {
					modifier = "hydrosphere-water_abundant"
					days = -1
				}
				modifier = { add = 5 is_moon = yes }
				modifier = { factor = 2.00 has_modifier = "temperature-hot" }
			}
		}
		# BIOSPHERE
		#Possibles - Archipelagic;Erimospelagic;Geocoral
		random_list = {
			0 = {
				modifier = { add = 10 has_modifier = "hydrosphere-water_abundant" }
				modifier = { factor = 0.00 has_modifier = "temperature-freezing" }
				modifier = { factor = 0.25 has_modifier = "temperature-cold" }
				modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 2.00 has_modifier = "temperature-hot" }
				modifier = { factor = 3.00 has_modifier = "temperature-scorching" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_erimospelagic } } } }

				change_pc = orbit_erimospelagic
				set_planet_entity = { entity = erimospelagic_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-aquatic"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { add = 10 has_modifier = "hydrosphere-water_abundant" }
				modifier = { factor = 0.00 has_modifier = "temperature-scorching" }
				modifier = { factor = 0.25 has_modifier = "temperature-hot" }
				modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.25 has_modifier = "temperature-cold" }
				modifier = { factor = 0.00 has_modifier = "temperature-freezing" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geocoral } } } }

				change_pc = orbit_geocoral
				set_planet_entity = { entity = gd_geocoral_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-aquatic"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { add = 10 has_modifier = "hydrosphere-water_pelagic" }
				modifier = { factor = 1.50 has_moon = yes }
				modifier = { factor = 0.50 planet_size > 20 }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_archipelagic } } } }

				change_pc = orbit_archipelagic
				set_planet_entity = { entity = archipelagic_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-aquatic"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
		}
	} #End block

	if = { ## TROPICAL - Abundant Water hydrosphere (Bioluminescent)
		limit = { is_planet_class = pc_tropical }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-continental"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-water_dark"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		change_pc = orbit_biolumenal
		set_planet_entity = { entity = gd_biolumenal_planet_01_entity }
		#Spawn Biosphere modifier
		add_modifier = {
			modifier = "biosphere-diverse"
			days = -1
		}
		#Spawn Atmosphere modifier
		spawn_atmosphere_modifier = yes
		#Spawn Gravity modifier
		spawn_gravity_modifier = yes
		set_planet_flag = "planet_converted"
	} #End block

	if = { ## DESERT - Sulfuric-acid Hydrosphere
		limit = { is_planet_class = pc_desert }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-uniform"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-toxic"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		change_pc = orbit_sulfur_toxic
		set_planet_entity = { entity = sulfur_gd_planet_01_entity }
		#Spawn Biosphere modifier
		add_modifier = {
			modifier = "biosphere-exotic"
			days = -1
		}
		#Spawn Atmosphere modifier
		spawn_atmosphere_modifier = yes
		#Spawn Gravity modifier
		spawn_gravity_modifier = yes
		set_planet_flag = "planet_converted"
	} #End block
	
	if = { ## ARID - Abundant Ammonia hydrosphere
		limit = { is_planet_class = pc_arid }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-continental"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-ammonia_abundant"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		change_pc = orbit_ammonia_toxic
		set_planet_entity = { entity = ammonia_gd_planet_01_entity }
		#Spawn Biosphere modifier
		add_modifier = {
			modifier = "biosphere-exotic"
			days = -1
		}
		#Spawn Atmosphere modifier
		spawn_atmosphere_modifier = yes
		#Spawn Gravity modifier
		spawn_gravity_modifier = yes
		set_planet_flag = "planet_converted"
	} #End block

	if = { ## SAVANNHA - Limited Water hydrosphere
		limit = { is_planet_class = pc_savannah }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-uniform"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-water_limited"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		#Possibles - geoalgae;desolate;highland;irradiated;lanthanide;alkali
		random_list = {
			10 = {
				modifier = { factor = 1.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 1.00 has_modifier = "temperature-hot" }
				modifier = { factor = 0.00 has_modifier = "temperature-cold" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geoalgae } } } }

				change_pc = orbit_geoalgae
				set_planet_entity = { entity = gd_geoalgae_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-diverse"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 1.00 has_modifier = "temperature-temperate" }
				modifier = { factor = 1.50 has_modifier = "temperature-hot" }
				modifier = { factor = 0.00 has_modifier = "temperature-cold" }
				modifier = { factor = 0.50 NOT = { orbits_hot_star = yes } }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_irradiated } } } }

				change_pc = orbit_irradiated
				set_planet_entity = { entity = gd_irradiated_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 1.50 has_modifier = "temperature-hot" }
				modifier = { factor = 0.00 has_modifier = "temperature-cold" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_alkali_toxic } } } }

				change_pc = orbit_alkali_toxic
				set_planet_entity = { entity = gd_alkali_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-toxic"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.00 has_modifier = "temperature-hot" }
				modifier = { factor = 1.50 has_modifier = "temperature-cold" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_lanthanide_toxic } } } }

				change_pc = orbit_lanthanide_toxic
				set_planet_entity = { entity = lanthanide_gd_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-toxic"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 1.50 has_modifier = "temperature-cold" }
				modifier = { factor = 0.75 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.25 has_modifier = "temperature-hot" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_highland } } } }

				change_pc = orbit_highland
				set_planet_entity = { entity = highland_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 1.50 has_modifier = "temperature-hot" }
				modifier = { factor = 0.75 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.25 has_modifier = "temperature-cold" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_desolate } } } }

				change_pc = orbit_desolate
				set_planet_entity = { entity = desolate_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
		}
	} #End block

	if = { ## TUNDRA - Hydrocarbonal hydrosphere
		limit = { is_planet_class = pc_tundra }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-uniform"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-toxic"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		#Possibles - hydrocarbonal;geocarbonic
		random_list = {
			10 = {
				modifier = { factor = 1.50 is_moon = yes }
				modifier = { factor = 0.75 is_moon = no }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_hydrocarbonal_toxic } } } }

				change_pc = orbit_hydrocarbonal_toxic
				set_planet_entity = { entity = hydrocarbonal_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-barren"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 0.50 has_modifier = "temperature-freezing" }
				modifier = { factor = 1.25 has_modifier = "temperature-cold" }
				modifier = { factor = 1.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geocarbonic } } } }

				change_pc = orbit_geocarbonic
				set_planet_entity = { entity = carbonic_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-barren"
					days = -1
				}
				#Spawn Atmosphere modifier
				spawn_atmosphere_modifier = yes
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
		}
	} #End block

	if = { ## ARCTIC - Frozen Water hydrosphere
		limit = { is_planet_class = pc_arctic }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		random_list = {
			3 = {
				add_modifier = {
					modifier = "lithosphere-oceanic"
					days = -1
				}
				modifier = { factor = 0.5 planet_size > 22 }
			}
			1 = {
				add_modifier = {
					modifier = "lithosphere-continental"
					days = -1
				}
				modifier = { add = 5 has_moon = yes }
				modifier = { factor = 0.5 planet_size < 16 }
			}
			1 = {
				add_modifier = {
					modifier = "lithosphere-uniform"
					days = -1
				}
				modifier = { add = 5 is_moon = yes }
			}
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-water_frozen"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		#Possibles - cryogenian;cryothalassic; geothermal;steppeland
		if = {
			limit = { has_modifier = "lithosphere-oceanic" }
			change_pc = orbit_cryothalassic
			set_planet_entity = { entity = cryothalassic_planet_01_entity }
			#Spawn Biosphere modifier
			add_modifier = {
				modifier = "biosphere-barren"
				days = -1
			}
			#Spawn Atmosphere modifier
			spawn_atmosphere_modifier = yes
			#Spawn Gravity modifier
			spawn_gravity_modifier = yes
			set_planet_flag = "planet_converted"
		}
		if = {
			limit = { has_modifier = "lithosphere-continental" }
			random_list = {
				5 = {
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_cryogenian has_modifier = "biosphere-barren" } } } }
					modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
					modifier = { factor = 2.00 has_modifier = "temperature-cold" }

					change_pc = orbit_cryogenian
					set_planet_entity = { entity = gd_cryogenian_planet_barren_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-barren"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				10 = {
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_cryogenian has_modifier = "biosphere-diverse" } } } }
					modifier = { factor = 2.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.50 has_modifier = "temperature-cold" }

					change_pc = orbit_cryogenian
					set_planet_entity = { entity = gd_cryogenian_planet_mixed_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-diverse"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
			}
		}
		if = {
			limit = { has_modifier = "lithosphere-uniform" }
			random_list = {
				10 = {
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geothermal has_modifier = "biosphere-barren" } } } }
					modifier = { factor = 0.00 has_modifier = "temperature-hot" }
					modifier = { factor = 0.50 has_modifier = "temperature-temperate" }
					modifier = { factor = 1.50 has_modifier = "temperature-cold" }
					modifier = { factor = 2.00 has_modifier = "temperature-freezing" }

					change_pc = orbit_geothermal
					set_planet_entity = { entity = gd_geothermal_planet_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-diverse"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
				10 = {
					modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_steppeland has_modifier = "biosphere-diverse" } } } }
					modifier = { factor = 2.00 has_modifier = "temperature-hot" }
					modifier = { factor = 1.00 has_modifier = "temperature-temperate" }
					modifier = { factor = 0.50 has_modifier = "temperature-cold" }
					modifier = { factor = 0.00 has_modifier = "temperature-freezing" }

					change_pc = orbit_steppeland
					set_planet_entity = { entity = steppeland_planet_01_entity }
					#Spawn Biosphere modifier
					add_modifier = {
						modifier = "biosphere-sparse"
						days = -1
					}
					#Spawn Atmosphere modifier
					spawn_atmosphere_modifier = yes
					#Spawn Gravity modifier
					spawn_gravity_modifier = yes
					set_planet_flag = "planet_converted"
				}
			}
		}
	} #End block

	if = { ## ALPINE - Negligible hydrosphere (aquifers or ice caps only)
		limit = { is_planet_class = pc_alpine }
		# LITHOSPHERE: planets with moons get bonus odds to continental, jovian moons to uniform; Too smal get oods for continental halved, too large for oceanic
		add_modifier = {
			modifier = "lithosphere-uniform"
			days = -1
		}
		# HYDROSPHERE
		add_modifier = {
			modifier = "hydrosphere-negligible"
			days = -1
		}
		# BIOSPHERE: we need a block for each lithosphere, as it cant be completely random, we only have so many different biome art
		#Possibles - geoplastic;karstic;wasteland;barren
		random_list = {
			10 = {
				modifier = { factor = 1.50 has_ring = yes }
				modifier = { factor = 0.75 has_moon = yes }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_geoplastic } } } }

				change_pc = orbit_geoplastic
				random_list = {
					1 = { set_planet_entity = { entity = gd_geoplastic_planet_01_entity } }
					1 = { set_planet_entity = { entity = gd_geoplastic_planet_02_entity } }
				}
				
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-barren"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-toxic"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 0.25 has_modifier = "temperature-cold" }
				modifier = { factor = 0.75 has_modifier = "temperature-temperate" }
				modifier = { factor = 1.50 has_modifier = "temperature-hot" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_wasteland } } } }

				change_pc = orbit_wasteland
				set_planet_entity = { entity = gd_wasteland_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-barren"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-marginal"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 0.75 has_modifier = "temperature-cold" }
				modifier = { factor = 1.50 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.25 has_modifier = "temperature-hot" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_karstic } } } }

				change_pc = orbit_karstic
				set_planet_entity = { entity = gd_karstic_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-sparse"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-marginal"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
			10 = {
				modifier = { factor = 1.50 has_modifier = "temperature-cold" }
				modifier = { factor = 0.75 has_modifier = "temperature-temperate" }
				modifier = { factor = 0.25 has_modifier = "temperature-hot" }
				modifier = { factor = 0.33 solar_system = { any_neighbor_system = { any_system_planet = { is_planet_class = orbit_barren } } } }

				change_pc = orbit_barren
				set_planet_entity = { entity = gd_barren_planet_01_entity }
				#Spawn Biosphere modifier
				add_modifier = {
					modifier = "biosphere-barren"
					days = -1
				}
				#Spawn Atmosphere modifier
				add_modifier = {
					modifier = "atmosphere-marginal"
					days = -1
				}
				#Spawn Gravity modifier
				spawn_gravity_modifier = yes
				set_planet_flag = "planet_converted"
			}
		}
	} #End block
}

roll_pc_nuked = {
	
	#Spawn Lithosphere modifier
	random_list = {
		1 = {
			add_modifier = {
				modifier = "lithosphere-oceanic"
				days = -1
			}
		}
		2 = {
			add_modifier = {
				modifier = "lithosphere-continental"
				days = -1
			}
		}
		1 = {
			add_modifier = {
				modifier = "lithosphere-uniform"
				days = -1
			}
		}
	}
	#Spawn Hydrosphere modifier
	random_list = {
		0 = {
			add_modifier = {
				modifier = "hydrosphere-water_pelagic"
				days = -1
			}
			modifier = { add = 5 has_modifier = "lithosphere-oceanic" }
			modifier = { factor = 0.25 has_modifier = "temperature-cold" }
			modifier = { factor = 0 has_modifier = "temperature-freezing" }
		}
		0 = {
			add_modifier = {
				modifier = "hydrosphere-water_frozen"
				days = -1
			}
			modifier = { add = 2 has_modifier = "lithosphere-oceanic" }
			modifier = { factor = 0 has_modifier = "temperature-scorching" }
			modifier = { factor = 0 has_modifier = "temperature-hot" }
			modifier = { factor = 0.25 has_modifier = "temperature-temperate" }
		}
		0 = {
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			modifier = { add = 5 has_modifier = "lithosphere-continental" }
			modifier = { add = 2 has_modifier = "lithosphere-uniform" }
		}
		0 = {
			add_modifier = {
				modifier = "hydrosphere-water_limited"
				days = -1
			}
			modifier = { add = 5 has_modifier = "lithosphere-uniform" }
		}
		0 = {
			add_modifier = {
				modifier = "hydrosphere-negligible"
				days = -1
			}
			modifier = { add = 3 has_modifier = "lithosphere-uniform" }
			modifier = { add = 1 has_modifier = "lithosphere-continental" }
		}		
	}
	#Spawn Biosphere modifier
	add_modifier = {
		modifier = "biosphere-barren"
		days = -1
	}
	#Spawn Atmosphere modifier
	add_modifier = {
		modifier = "atmosphere-toxic"
		days = -1
	}
	#Spawn Gravity modifier
	spawn_gravity_modifier = yes
	
	set_planet_flag = "planet_converted"
}

remove_vanilla_planet_modifiers = {
	if = {
		limit = { has_modifier = hazardous_weather }
		remove_modifier = hazardous_weather
	}
	if = {
		limit = { has_modifier = dangerous_wildlife }
		remove_modifier = dangerous_wildlife
	}
	if = {
		limit = { has_modifier = weak_magnetic_field }
		remove_modifier = weak_magnetic_field
	}
	if = {
		limit = { has_modifier = strong_magnetic_field }
		remove_modifier = strong_magnetic_field
	}
	if = {
		limit = { has_modifier = unstable_tectonics }
		remove_modifier = unstable_tectonics
	}
	if = {
		limit = { has_modifier = tidal_locked }
		remove_modifier = tidal_locked
	}
	if = {
		limit = { has_modifier = chthonian_planet }
		remove_modifier = chthonian_planet
	}
	if = {
		limit = { has_modifier = asteroid_impacts }
		remove_modifier = asteroid_impacts
	}
	if = {
		limit = { has_modifier = extensive_moon_system }
		remove_modifier = extensive_moon_system
	}
	if = {
		limit = { has_modifier = carbon_world }
		remove_modifier = carbon_world
	}
	if = {
		limit = { has_modifier = wild_storms }
		remove_modifier = wild_storms
	}
	if = {
		limit = { has_modifier = low_gravity }
		remove_modifier = low_gravity
	}
	if = {
		limit = { has_modifier = high_gravity }
		remove_modifier = high_gravity
	}
	if = {
		limit = { has_modifier = mineral_rich }
		remove_modifier = mineral_rich
	}
	if = {
		limit = { has_modifier = ultra_rich }
		remove_modifier = ultra_rich
	}
	if = {
		limit = { has_modifier = mineral_poor }
		remove_modifier = mineral_poor
	}
	if = {
		limit = { has_modifier = titanic_life }
		remove_modifier = titanic_life
	}
	if = {
		limit = { has_modifier = asteroid_belt }
		remove_modifier = asteroid_belt
	}
	if = {
		limit = { has_modifier = natural_beauty }
		remove_modifier = natural_beauty
	}
	if = {
		limit = { has_modifier = atmospheric_aphrodisiac }
		remove_modifier = atmospheric_aphrodisiac
	}
	if = {
		limit = { has_modifier = atmospheric_hallucinogen }
		remove_modifier = atmospheric_hallucinogen
	}
	if = {
		limit = { has_modifier = lush_planet }
		remove_modifier = lush_planet
	}
	if = {
		limit = { has_modifier = bleak_planet }
		remove_modifier = bleak_planet
	}
	if = {
		limit = { has_modifier = irradiated_planet }
		remove_modifier = irradiated_planet
	}
}