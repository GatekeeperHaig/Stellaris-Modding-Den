@level_2_module_construction_time = 90
@level_2_module_mineral_cost = 50
@level_2_module_energy_cost = 0
@level_2_module_energy_upkeep = 1

@level_3_module_construction_time = 180
@level_3_module_mineral_cost = 100
@level_3_module_energy_cost = 0
@level_3_module_energy_upkeep = 1.5

@level_4_module_construction_time = 270
@level_4_module_mineral_cost = 1
@level_4_module_energy_cost = 25
@level_4_module_energy_upkeep = 2

@level_5_module_construction_time = 360
@level_5_module_mineral_cost = 100
@level_5_module_energy_cost = 50
@level_5_module_energy_upkeep = 1

@level_6_module_construction_time = 450
@level_6_module_mineral_cost = 75
@level_6_module_energy_cost = 25
@level_6_module_energy_upkeep = 1

@level_7_module_construction_time = 540
@level_7_module_mineral_cost = 75
@level_7_module_energy_cost = 25
@level_7_module_energy_upkeep = 1

@level_8_module_construction_time = 630
@level_8_module_mineral_cost = 75
@level_8_module_energy_cost = 25
@level_8_module_energy_upkeep = 1

@level_9_module_construction_time = 720
@level_9_module_mineral_cost = 75
@level_9_module_energy_cost = 25
@level_9_module_energy_upkeep = 1

@economic_spaceport_module_level_2_planet_building_upkeep_mult = -0.025
@economic_spaceport_module_level_3_planet_building_upkeep_mult = -0.05
@economic_spaceport_module_level_4_planet_building_upkeep_mult = -0.075
@economic_spaceport_module_level_5_planet_building_upkeep_mult = -0.1
@economic_spaceport_module_level_6_planet_building_upkeep_mult = -0.125
@economic_spaceport_module_level_7_planet_building_upkeep_mult = -0.15
@economic_spaceport_module_level_8_planet_building_upkeep_mult = -0.175
@economic_spaceport_module_level_9_planet_building_upkeep_mult  = -0.2

@commercial_terminal_output_tier_1 = 4
@commercial_terminal_output_tier_2 = 8
@commercial_terminal_output_tier_3 = 12

@commercial_terminal_pop_consumer_goods_mult_tier_1 = -0.025
@commercial_terminal_pop_consumer_goods_mult_tier_2 = -0.05
@commercial_terminal_pop_consumer_goods_mult_tier_3 = -0.01

@micro_gravity_menufactories_mineral_output_tier_1 = 3
@micro_gravity_menufactories_mineral_output_tier_2 = 6
@micro_gravity_menufactories_mineral_output_tier_3 = 12

@cryogenic_storage_facility_normal_pop_growth_req_tier_1 = -0.05
@cryogenic_storage_facility_normal_pop_growth_req_tier_2 = -0.1
@cryogenic_storage_facility_normal_pop_growth_req_tier_3 = -0.2
@cryogenic_storage_facility_purger_pop_food_mult_tier_1 = 0.1
@cryogenic_storage_facility_purger_pop_food_mult_tier_2 = 0.2
@cryogenic_storage_facility_purger_pop_food_mult_tier_3 = 0.4
@robotics_facility_pop_robot_maintenance_mult_tier_1 = -0.05
@robotics_facility_pop_robot_maintenance_mult_tier_2 = -0.1
@robotics_facility_pop_robot_maintenance_mult_tier_3 = -0.2

@orbital_lab_complex_research_output_tier_1 = 2 # this is duplicated *3 across the different research fields
@orbital_lab_complex_research_output_tier_2 = 3 # this is duplicated *3 across the different research fields
@orbital_lab_complex_research_output_tier_3 = 4 # this is duplicated *3 across the different research fields

@hydrophonic_farms_output_regular = 4
@hydrophonic_farms_output_augmented = 8

@solar_power_network_output_regular = 4
@solar_power_network_output_augmented = 8

@orbital_refinery_output_regular = 4
@orbital_refinery_output_augmented = 8

@tier_1_mult_effect = 0.05
@tier_2_mult_effect = 0.1
@tier_3_mult_effect = 0.2

economic_spaceport_module_level_2 = {
	icon = "GFX_economic_spaceport_module_level_2"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_2_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_2" }
	spaceport_level = 2

	cost = {
		minerals = @level_2_module_mineral_cost
		energy = @level_2_module_energy_cost
	}
	
	required_resources = {
		energy = @level_2_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_2_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_3 = {
	icon = "GFX_economic_spaceport_module_level_3"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_3_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_3" }
	spaceport_level = 3

	cost = {
		minerals = @level_3_module_mineral_cost
		energy = @level_3_module_energy_cost
	}
	
	required_resources = {
		energy = @level_3_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_3_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_4 = {
	icon = "GFX_economic_spaceport_module_level_4"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4

	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_4_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_5 = {
	icon = "GFX_economic_spaceport_module_level_5"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_5_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_5" }
	spaceport_level = 5

	cost = {
		minerals = @level_5_module_mineral_cost
		energy = @level_5_module_energy_cost
	}
	
	required_resources = {
		energy = @level_5_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_5_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_6 = {
	icon = "GFX_economic_spaceport_module_level_6"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6

	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_6_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_7 = {
	icon = "GFX_economic_spaceport_module_level_7"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_7_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_7" }
	spaceport_level = 7

	cost = {
		minerals = @level_7_module_mineral_cost
		energy = @level_7_module_energy_cost
	}
	
	required_resources = {
		energy = @level_7_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_7_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_8 = {
	icon = "GFX_economic_spaceport_module_level_8"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8

	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_8_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

economic_spaceport_module_level_9 = {
	icon = "GFX_economic_spaceport_module_level_9"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_9_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_spaceport_9" }
	spaceport_level = 9

	cost = {
		minerals = @level_9_module_mineral_cost
		energy = @level_9_module_energy_cost
	}
	
	required_resources = {
		energy = @level_9_module_energy_upkeep
	}
	
	planet_modifier = { planet_building_upkeep_mult = @economic_spaceport_module_level_9_planet_building_upkeep_mult }
	
	ai_weight = { modifier = { factor = 0 } }
}

#### Special Economic Spaceport Modules

commercial_terminal_1 = {
	icon = "GFX_commercial_terminal_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 
		from = { 
			OR = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}
				has_spaceport_5_or_lower = yes
			}		
		}
	}	
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	produced_resources = {
		energy = @commercial_terminal_output_tier_1
	}
	
	planet_modifier = {
		pop_consumer_goods_mult = @commercial_terminal_pop_consumer_goods_mult_tier_1
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

commercial_terminal_2 = {
	icon = "GFX_commercial_terminal_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 
		from = { 
			OR = {				
				has_planet_flag = edict_mixed_spaceport_in_effect
				AND = {
					has_spaceport_7_or_lower = yes
					has_planet_flag = edict_economic_spaceport_in_effect
				}	
			}				
		}
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}

	produced_resources = {
		energy = @commercial_terminal_output_tier_2
	}
	
	planet_modifier = {
		pop_consumer_goods_mult = @commercial_terminal_pop_consumer_goods_mult_tier_2
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

commercial_terminal_3 = {
	icon = "GFX_commercial_terminal_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time	
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	produced_resources = {
		energy = @commercial_terminal_output_tier_3
	}	
	
	planet_modifier = {
		pop_consumer_goods_mult = @commercial_terminal_pop_consumer_goods_mult_tier_3
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

micro_gravity_menufactories_1 = { 
	icon = "GFX_micro_gravity_menufactories_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 
		from = { 
			OR = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}
				has_spaceport_5_or_lower = yes
			}		
		}
	}		
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	produced_resources = {
		minerals = @micro_gravity_menufactories_mineral_output_tier_1
	}	
	
	planet_modifier = {
		tile_resource_minerals_mult = @tier_1_mult_effect
	}		
	
	ai_weight = { modifier = { factor = 0 } }
}

micro_gravity_menufactories_2 = {
	icon = "GFX_micro_gravity_menufactories_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 
		from = { 
			OR = {				
				has_planet_flag = edict_mixed_spaceport_in_effect
				AND = {
					has_spaceport_7_or_lower = yes
					has_planet_flag = edict_economic_spaceport_in_effect
				}	
			}				
		}
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}

	produced_resources = {
		minerals = @micro_gravity_menufactories_mineral_output_tier_2
	}	
	
	planet_modifier = {
		tile_resource_minerals_mult = @tier_2_mult_effect
	}			
	
	ai_weight = { modifier = { factor = 0 } }
}

micro_gravity_menufactories_3 = {
	icon = "GFX_micro_gravity_menufactories_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time	
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}

	produced_resources = {
		minerals = @micro_gravity_menufactories_mineral_output_tier_3
	}	
	
	planet_modifier = {
		tile_resource_minerals_mult = @tier_3_mult_effect
	}		
	
	ai_weight = { modifier = { factor = 0 } }
}

##### Cryogenic facilities - different versions for different auth. 

cryogenic_storage_facility_normal_1 = { 
	icon = "GFX_cryogenic_storage_facility_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 
		from = { 
			OR = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}
				has_spaceport_5_or_lower = yes
			}		
		}
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}	
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	planet_modifier = {
		pop_growth_req = @cryogenic_storage_facility_normal_pop_growth_req_tier_1
		pop_growth_speed = @tier_1_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

cryogenic_storage_facility_normal_2 = {
	icon = "GFX_cryogenic_storage_facility_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 
		from = { 
			OR = {				
				has_planet_flag = edict_mixed_spaceport_in_effect
				AND = {
					has_spaceport_7_or_lower = yes
					has_planet_flag = edict_economic_spaceport_in_effect
				}	
			}				
		}	
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}

	planet_modifier = {
		pop_growth_req = @cryogenic_storage_facility_normal_pop_growth_req_tier_2
		pop_growth_speed = @tier_2_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

cryogenic_storage_facility_normal_3 = {
	icon = "GFX_cryogenic_storage_facility_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time	
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8
	potential = { 
		from = { has_planet_flag = edict_economic_spaceport_in_effect }
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}

	planet_modifier = {
		pop_growth_req = @cryogenic_storage_facility_normal_pop_growth_req_tier_3
		pop_growth_speed = @tier_3_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

cryogenic_storage_facility_purger_1 = { 
	icon = "GFX_cryogenic_storage_facility_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 		
		owner = { NOT = { has_authority = auth_machine_intelligence } }
		from = { 
			AND = {
				exists = pop
				pop = { 
					OR = {
						has_slavery_type = { country = from.owner type = slavery_livestock }
						has_purge_type = { country = from.owner type = purge_processing }
					}
				}	
				OR = {
					NOT = {
						has_planet_flag = edict_economic_spaceport_in_effect
						has_planet_flag = edict_mixed_spaceport_in_effect
					}
					has_spaceport_5_or_lower = yes
				}					
			}									
		}		
	}
	
	
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	planet_modifier = {
		pop_food_mult = @cryogenic_storage_facility_purger_pop_food_mult_tier_1
		pop_growth_speed = @tier_1_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

cryogenic_storage_facility_purger_2 = {
	icon = "GFX_cryogenic_storage_facility_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 		
		owner = { NOT = { has_authority = auth_machine_intelligence } }
		from = { 
			AND = {
				OR = {
					has_planet_flag = edict_mixed_spaceport_in_effect
					AND = {
						has_spaceport_7_or_lower = yes
						has_planet_flag = edict_economic_spaceport_in_effect
					}	
				}				
				AND = {
					exists = pop
					pop = { 
						OR = {
							has_slavery_type = { country = from.owner type = slavery_livestock }
							has_purge_type = { country = from.owner type = purge_processing }
						}
					}
				}	
			}									
		}		
	}	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}

	planet_modifier = {
		pop_food_mult = @cryogenic_storage_facility_purger_pop_food_mult_tier_2
		pop_growth_speed = @tier_2_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

cryogenic_storage_facility_purger_3 = {
	icon = "GFX_cryogenic_storage_facility_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time	
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8
	potential = { 		
		owner = { NOT = { has_authority = auth_machine_intelligence } }
		from = { 
			AND = {
				has_planet_flag = edict_economic_spaceport_in_effect
				AND = {
					exists = pop
					pop = { 
						OR = {
							has_slavery_type = { country = from.owner type = slavery_livestock }
							has_purge_type = { country = from.owner type = purge_processing }
						}
					}
				}	
			}									
		}		
	}
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}

	planet_modifier = {
		pop_food_mult = @cryogenic_storage_facility_purger_pop_food_mult_tier_3
		pop_growth_speed = @tier_3_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

robotics_facility_1 = { 
	icon = "GFX_robotics_facility_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 
		from = { 
			OR = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}
				has_spaceport_5_or_lower = yes
			}
		}	
		owner = { 
			OR = {
				has_authority = auth_machine_intelligence }
				has_country_flag = synthetic_age
				has_policy_flag = robots_allowed
			}
		}
	}
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	planet_modifier = {
		pop_robot_maintenance_mult = @robotics_facility_pop_robot_maintenance_mult_tier_1
		pop_robot_build_speed_mult = @tier_1_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

robotics_facility_2 = {
	icon = "GFX_robotics_facility_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 
		from = { 
			OR = {	
				has_planet_flag = edict_mixed_spaceport_in_effect
				AND = {
					has_spaceport_7_or_lower = yes
					has_planet_flag = edict_economic_spaceport_in_effect
				}
			}
		}
		owner = { 
			OR = {
				has_authority = auth_machine_intelligence }
				has_country_flag = synthetic_age
				has_policy_flag = robots_allowed
			}
		}
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}

	planet_modifier = {
		pop_robot_maintenance_mult = @robotics_facility_pop_robot_maintenance_mult_tier_2
		pop_robot_build_speed_mult = @tier_2_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

robotics_facility_3 = {
	icon = "GFX_robotics_facility_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time	
	prerequisites = { "tech_spaceport_8" }
	spaceport_level = 8
	potential = { 
		from = { has_planet_flag = edict_economic_spaceport_in_effect }
		owner = { 
			OR = {
				has_authority = auth_machine_intelligence }
				has_country_flag = synthetic_age
				has_policy_flag = robots_allowed
			}
		}
	}
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}

	planet_modifier = {
		pop_robot_maintenance_mult = @robotics_facility_pop_robot_maintenance_mult_tier_3
		pop_robot_build_speed_mult = @tier_3_mult_effect
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

### Orbital Lab Complexes

orbital_lab_complex_1 = {
	icon = "GFX_orbital_lab_complex_1"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_4_module_construction_time
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 4
	potential = { 
		from = { 
			OR = {
				NOT = {
					has_planet_flag = edict_economic_spaceport_in_effect
					has_planet_flag = edict_mixed_spaceport_in_effect
				}
				has_spaceport_5_or_lower = yes
			}		
		}
	}		
	
	cost = {
		minerals = @level_4_module_mineral_cost
		energy = @level_4_module_energy_cost
	}
	
	required_resources = {
		energy = @level_4_module_energy_upkeep
	}
	
	produced_resources = {
		engineering_research = @orbital_lab_complex_research_output_tier_1
		physics_research = @orbital_lab_complex_research_output_tier_1
		society_research = @orbital_lab_complex_research_output_tier_1
	}	
	
	planet_modifier = {
		tile_resource_physics_research_mult = @tier_1_mult_effect
		tile_resource_society_research_mult = @tier_1_mult_effect
		tile_resource_engineering_research_mult = @tier_1_mult_effect
	}	
	
	ai_weight = { modifier = { factor = 0 } }
}

orbital_lab_complex_2 = {
	icon = "GFX_orbital_lab_complex_2"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time
	prerequisites = { "tech_spaceport_6" }
	spaceport_level = 6
	potential = { 
		from = { 
			OR = {				
				has_planet_flag = edict_mixed_spaceport_in_effect
				AND = {
					has_spaceport_7_or_lower = yes
					has_planet_flag = edict_economic_spaceport_in_effect
				}	
			}				
		}
	}	
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}
	
	produced_resources = {
		engineering_research = @orbital_lab_complex_research_output_tier_2
		physics_research = @orbital_lab_complex_research_output_tier_2
		society_research = @orbital_lab_complex_research_output_tier_2
	}	

	planet_modifier = {
		tile_resource_physics_research_mult = @tier_2_mult_effect
		tile_resource_society_research_mult = @tier_2_mult_effect
		tile_resource_engineering_research_mult = @tier_2_mult_effect
	}		
	
	ai_weight = { modifier = { factor = 0 } }
}

orbital_lab_complex_3 = {
	icon = "GFX_orbital_lab_complex_3"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_8_module_construction_time
	prerequisites = { "tech_spaceport_8" }
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	spaceport_level = 8
	
	cost = {
		minerals = @level_8_module_mineral_cost
		energy = @level_8_module_energy_cost
	}
	
	required_resources = {
		energy = @level_8_module_energy_upkeep
	}
	
	produced_resources = {
		engineering_research = @orbital_lab_complex_research_output_tier_3
		physics_research = @orbital_lab_complex_research_output_tier_3
		society_research = @orbital_lab_complex_research_output_tier_3
	}	
	
	planet_modifier = {
		tile_resource_physics_research_mult = @tier_3_mult_effect
		tile_resource_society_research_mult = @tier_3_mult_effect
		tile_resource_engineering_research_mult = @tier_3_mult_effect
	}		
	
	ai_weight = { modifier = { factor = 0 } }
}

#### Generic Modules

solar_power_network_regular = { 
	icon = "GFX_solar_power_network_regular"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_3_module_construction_time	
	potential = { from = { NOT = { has_planet_flag = edict_economic_spaceport_in_effect } } }	
	prerequisites = { "tech_solar_panel_network" }
	spaceport_level = 2	
	
	cost = {
		minerals = @level_3_module_mineral_cost
		energy = @level_3_module_energy_cost
	}
	
	planet_modifier = {
		planet_resource_energy_add = @solar_power_network_output_regular
	}
	
	ai_weight = { modifier = { factor = 0 } }
}	

solar_power_network_augmented = {
	icon = "GFX_solar_power_network_augmented"
	section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time
	potential = { from = { has_planet_flag = edict_economic_spaceport_in_effect } }
	prerequisites = { "tech_solar_panel_network" }
	spaceport_level = 2
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	planet_modifier = {
		planet_resource_energy_add = @solar_power_network_output_augmented
	}
	
	ai_weight = { modifier = { factor = 0 } }
}	

hydroponic_farms_regular = {
	icon = "GFX_hydroponic_farms_regular"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_3_module_construction_time	
	prerequisites = { "tech_orbital_hydroponics" }
	spaceport_level = 3
	potential = { 
		from = { NOT = { has_planet_flag = edict_economic_spaceport_in_effect } }
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_3_module_mineral_cost
		energy = @level_3_module_energy_cost
	}
	
	required_resources = {
		energy = @level_3_module_energy_upkeep
	}
	
	planet_modifier = {
		planet_resource_food_add = @hydrophonic_farms_output_regular
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

hydroponic_farms_augmented = {
	icon = "GFX_hydroponic_farms_augmented"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_orbital_hydroponics" }
	spaceport_level = 3
	potential = { 
		from = { has_planet_flag = edict_economic_spaceport_in_effect }
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}
	
	planet_modifier = {
		planet_resource_food_add = @hydrophonic_farms_output_augmented
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

orbital_refinery_regular = {
	icon = "GFX_orbital_refinery_regular"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_5_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 3
	potential = { 
		from = { NOT = { has_planet_flag = edict_economic_spaceport_in_effect } }
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_5_module_mineral_cost
		energy = @level_5_module_energy_cost
	}
	
	required_resources = {
		energy = @level_5_module_energy_upkeep
	}
	
	planet_modifier = {
		planet_resource_minerals_add = @orbital_refinery_output_regular		
	}
	
	ai_weight = { modifier = { factor = 0 } }
}

orbital_refinery_augmented = {
	icon = "GFX_orbital_refinery_augmented"
	#section = "ECONOMIC_SPACEPORT_SECTION"
	construction_days = @level_6_module_construction_time	
	prerequisites = { "tech_spaceport_4" }
	spaceport_level = 3
	potential = { 
		from = { has_planet_flag = edict_economic_spaceport_in_effect }
		owner = { NOT = { has_authority = auth_machine_intelligence } }
	}
	
	cost = {
		minerals = @level_6_module_mineral_cost
		energy = @level_6_module_energy_cost
	}
	
	required_resources = {
		energy = @level_6_module_energy_upkeep
	}
	
	planet_modifier = {
		planet_resource_minerals_add = @orbital_refinery_output_augmented
	}
	
	ai_weight = { modifier = { factor = 0 } }
}