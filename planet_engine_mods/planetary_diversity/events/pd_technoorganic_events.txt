namespace = pdtechnoorganic

#EnterSystem
ship_event = {
	id = pdtechnoorganic.10
	title = pdtechnoorganic.10.name
	desc = pdtechnoorganic.10.desc
	picture = GFX_evt_technoorganic
	location = from
	show_sound = event_ship_bridge

	is_triggered_only = yes

	trigger = {
		from = {
			has_star_flag = technoorganic_system
		}
		owner = {
			NOT = {
				has_country_flag = technoorganic_encounter
			}
			OR = {
				is_country_type = default
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
            }
			NOT = { has_authority = auth_machine_intelligence }
		}
	}

	immediate = {
		owner = {
			set_country_flag = technoorganic_encounter
		}
	}

	option = {
		name = pdtechnoorganic.10.a
	}
}

#SurveyPlanet
ship_event = {
	id = pdtechnoorganic.20
	title = pdtechnoorganic.20.name
	desc = pdtechnoorganic.20.desc
	picture = GFX_evt_technoorganic2
	location = from
	show_sound = event_ship_bridge

	is_triggered_only = yes

	trigger = {
		from = {
			has_planet_flag = technoorganic_planet
		}
		owner = {
			NOT = {
				has_country_flag = found_technoorganic_planet
			}
			OR = {
				is_country_type = default
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
			}
		}
	}

	immediate = {
		owner = {
			set_country_flag = found_technoorganic_planet
		}
	}

	option = {
		name = pdtechnoorganic.20.a
	}
}

#EventStart
planet_event = {
	id = pdtechnoorganic.30
	title = pdtechnoorganic.30.name
	desc = pdtechnoorganic.30.desc
	picture = GFX_evt_technoorganic2
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		has_planet_flag = technoorganic_planet
		has_owner = yes
		is_homeworld = no		
		owner = {
			NOT = {
				has_authority = auth_machine_intelligence
			}
		}
		has_ground_combat = no
		is_occupied_flag = no
	}

	immediate = {
		owner = {
			set_country_flag = technoorganic_planet_event
		}
	}

	option = {
		name = pdtechnoorganic.30.a
		hidden_effect = {
			planet_event = { id = pdtechnoorganic.31 days = 180 random = 1 }
		}
	}

	option = {
		name = pdtechnoorganic.30.b	
			trigger = {
				owner = { 
				OR = { 
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
					}
				}
			}
		hidden_effect = {
			planet_event = { id = pdtechnoorganic.31 days = 180 random = 1 }
		}
	}

	option = {
		name = pdtechnoorganic.30.c	
			trigger = {
				owner = { 
				OR = { 
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
					}
				}
			}
		hidden_effect = {
			planet_event = { id = pdtechnoorganic.31 days = 180 random = 1 }
		}
	}
}
