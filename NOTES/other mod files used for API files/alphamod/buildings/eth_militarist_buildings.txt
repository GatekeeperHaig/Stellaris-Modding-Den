@weightnormal = 2.5
@weightuseful = 10
@weightimportant = 100
@weightcritical = 1000

@buildquick = 90
@buildnormal = 180
@buildlong = 360
@buildhuge = 1080

building_military_base = {
	base_buildtime = @buildlong
	planet_unique = yes
	defense_armies = 2
	
	cost = {
		minerals = 200
		energy = 100
	}

	produced_resources = {
		engineering_research = 1
	}
	
	produced_resource_trigger = {
		modifier = {
			or = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			resources = {
				sr_brands_fealty = 1
			}
		}
		modifier = {
			has_edict = mandatory_service
			resources = {
				unity = 1
			}
		}
		modifier = {
			is_at_war = no
			resources = {
				engineering_research = 1
			}
		}
		modifier = {
			is_at_war = yes
			resources = {
				minerals = 1
			}
		}
		modifier = {		
			has_valid_civic = civic_citizen_service
			resources = {
				unity = 1
			}
		}
	}

	army_modifier = {
		army_damage_mult = 0.2
		army_health = 0.1
		army_defense_health_mult = 0.25
	}
	
	planet_modifier = {
		planet_army_build_speed_mult = 0.1
		planet_unrest_add = -10
	}
	
	prerequisites = { "tech_alpha_military_service" }
	ai_allow = { has_engineering_deposit = yes }
	ai_replace = no
	ai_weight = { factor = @weightcritical }
}

building_hunting_lodge = {
	base_buildtime = @buildquick
	planet_unique = yes
	
	cost = {
		minerals = 25
		energy = 50
	}

	required_resources = {
		energy = 1
	}
	
	produced_resources = {
		food = 1
		society_research = 1
	}

	army_modifier = {
		army_damage_mult = 0.1
		army_upkeep_mult = -0.1
	}
	
	planet_modifier = {
		pop_citizen_happiness = 0.05
		pop_food_req_mult = -0.1
	}
	
	potential = {
		planet = {
			has_building = "building_warrior_house"
			any_tile = { has_wildlife = yes }
		}
	}
	
	allow = {
		custom_tooltip = {
			text = "requirement_dangerous_wildlife"
			tile = { has_adjacent_wildlife = yes }
		}
	}
	
	destroy_if = {
		or = {
			tile = { not = { any_neighboring_tile = { has_wildlife = yes }}}
			planet = { not = { has_building = building_warrior_house }}
		}
	}
	
	prerequisites = { "tech_alpha_fanatic_military" }	
	ai_weight = { factor = @weightuseful }	
	ai_allow = { has_society_or_food_deposit = yes }
	ai_replace = no	
	on_queued = { preserve_wildlife = yes }
}

building_war_monastery = {
	base_buildtime = @buildlong
	planet_unique = yes
	
	cost = {
		minerals = 100
		energy = 150
		influence = 25
	}
	
	produced_resources = {
		unity = 2
	}
	
	produced_resource_trigger = {
		modifier = {
			is_at_war = yes
			resources = {
				unity = 2
			}
		}
	}

	army_modifier = {
		army_damage_mult = 0.2
		army_defense_health_mult = 0.5
	}
	
	country_modifier = {
		country_resource_influence_add = 0.1
		pop_ethic_militarist_attraction_mult = 0.02
	}
	
	potential = {
		planet = {
			has_building = "building_warrior_house"
			has_building = "building_military_base"
		}
	}
	
	destroy_if = { 
		planet = {
			or = {
				is_occupied_flag = yes
				not = { has_building = "building_warrior_house" }
				not = { has_building = "building_military_base" }
			}
		}
	}
	
	prerequisites = { "tech_alpha_fanatic_military_2" }
	ai_weight = { factor = @weightimportant }
	ai_replace = no
}

building_warrior_house = {
	base_buildtime = @buildlong
	defense_armies = 1
	
	cost = {
		minerals = 50
		energy = 100
	}

	required_resources = {
		energy = 1
	}
	
	produced_resources = {
		food = 1
	}
	
	produced_resource_trigger = {
		modifier = {
			or = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			resources = {
				sr_sacred_weapons = 1
			}
		}
		modifier = {
			is_at_war = yes
			resources = {
				unity = 1
			}
		}
		modifier = {		
			has_valid_civic = civic_warrior_culture
			resources = {
				unity = 1
			}
		}
	}
	
	army_modifier = {
		army_damage_mult = 0.05
		army_defense_health_mult = 0.25
		army_upkeep_mult = -0.1
	}
	
	planet_modifier = {
		planet_army_build_cost_mult = -0.1
		pop_ethic_militarist_attraction_mult = 0.25
	}
		
	potential = {
		planet = { not = { has_planet_flag = pf_warrior_house_2 }}
	}
	
	prerequisites = { "tech_alpha_military_service_3" }
	ai_weight = { factor = @weightimportant }
	ai_allow = { has_food_deposit = yes	}	
	on_queued = { warrior_house_queued = yes }	
	on_unqueued = { warrior_house_unqueued = yes }	
	ai_replace = no
}

building_dry_dock = {
	base_buildtime = @buildhuge
	empire_unique = yes
	
	cost = {
		minerals = 250
		energy = 500
		influence = 100
	}

	required_resources = {
		minerals = 5
		energy = 3
	}
	
	produced_resources = {
		engineering_research = 5
		physics_research = 2
	}
	
	planet_modifier = {
	}
	
	country_modifier = {
		country_naval_cap_mult = 0.05
		country_command_limit_add = 5
		shipsize_cruiser_build_cost_mult = -0.1
		shipsize_battleship_build_cost_mult = -0.05
		shipsize_cruiser_build_speed_mult = 0.1
		shipsize_battleship_build_speed_mult = 0.1
	}
	
	potential = {
		planet = {
			has_military_facility = yes
			not = { has_building = building_dry_dock_2 }
			not = { has_building_construction = building_dry_dock_2 }
		}
	}
	
	prerequisites = { "tech_alpha_military_service_2" }	
	ai_weight = { factor = @weightimportant }	
	ai_allow = { has_engineering_or_physics_deposit = yes }	
	destroy_if = { planet = { is_occupied_flag = yes }}
	ai_replace = no
}

building_dry_dock_2 = {
	base_buildtime = @buildhuge
	empire_unique = yes
	icon = building_dry_dock
	
	cost = {
		minerals = 250
		energy = 500
		influence = 100
	}

	required_resources = {
		minerals = 3
		energy = 2
	}
	
	produced_resources = {
		engineering_research = 5
		physics_research = 2
	}
	
	country_modifier = {
		country_naval_cap_mult = 0.05
		country_command_limit_add = 5
		shipsize_cruiser_build_cost_mult = -0.1
		shipsize_battleship_build_cost_mult = -0.05
		shipsize_cruiser_build_speed_mult = 0.1
		shipsize_battleship_build_speed_mult = 0.1
	}
	
	potential = {
		planet = {
			has_military_facility = yes
			not = { has_building = building_dry_dock }
			not = { has_building_construction = building_dry_dock }
		}
	}
	
	prerequisites = { "tech_alpha_military_service_2" }	
	ai_weight = { factor = @weightimportant }	
	ai_allow = { has_engineering_or_physics_deposit = yes }
	destroy_if = { planet = { is_occupied_flag = yes }}
	ai_replace = no
}