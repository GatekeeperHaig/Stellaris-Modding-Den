# THIS FILE IS FOR ADVANCED TERRAFORMING WHICH REQUIRES ADAPTING THE ECOLOGY BY INCREASING THE AMMOUNT OF LIQUID WATER ON THE SURFACE
# EITHER BY MOVING ICE ASTEROIDS FROM THE OUTER SYSTEM AND DROPING THEM ON THE SURFACE, OR THAWING FROZEN WATER BODIES WHEN PRESENT
@advancedCost = 5000

terraform_link = {
	from = "orbit_barren"
	to = "orbit_adapted"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = { solar_system = { any_system_planet = { is_planet_class = pc_ice_asteroid } } }
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-uniform"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-sparse"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_barren
				CLASS_TO = orbit_adapted
			}
		}
	}
}
terraform_link = {
	from = "orbit_wasteland"
	to = "orbit_adapted"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = { solar_system = { any_system_planet = { is_planet_class = pc_ice_asteroid } } }
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-uniform"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-sparse"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_wasteland
				CLASS_TO = orbit_adapted
			}
		}
	}
}
terraform_link = {
	from = "orbit_cryothalassic"
	to = "orbit_geocoral"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-oceanic"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_pelagic"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-aquatic"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_cryothalassic
				CLASS_TO = orbit_geocoral
			}
		}
	}
}
terraform_link = {
	from = "orbit_erimospelagic"
	to = "orbit_geocoral"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = { solar_system = { any_system_planet = { is_planet_class = pc_ice_asteroid } } }
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-oceanic"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_pelagic"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-aquatic"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_erimospelagic
				CLASS_TO = orbit_geocoral
			}
		}
	}
}
terraform_link = {
	from = "orbit_water_panthalassic"
	to = "orbit_geocoral"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
			has_modifier = shallow_water_world
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_uninhabitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-oceanic"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_pelagic"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-aquatic"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			spawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 5
	}
}
terraform_link = {
	from = "orbit_geoplastic"
	to = "orbit_geometallic"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = { solar_system = { any_system_planet = { is_planet_class = pc_ice_asteroid } } }
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-continental"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-barren"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_geoplastic
				CLASS_TO = orbit_geometallic
			}
		}
	}
}
terraform_link = {
	from = "orbit_geoplastic"
	to = "orbit_geocarbonic"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = { solar_system = { any_system_planet = { is_planet_class = pc_ice_asteroid } } }
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-freezing"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-uniform"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-toxic"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-barren"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-toxic"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_geoplastic
				CLASS_TO = orbit_geocarbonic
			}
		}
	}
}
terraform_link = {
	from = "orbit_geocarbonic"
	to = "orbit_hydrocarbonal_toxic"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-freezing"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-uniform"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-toxic"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-exotic"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-toxic"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_geocarbonic
				CLASS_TO = orbit_hydrocarbonal_toxic
			}
		}
	}
}
terraform_link = {
	from = "orbit_geometallic"
	to = "orbit_geocrystallic"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = {
			OR = {
				has_modifier = "temperature-cold"
				has_modifier = "temperature-temperate"
				has_modifier = "temperature-hot"
			}
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-continental"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-primal"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-marginal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			should_terraform_trigger = {
				CLASS_FROM = orbit_geometallic
				CLASS_TO = orbit_geocrystallic
			}
		}
	}
}
terraform_link = {
	from = "orbit_geocrystallic"
	to = "orbit_chlorogaian"

	resources = {
		category = terraforming

		cost = {
			energy = @advancedCost
		}
	}

	duration = 3600

	potential = {
		from = {
			has_modifier = "temperature-temperate"
		}
	}
	condition = {
		has_technology = "tech_ecological_adaptation"
	}

	effect = {
		from = { remove_habitable_modifiers = yes }
		from = {
			add_modifier = {
				modifier = "lithosphere-continental"
				days = -1
			}
			add_modifier = {
				modifier = "hydrosphere-water_abundant"
				days = -1
			}
			add_modifier = {
				modifier = "biosphere-dense"
				days = -1
			}
			add_modifier = {
				modifier = "atmosphere-optimal"
				days = -1
			}
			respawn_gravity_modifier = yes
			check_for_terraforming_special_cases = yes
			spawn_planet_deposits = yes
		}
	}

	ai_weight = {
		weight = 10
	}
}