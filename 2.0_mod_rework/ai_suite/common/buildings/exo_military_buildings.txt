building_stronghold = {
	#building defines
	tags = { fortress }
	is_listed = yes
	defense_armies = 3
	protects_from_bombardment = yes	
	planetary_ftl_inhibitor = yes
	base_buildtime = 180
	cost = { minerals = 300 }
	required_resources = { energy = 2 }
	#requirements and upgrade
	potential = { conditions_stronghold = yes }
	prerequisites = { "tech_planetary_defenses" }
	upgrades = { building_fortress }
	#resource output and modifiers
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { unity = 1 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { unity = 1 }
		}		
	}		
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_content_enabled = no
		}
		modifier = { planet_unrest_add = -30 }
	}	
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_content_enabled = yes
			planet_is_ringworld = yes
		}
		modifier = { planet_unrest_add = -30 }
	}

	ai_allow = { tile = { has_deposit = no } }	
	ai_weight = { 
		modifier = { 
			add = 1000 
			planet = { has_planet_flag = fortify_planet }
		}
	}
}

building_fortress = {
	#building defines
	tags = { fortress }
	is_listed = yes
	defense_armies = 5
	protects_from_bombardment = yes	
	planetary_ftl_inhibitor = yes
	base_buildtime = 180
	cost = { minerals = 500 }
	required_resources = { energy = 4 }
	#requirements and upgrade
	potential = { conditions_stronghold = yes }
	allow = { requires_building_capital_2 = yes }
	prerequisites = { "tech_global_defense_grid" }
	upgrades = { building_fortress }
	#resource output and modifiers
	produced_resource_trigger = {
		modifier = { #this is the base building output using vanilla stats
			overhauled_building_content_enabled = no
			resources = { unity = 2 }
		}
		modifier = { #this is the base building output using overhauled stats
			overhauled_building_content_enabled = yes
			resources = { unity = 2 }
		}		
	}		
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_content_enabled = no
		}
		modifier = { planet_unrest_add = -50 }
	}	
	triggered_planet_modifier = { 
		potential = { 
			overhauled_building_content_enabled = yes
			planet_is_ringworld = yes
		}
		modifier = { planet_unrest_add = -50 }
	}

	ai_allow = { tile = { has_deposit = no } }	
	ai_weight = { 
		modifier = { 
			add = 1000 
			planet = { has_planet_flag = fortify_planet }
		}
	}
}