###global flag checks
#flags used by mods using the engine
planets_enhanced_enabled = { OR = { has_global_flag = planets_enhanced_active has_global_flag = planets_enhanced_beta_active } }
planetary_diversity_enabled = { has_global_flag = planetary_diversity_active }
new_worlds_enabled = { has_global_flag = cgm_new_worlds_enabled }
cgm_new_worlds_enabled = { has_global_flag = cgm_new_worlds_enabled }
###function flags
same_class_terraforming_enabled = { has_global_flag = same_class_terraforming_enabled }
cgm_terraforming_overhaul_enabled = { has_global_flag = terraforming_overhaul_enabled }
#compatibility flags - used to check other mods
real_space_enabled = { has_global_flag = has_real_space_mod }
real_space_stellar_expedition_enabled = { has_global_flag = has_stellar_expedition_mod }
real_space_astrogeology_enabled = { has_global_flag = has_astrogeology_mod }
wilderness_enabled = { has_global_flag = has_wilderness_mod }

deposit_and_blocker_threshold_limit = { 
	OR = { 
		AND = {
			planet_size > 19
			NOT = { 
				num_pops > 12
			}	
			count_tile = {
				limit = { has_blocker = yes }
				count < 6
			}
		}
		AND = {
			planet_size > 15
			planet_size < 19
			NOT = { 
				num_pops > 10
			}						
			count_tile = {
				limit = { has_blocker = yes }
				count < 5
			}
		}
		AND = {
			planet_size > 10
			planet_size < 16
			NOT = { 
				num_pops > 8
			}										
			count_tile = {
				limit = { has_blocker = yes }
				count < 4
			}
		}
		AND = {
			planet_size < 11
			NOT = { 
				num_pops > 5
			}										
			count_tile = {
				limit = { has_blocker = yes }
				count < 3
			}
		}
	}	
}	

###Terraforming triggers

has_regular_vanilla_planet_modifier = {
	OR = {
		has_modifier = hazardous_weather
		has_modifier = dangerous_wildlife
		has_modifier = weak_magnetic_field
		has_modifier = strong_magnetic_field
		has_modifier = unstable_tectonics
		has_modifier = tidal_locked
		has_modifier = chthonian_planet
		has_modifier = asteroid_impacts
		has_modifier = extensive_moon_system
		has_modifier = carbon_world
		has_modifier = wild_storms
		has_modifier = low_gravity
		has_modifier = high_gravity
		has_modifier = mineral_rich
		has_modifier = ultra_rich
		has_modifier = mineral_poor
		has_modifier = titanic_life
		has_modifier = asteroid_belt
		has_modifier = natural_beauty
		has_modifier = atmospheric_aphrodisiac
		has_modifier = atmospheric_hallucinogen
		has_modifier = lush_planet
		has_modifier = bleak_planet
		has_modifier = irradiated_planet
	}
}	

### General Triggers

is_gas_giant_moon = { has_planet_flag = gas_giant_moon }

is_presapient_pop = {
	OR = {
		is_species_class = PRE_FUN
		is_species_class = PRE_MOL
		is_species_class = PRE_ART
		is_species_class = PRE_AVI
		is_species_class = PRE_REP
		is_species_class = PRE_MAM
	}
}	

is_arthropoid = {
	OR = {	
		is_species_class = PRE_ART
		is_species_class = ART
	}
}
is_mammalian = {
	OR = {
		is_species_class = PRE_MAM
		is_species_class = MAM
	}
}	

is_avian = {
	OR = {
		is_species_class = PRE_AVI
		is_species_class = AVI
	}
}

is_reptilian = {
	OR = {
		is_species_class = PRE_REP
		is_species_class = REP
	}
}

is_fungoid = {
	OR = {
		is_species_class = PRE_FUN
		is_species_class = FUN
	}
}

is_molluscoid = {
	OR = {
		is_species_class = PRE_MOL
		is_species_class = MOL
	}
}

is_humanoid = {
	is_species_class = HUM	
}

is_plantoid = {
	is_species_class = PLANT	
}

regular_star_system = {
	planet = { 
		solar_system = {
			any_planet = {
				NOR = {
					has_planet_flag = system_star_2
					has_planet_flag = system_star_3
				}
			}	
		}		
	}	
}

binary_star_system = {
	planet = { 
		solar_system = {
			any_planet = {
				has_planet_flag = system_star_2
				NOT = {	has_planet_flag = system_star_3	}
			}	
		}		
	}	
}

ternary_star_system = {
	planet = { 
		solar_system = {
			any_planet = {
				has_planet_flag = system_star_3
			}	
		}		
	}	
}