#Script to run after completing a terraforming project

# Uninhabitable scripts
remove_uninhabitable_modifiers = {
	# Clean up existing modifiers
	if = {
		limit = { has_modifier = terraforming_candidate }
		remove_modifier = terraforming_candidate
	}
	if = {
		limit = { has_modifier = detox_candidate }
		remove_modifier = detox_candidate
	}
	if = {
		limit = { has_modifier = defrost_candidate }
		remove_modifier = defrost_candidate
	}
	if = {
		limit = { has_modifier = atmosphere-thin }
		remove_modifier = atmosphere-thin
	}
	if = {
		limit = { has_modifier = atmosphere-dense }
		remove_modifier = atmosphere-dense
	}
	if = {
		limit = { has_modifier = atmosphere-greenhouse }
		remove_modifier = atmosphere-greenhouse
	}
	if = {
		limit = { has_modifier = atmosphere-airless }
		remove_modifier = atmosphere-airless
	}
	if = {
		limit = { has_modifier = extremophile_environment }
		remove_modifier = extremophile_environment
	}
	if = {
		limit = { has_modifier = geological_activity }
		remove_modifier = geological_activity
	}
	if = {
		limit = { has_modifier = stable_dual_moon_system }
		remove_modifier = stable_dual_moon_system
	}
	if = {
		limit = { has_modifier = exploitable_planetoid }
		remove_modifier = exploitable_planetoid
	}
	if = {
		limit = { has_modifier = scorched_planetoid }
		remove_modifier = scorched_planetoid
	}
	if = {
		limit = { has_modifier = ice_planetoid }
		remove_modifier = ice_planetoid
	}
	if = {
		limit = { has_modifier = ringed_planet }
		remove_modifier = ringed_planet
	}
	if = {
		limit = { has_modifier = shallow_water_world }
		remove_modifier = shallow_water_world
	}
	if = {
		limit = { has_modifier = shallow_ammonia_world }
		remove_modifier = shallow_ammonia_world
	}
}

# Habitable scripts
remove_habitable_modifiers = {
	# Clean up existing modifiers
	if = {
		limit = { has_modifier = lithosphere-oceanic }
		remove_modifier = lithosphere-oceanic
	}
	if = {
		limit = { has_modifier = lithosphere-continental }
		remove_modifier = lithosphere-continental
	}
	if = {
		limit = { has_modifier = lithosphere-uniform }
		remove_modifier = lithosphere-uniform
	}
	if = {
		limit = { has_modifier = hydrosphere-water_pelagic }
		remove_modifier = hydrosphere-water_pelagic
	}
	if = {
		limit = { has_modifier = hydrosphere-ammonia_pelagic }
		remove_modifier = hydrosphere-ammonia_pelagic
	}
	if = {
		limit = { has_modifier = hydrosphere-water_abundant }
		remove_modifier = hydrosphere-water_abundant
	}
	if = {
		limit = { has_modifier = hydrosphere-ammonia_abundant }
		remove_modifier = hydrosphere-ammonia_abundant
	}
	if = {
		limit = { has_modifier = hydrosphere-water_limited }
		remove_modifier = hydrosphere-water_limited
	}
	if = {
		limit = { has_modifier = hydrosphere-ammonia_limited }
		remove_modifier = hydrosphere-ammonia_limited
	}
	if = {
		limit = { has_modifier = hydrosphere-water_frozen }
		remove_modifier = hydrosphere-water_frozen
	}
	if = {
		limit = { has_modifier = hydrosphere-water_dark }
		remove_modifier = hydrosphere-water_dark
	}
	if = {
		limit = { has_modifier = hydrosphere-negligible }
		remove_modifier = hydrosphere-negligible
	}
	if = {
		limit = { has_modifier = hydrosphere-toxic }
		remove_modifier = hydrosphere-toxic
	}
	if = {
		limit = { has_modifier = biosphere-barren }
		remove_modifier = biosphere-barren
	}
	if = {
		limit = { has_modifier = biosphere-sparse }
		remove_modifier = biosphere-sparse
	}
	if = {
		limit = { has_modifier = biosphere-primal }
		remove_modifier = biosphere-primal
	}
	if = {
		limit = { has_modifier = biosphere-aquatic }
		remove_modifier = biosphere-aquatic
	}
	if = {
		limit = { has_modifier = biosphere-diverse }
		remove_modifier = biosphere-diverse
	}
	if = {
		limit = { has_modifier = biosphere-dense }
		remove_modifier = biosphere-dense
	}
	if = {
		limit = { has_modifier = biosphere-exotic }
		remove_modifier = biosphere-exotic
	}
	if = {
		limit = { has_modifier = biosphere-submerged }
		remove_modifier = biosphere-submerged
	}
	if = {
		limit = { has_modifier = atmosphere-optimal }
		remove_modifier = atmosphere-optimal
	}
	if = {
		limit = { has_modifier = atmosphere-marginal }
		remove_modifier = atmosphere-marginal
	}
	if = {
		limit = { has_modifier = atmosphere-toxic }
		remove_modifier = atmosphere-toxic
	}
}

check_for_terraforming_special_cases = {
	# MARS
	if = {
		limit = { is_planet_class = "orbit_wasteland" has_planet_flag = "planet_mars" }
		set_planet_entity = { entity = atw_desolate_mars_entity picture = biome_barren }
	}
	if = {
		limit = { is_planet_class = "orbit_adapted" has_planet_flag = "planet_mars" }
		set_planet_entity = { entity = atw_dry_mars_entity picture = biome_adapted_dry }
	}
	# EUROPA
	if = {
		limit = { is_planet_class = "orbit_geocoral" has_planet_flag = "moon_europa" }
		set_planet_entity = { entity = gd_aquatic_cold_planet_01_entity picture = biome_aquatic_cold }
	}
	# VENUS
	if = {
		limit = { is_planet_class = "orbit_geocoral" has_planet_flag = "planet_venus" }
		set_planet_entity = { entity = atw_dry_venus_planet_01_entity picture = biome_aquatic_dry }
	}
}