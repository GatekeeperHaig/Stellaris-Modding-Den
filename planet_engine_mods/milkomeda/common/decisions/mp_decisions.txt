# Starchart Project


decision_star_chart = {
	icon = decision_star_chart
	owned_planets_only = yes

	enactment_time = 720
	resources = {	
		category = decisions
		cost = {
			influence = 50
			energy = 720
		}
	}
	potential = {
		solar_system = {
			OR = {
				orbits_ideal_star = yes
				orbits_hot_star = yes
			}
			NOT = { 
				solar_system = {
					any_system_planet = { has_modifier = star_charted }
				}
			}
		}
	}
	
	effect = {
	  add_modifier = {
		modifier = star_charted
		days = -1
	  }
	  hidden_effect = {
		custom_tooltip = decision_star_chart_custom
		solar_system = {
			if = {
				limit = {
					NOT = { has_star_flag = star_system_charted }
					OR = { 
							lane_attraction_level_1 = yes # Single yellow star systems, or some binaries which include low-mass dwarf stars will only spawn 1 new star
							lane_attraction_level_2 = yes # Higher mass single star systems (like White stars), or binaries and trinaries of suficient combined mass will attract up to 2 new stars
							lane_attraction_level_3 = yes # Even higher mass stars (like Blue giants or Red Supergiants) or multi-star systems with giant stars will attract up to 3 new stars
						}
				}
				# Spawn first neighbor star system
				random_list = {
					5 = { # Cold lifeless red dwarf system
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_01"
						}
					}
					3 = { # Stable red dwarf system
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_02"
						}
					}
					1 = { # Ancient red dwarf system - Tomb world present
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_03"
						}
					}
					2 = { # Habitable red dwarf system - Retinal world present
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_04"
						}
					}
					2 = { # Habitable red dwarf system - Tidally-locked world present
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_05"
						}
					}
					2 = { # Habitable red dwarf system - Geothermal world present
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "red_dwarf_init_06"
						}
					}
					4 = { # Degenerate lifeless system
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "white_dwarf_init_01"
						}
					}
					2 = { # Degenerate lifeless system - Glacial world present orbiting a brown dwarf
						spawn_system = {
							min_distance = 10
							max_distance = 10
							max_jumps = 0
							initializer = "white_dwarf_init_02"
						}
					}
				}
				if = {
					limit = {
						OR = { 
							lane_attraction_level_2 = yes
							lane_attraction_level_3 = yes
						}
					}
					# Spawn second neighbor star system
					random_list = {
						5 = { # Cold lifeless red dwarf system
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_01"
							}
						}
						3 = { # Stable red dwarf system
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_02"
							}
						}
						1 = { # Ancient red dwarf system - Tomb world present
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_03"
							}
						}
						2 = { # Habitable red dwarf system - Retinal world present
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_04"
							}
						}
						2 = { # Habitable red dwarf system - Tidally-locked world present
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_05"
							}
						}
						2 = { # Habitable red dwarf system - Geothermal world present
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "red_dwarf_init_06"
							}
						}
						4 = { # Degenerate lifeless system
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "white_dwarf_init_01"
							}
						}
						2 = { # Degenerate lifeless system - Glacial world present orbiting a brown dwarf
							spawn_system = {
								min_distance = 10
								max_distance = 10
								max_jumps = 0
								initializer = "white_dwarf_init_02"
							}
						}
						3 = { # Do nothing
							
						}
					}
					if = {
						limit = { lane_attraction_level_3 = yes }
						# Spawn third neighbor star system
						random_list = {
							5 = { # Cold lifeless red dwarf system
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_01"
								}
							}
							3 = { # Stable red dwarf system
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_02"
								}
							}
							1 = { # Ancient red dwarf system - Tomb world present
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_03"
								}
							}
							2 = { # Habitable red dwarf system - Retinal world present
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_04"
								}
							}
							2 = { # Habitable red dwarf system - Tidally-locked world present
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_05"
								}
							}
							2 = { # Habitable red dwarf system - Geothermal world present
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "red_dwarf_init_06"
								}
							}
							4 = { # Degenerate lifeless system
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "white_dwarf_init_01"
								}
							}
							2 = { # Degenerate lifeless system - Glacial world present orbiting a brown dwarf
								spawn_system = {
									min_distance = 10
									max_distance = 10
									max_jumps = 0
									initializer = "white_dwarf_init_02"
								}
							}
							6 = { # Do nothing
								
							}
						}
					}
				}
				
				set_star_flag = star_system_charted # So it cant be charted again in case there are two or more colonies in the system
			}
		}
	  }
	}
	
	ai_weight = { # AI should use this in developed colonies I hope
		weight = 10
		modifier = {
			factor = 0
			num_pops < 15
		}
		modifier = {
			factor = 2.5
			from = { has_tradition = tr_discovery_adopt }
		}
	}
}
